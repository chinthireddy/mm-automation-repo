*** Settings ***
Resource          ../../../Keywords/super.txt

*** Test Cases ***
ATC 104 Verify submenu_ items Under Help_ menu for District Admin
    [Documentation]    ATC 104-Verify whether respective information is displayed when we click on the each sub menu item under the "Help" menu.
    ...
    ...    Step1 : Login as District Admin.
    ...
    ...    Step2 : Click on help menu.
    ...
    ...    Step3 : Select the Quick tips, and validate the Quick tips window,functionality of email suppot,contact us and Terms and conditions.
    ...
    ...    Step4 : Select the Live chat from helpmenu, engagement window should be displayed.
    ...
    ...    Step5 : Select the browser test from help menu,desired window should be open.
    [Tags]    DISTRICT_ADMIN_1    HELP_SUBMENU    MEDIUM
    Pass Execution If    ${isDemoQURL}    'demoque1.mysatori.com' does not contain 'Help' menu for the District Admin role.
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${dAdmin_ID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${dAdmin_Password}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    Comment    Login to wizard application with District admin credentials.
    ${Login_Status}=    LoginToWizardApp    ${dAdmin_ID}    ${dAdmin_Password}
    Run Keyword If    ${Login_Status}==False    Fail    The user is not able to login with valid credentials.
    comment    Mys-4471 :Enhancement Alert message has been removed from application
    Comment    ${enhancementAlert}=    Run Keyword And Return Status    Wait Until Element Is Visible    ${common.window.Enhancements}    ${TimeOut}
    Comment    Run Keyword If    ${enhancementAlert}    Wait And Click Element    ${common.windowEnhancements.alertOkBtn}
    Comment    validate guided help tool tip in home page
    Comment    ${Guided tool tip}    Run Keyword And Return Status    Wait For Element Visible    //div[@class='guidedHelpTooltipFooter']/div[contains(text(),'Hide Guided Help')]    5s
    Comment    Run Keyword If    ${Guided tool tip}    Wait And Click Element    //div[@class='guidedHelpTooltipFooter']/div[contains(text(),'Hide Guided Help')]
    Comment    Validate the functionality of Quick Tips window.
    Validate The Sub Menus Under Help Menu    ${link.home.quickTips}    ${header.home.help.quickTipsWindowClose}
    Comment    Validate the functionality of 'Email Support'.
    Validate The Sub Menus Under Help Menu    ${link.home.emailSupport}    ${button.howCanWeHelpYou.close}
    Comment    Validate the functionality of 'Contact Us'.
    Validate The Sub Menus Under Help Menu    ${link.home.contactUs}    ${button.contactUsDlg.close}
    Comment    Validate the functionality of 'Terms and conditions'.
    Validate The Sub Menus Under Help Menu    ${link.home.termsAndConditions}    ${header.help.CloseTermsAndConditionDlg}
    Wait And Click Element    ${button.home.help}
    Comment    Verify the LiveChat link in Help menu
    Comment    MYS-2696 : Updated script to perform looped actions till the live chat link get clicked.
    : FOR    ${itr}    IN RANGE    0    15
    \    ${livechat_Link_status}    Wait For Element Visible    ${link.help.LiveChat}    5s
    \    ${isLivechat_clickable}    Run Keyword If    ${livechat_Link_status}    Run Keyword And Return Status    Click On Element    ${link.help.LiveChat}
    \    ...    ELSE    Set Variable    False
    \    Run Keyword If    '${isLivechat_clickable}'!='True'    Wait And Click Element    ${button.home.help}
    \    Continue For Loop If    '${isLivechat_clickable}'=='False'
    \    Sleep    2s
    \    @{windowNames}=    Get Window Titles
    \    ${windowNames}=    Set Variable    @{windowNames}
    \    Comment    Select the Engagemet window from help menu.
    \    ${bStatus}=    Select the desired window    ${windowNames}    Customer Chat
    \    Exit For Loop If    '${bStatus}'=='True'
    Run Keyword If    ${bStatus}==False    Fail    Captcha window should be displayed
    Select Window    Mentoring Minds
    Focus    ${button.home.help}
    Wait And Click Element    ${button.home.help}
    Comment    Verify the Browser Test link in Help menu
    Wait And Click Element    ${button.help.browserTest}
    Sleep    15s
    @{windowNames}=    Get Window Titles
    ${windowNames}=    Set Variable    @{windowNames}
    Comment    Select the engagement window when select on browser test.
    ${bStatus}=    Select the desired window    ${windowNames}    Mentoring Minds
    Run Keyword If    ${bStatus}==False    Fail    The Engagement Window is not able to open.
    [Teardown]    Stop Application

ATC105-Verify the users are imported using “Import Template”
    [Documentation]    ATC 105-Verify whether the district admin can uploadstudents data using the downloaded template.
    ...
    ...    Step1 : Login as District Admin.
    ...
    ...    Step2 : Click on import users.
    ...
    ...    Step3 : select "Yes,Im ready to import."
    ...
    ...    Step4 : To select the file and upload csv file.
    ...
    ...    Step5 : Verify whether the district admin can uploadstudents data using the downloaded template or not.
    [Tags]    DISTRICT_ADMIN_2    VERIFY_IMPORT_USERS_WITH_TEMPLATE    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${DistrictAdminUid}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${DistrictAdminPwd}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    Comment    Login to wizard appliation with District Admin credentials.
    ${loginStatus}    LoginToWizardApp    ${DistrictAdminUid}    ${DistrictAdminPwd}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    ${impUsersMsg}    Set Variable    Import Users Functionality Failed
    Comment    To create CSV file using MS excel file to import students.
    ${sheetName}    Set Variable If    ${isDemoQURL}    DemoQStudentDetails    StudentDetails
    Create Csv File Using Ms Excel File    ${Upload Users Teamplate}    ${Import Users Template}    ${sheetName}
    Comment    To Upload Students from CSV using import template.
    ${uploadStatus}    Upload Students From CSV    ${Upload Users Teamplate}
    Run Keyword If    '${uploadStatus}'!='True'    Fail    ${impUsersMsg}
    Set Test Message    ${impUsersMsg}
    [Teardown]    Stop Application

ATC106-Verify whether Template is downloaded
    [Documentation]    ATC 106-Verify whether the template is downloaded properly with all the headers of the student data or not.
    ...
    ...    Step1 : Login as district admin.
    ...
    ...    Step2 : Navigating to import users page.
    ...
    ...    Step3 : Select "No,I want to download".
    ...
    ...    Step4 : Get default download path and Verify whether the template is downloaded properly with all the headers of the student data or not.
    [Tags]    DISTRICT_ADMIN_3    VERIFY_TEMPLATE_DOWNLOADED    MEDIUM
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${DistrictAdminUid}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${DistrictAdminPwd}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    Comment    Login to wizard application with District admin credentials.
    ${loginStatus}    LoginToWizardApp    ${DistrictAdminUid}    ${DistrictAdminPwd}
    Run Keyword If    ${loginStatus}    Set Test Message    District Admin-${DistrictAdminUid} logged in.
    ...    ELSE    Fail    Login failed with District Admin-${DistrictAdminUid}
    Comment    Navigating to Import users page
    Wait And Click Element    ${button.home.ImportUsers}
    ${importWindowStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    //span[@id='downloadImportUsersTemplateBtn']//span[contains(text(),'Download an import template now.')]    ${TimeOut}
    Run Keyword If    ${importWindowStatus}==True    Wait And Click Element    //span[@id='downloadImportUsersTemplateBtn']//span[contains(text(),'Download an import template now.')]
    Comment    To get default download path to import users template file.
    ${defaultDownloadPath}    Get Default Download Path    import_users_template.csv
    Remove File    ${defaultDownloadPath}
    Screenshot.Take Screenshot    Downloading.png
    Wait Until Created    ${defaultDownloadPath}    ${Delay}
    Comment    Verify whether template is downloaded or not
    File Should Exist    ${defaultDownloadPath}    The Import Template is not downloaded
    Comment    Verify whether the all the expected student headers are displayed in it or not.
    comment    MYS-4381 :Label name of the tag is changed from tag to Class Label
    ${Exp_Template_Headers_List}    Create List    User ID    Password    First Name    Middle Name    Last Name
    ...    Grade Level    Role    School    Class Label    ${EMPTY}    ${EMPTY}
    ...    DIRECTIONS FOR PREPARING DATA FOR EACH COLUMN OF THIS FILE
    ${Template_Headers_List}    Get Csv File Row Values Into List    ${defaultDownloadPath}    1
    Run Keyword And Continue On Failure    Lists Should Be Equal    ${Exp_Template_Headers_List}    ${Template_Headers_List}
    Remove File    ${defaultDownloadPath}
    [Teardown]    Stop Application

ATC108 Create Student user from Management
    [Documentation]    ATC 108-Verify whether the district admin is able to add a student through management or not.
    ...    Verify whether the newly created student is displayed in the users table or not.
    ...
    ...    Step1 : Login as district admin.
    ...
    ...    Step2 : Select the management.
    ...
    ...    Step3 : Click on Add button from " All users".
    ...
    ...    Step4 : Enter all details in new user window and click on save button.
    ...
    ...    Step5 :Verify whether the district admin is able to add a student through management or not.
    ...
    ...    Step6 : Verify whether the newly created student is displayed in the users table or not.
    [Tags]    DISTRICT_ADMIN_4    MANAGEMENT_ADD_STUDENT    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${uniqueVal}    GetUniqueValue    Student
    ${studentdetails}    Create Dictionary    User Name    ${uniqueVal}    Password    ${uniqueVal}pwd    First Name
    ...    ${uniqueVal}Fn    Middle Name    ${uniqueVal}MN    Last Name    ${uniqueVal}LN    Grade Level
    ...    2
    ${stdLastName}    Get From Dictionary    ${studentdetails}    Last Name
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    Comment    Login to wizard application with District Admin credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    ...    ELSE    Set Test Message    The user is able to login successfully.
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Select The School Name    ${selectingSchool}
    Comment    To navigate to Management page
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    Add a Student from the Mangement page.
    AddStudent    ${studentdetails}
    Comment    Verify whether newly added student is displayed in the users table or not.
    Wait And Click Element    ${text.management.search}
    Input Text    ${text.management.search}    ${stdLastName}
    ${rowNo}    Select The Record In Table    ${table.users}    Last Name    ${stdLastName}    False
    Run Keyword If    '${rowNo}'=='0'    Fail    Added User ${stdLastName} is not displayed in the Users list
    [Teardown]    Stop Application

ATC109 Create School Admin from Management
    [Documentation]    Verify whether the district admin is able to add a school admin through management or not.
    ...    Verify whether the newly created school admin is displayed in the users table or not.
    ...
    ...    Step1 : Login as district admin.
    ...
    ...    Step2 : Select the management.
    ...
    ...    Step3 : Click on Add button from " All users".
    ...
    ...    Step4 : Enter all details of school admin in new user window and click on save button.
    ...
    ...    Step5 :Verify whether the district admin is able to add a school admin through management or not.
    ...
    ...    Step6 : Verify whether the newly created school admin is displayed in the users table or not.
    [Tags]    DISTRICT_ADMIN_5    MANAGEMENT_ADD_SCHOOL_ADMIN    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${testData}    GetUniqueValue    Sa
    ${schoolAdminFN}    Set Variable    schoolAdminFN${testData}
    ${schoolAdminLN}    Set Variable    schoolAdminLN${testData}
    ${schoolAdminUID}    Set Variable    qa4mme+${testData}@gmail.com
    ${schoolAdminPWD}    Set Variable    qa4mme+${testData}
    ${role}    Set Variable    SchoolAdmin
    ${mandatoryList}=    Create List    ${schoolAdminFN}    ${schoolAdminLN}    ${schoolAdminUID}    ${schoolAdminPWD}
    Comment    Login to wizard application with District Admin credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    ...    ELSE    Set Test Message    The user is able to login successfully.
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Select The School Name    ${selectingSchool}
    Comment    Navigating to Management page
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    Enter details of school admin.
    Enter User Details    ${mandatoryList}    \    \    \    \    ${role}
    Comment    wait and click on save button
    Wait And Click Element    ${button.newUser.oK}
    Wait Until Element is Invisible    ${button.newUser.oK}
    Comment    Verify whether newly added School Admin is displayed in the users table or not.
    Wait And Click Element    ${text.management.search}
    Input Text    ${text.management.search}    ${schoolAdminLN}
    ${rowNo}    Select The Record In Table    ${table.users}    Last Name    ${schoolAdminLN}    False
    Run Keyword If    '${rowNo}'=='0'    Fail    Added User ${schoolAdminLN} is not displayed in the Users list
    [Teardown]    Stop Application

ATC110 Create District Admin from Management
    [Documentation]    Verify whether the district admin is able to add a district admin through management or not.
    ...    Verify whether the newly created district admin is displayed in the users table or not.
    ...
    ...    Note: Create a district admin with "District Admin" login details for validating the edit functionality with school admin login details.
    [Tags]    DISTRICT_ADMIN_6    MANAGEMENT_ADD_DISTRICT_ADMIN    HIGH
    Comment    Create a district admin with "District Admin" login details for validating the edit functionality with school admin login details.
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPassword}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${DAdminDetails}    Get Ms Excel Row Values Into Dictionary Based On Key    ${PrerequisitesFilePath}    DistrictAdminPrerequisties    DistrictAdmin
    ${DistrictAdminFN}    Get From Dictionary    ${DAdminDetails}    FirstName
    ${DistrictAdminLN}    Get From Dictionary    ${DAdminDetails}    LastName
    ${DistrictAdminUid}    Get From Dictionary    ${DAdminDetails}    UserName
    ${DistrictAdminPwd}    Get From Dictionary    ${DAdminDetails}    Password
    ${role}    Set Variable    DistrictAdmin
    ${mandatoryList}    Create List    ${DistrictAdminFN}    ${DistrictAdminLN}    ${DistrictAdminUid}    ${DistrictAdminPwd}
    Comment    Login with valid District Admin credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPassword}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    ...    ELSE    Set Test Message    The user is able to login successfully.
    comment    Mys-4471 :Enhancement Alert message has been removed from application
    Comment    ${enhancementAlert}=    Run Keyword And Return Status    Wait Until Element Is Visible    ${common.window.Enhancements}    ${TimeOut}
    Comment    Run Keyword If    ${enhancementAlert}    Wait And Click Element    ${common.windowEnhancements.alertOkBtn}
    Comment    Select the ${preSchoolName}.
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Select The School Name    ${selectingSchool}
    Comment    Navigate to Management page and then Select the School Admin frame.
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    Enter details of new user and Click on Ok button.
    Enter User Details    ${mandatoryList}    \    \    \    \    ${role}
    Wait And Click Element    ${button.newUser.oK}
    Wait Until Element is Invisible    ${button.newUser.oK}
    Comment    Verfiy newly created user details find in Users table.
    Wait And Click Element    ${text.management.search}
    Input Text    ${text.management.search}    ${DistrictAdminLN}
    ${rowNo}    Select The Record In Table    ${table.users}    Last Name    ${DistrictAdminLN}    False
    Run Keyword If    '${rowNo}'=='0'    Fail    Added User ${districtAdminLN} is not displayed in the Users list
    ${userStatus}    Verify Values In Table    ${table.users}    Last Name    ${DistrictAdminLN}
    Run Keyword Unless    ${userStatus}    Fail    Added User ${districtAdminLN} is not displayed in the Users list
    Set Global Variable    ${preDistrictAdmin2Details}    ${DAdminDetails}
    Set Global Variable    ${preDistrictAdmin2Status}    True
    [Teardown]    Stop Application

ATC113 Verify whether multiple roles are created using Add functionality
    [Documentation]    ATC 113-Verify whetherdistrict admin can create multiple roles (Teacher & School Admin) user or not.
    ...
    ...    Step1 : Login as district admin.
    ...
    ...    Step2 : Navigate to management page.
    ...
    ...    Step3 : Add different users from management page(Teacher & School Admin).
    ...
    ...    Step4 : Verify whetherdistrict admin can create multiple roles (Teacher & School Admin) user or not.
    [Tags]    DISTRICT_ADMIN_8    MANAGEMENT_MULTIPLE_ROLES_CREATION    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${testData}    GetUniqueValue    MR
    ${userFN}    Set Variable    FN${testData}
    ${userLN}    Set Variable    LN${testData}
    ${userUID}    Set Variable    qa4mme+${testData}@gmail.com
    ${userPWD}    Set Variable    qa4mme+${testData}
    ${mandatoryList}=    Create List    ${userFN}    ${userLN}    ${userUID}    ${userPWD}
    Comment    Login to wizard application with District Admin credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    ${loginStatus}    Set Test Message    District Admin-${districtAdminUserID} logged in.
    ...    ELSE    Fail    Login failed with District Admin-${districtAdminUserID}
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Select The School Name    ${selectingSchool}
    ${roles}    Create List    Instructor    SchoolAdmin
    ${rolesCount}    Get Length Of List    ${roles}
    Run Keyword If    '${loginStatus}'!='True'    Fail and Capture Screenshot    Invalid Credentials
    ...    ELSE    Set Test Message    User able to loggedin to the application
    Comment    To navigate to Management page
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    To enter desired user details.
    Enter User Details    ${mandatoryList}
    : FOR    ${role}    IN    @{roles}
    \    ${roleStatus}    Set Variable    newUserRole${role}
    \    Click Element    //input[@name='newUserRole${role}']/parent::div/following-sibling::label[contains(@for,'newUser')]
    Wait And Click Element    ${button.newUser.oK}
    Comment    Verify whether the multiple roles are created or not.
    Table Column Values Sorting    ${table.users}    Created    descend
    Comment    To verify values in table using last name.
    ${bStatus}    Verify Values In Table    ${table.users}    Last Name    ${userLN}
    Run Keyword Unless    ${bStatus}    Fail    Added User ${userLN} is not displayed in the Users list
    Comment    To Get Matched Row Values From Table using last name.
    ${rowValues}    Get Matched Row Values From Table    ${table.users}    Last Name    ${userLN}    False
    ${roleName}    Get From Dictionary    ${rowValues}    Role
    Log    ${roleName}
    ${rolesInTable}    Split String    ${roleName}    ,
    Should Be Equal As Strings    ${roleName}    Teacher,School Admin
    [Teardown]    Stop Application

ATC116Verify Sign Out for District Admin
    [Documentation]    ATC 116-Verify whether the district admin can able to signout of the application properly or not.
    ...
    ...    Step1 : Login as district admin.
    ...
    ...    Step2 : Click on signout button.
    ...
    ...    Step3 : Verify whether the district admin can able to signout of the application properly or not.
    [Tags]    DISTRICT_ADMIN_9    HOME_SIGNOUT    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${DistrictAdminUid}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${DistrictAdminPwd}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    Comment    Login to wizard application with District Admin credentials.
    ${loginStatus}    LoginToWizardApp    ${DistrictAdminUid}    ${DistrictAdminPwd}
    Run Keyword If    ${loginStatus}    Set Test Message    District Admin-${DistrictAdminUid} logged in.
    ...    ELSE    Fail    Login failed with District Admin-${DistrictAdminUid}
    Comment    Signout from application.
    ${signoutStatus}    SignOut
    Run Keyword Unless    ${signoutStatus}    Fail    The login page is not displayed when we click on the signout button
    [Teardown]    Stop Application

ATC119 Verify a Class is added in 10 Sec
    [Documentation]    ATC 119-Verify whether a newly created class is displayed with in 10s or not.
    ...
    ...    Step1 : Login as district admin.
    ...
    ...    Step2 : Navigate to management page.
    ...
    ...    Step3 : Click on add button in classes/groups.
    ...
    ...    Step4 : Enter the class name, discription and click on save button.
    ...
    ...    Step5 : \ Verify whether a newly created class is displayed with in 10s or not.
    [Tags]    DISTRICT_ADMIN_10    MANAGEMENT_CREATE_CLASS    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${DistrictAdminUid}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${DistrictAdminPwd}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${className}    Get Unique Value    DataClass
    ${description}    Set Variable    Added by QA
    Comment    Login to wizard application with disrict admin credentials.
    ${loginStatus}    LoginToWizardApp    ${DistrictAdminUid}    ${DistrictAdminPwd}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Select The School Name    ${selectingSchool}
    Comment    To navigating to Management page.
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Wait And Click Element    ${button.newGroup.Add}
    Wait Until Element Is Visible    ${text.newClass.Name}    ${Delay}
    Comment    To enter the classname in text field
    Enter Text In Text Field    ${text.newClass.Name}    ${className}
    Comment    To enter the class discription in text filed
    Enter Text In Text Field    ${text.newGroup.Description}    ${description}
    Comment    wait and click on save button
    Wait And Click Element    ${button.newGroup.Ok}
    Wait Until Element Is Visible    ${table.classesAndGroups}//td[text()='${className}']    10s    Newly added class ${className} is not displayed within 10 sec in Class List
    [Teardown]    Stop Application

ATC120 Verify a Student is added in 10 Sec
    [Documentation]    ATC120-Verify whether newly created student is displayed with in 10 s or not.
    ...
    ...    Step1 : Login as district admin.
    ...
    ...    Step2 : Navigate to management page.
    ...
    ...    Step3 : Click on add button in All users.
    ...
    ...    Step4 : Enter the user name,teacher and discription and click on save button.
    ...
    ...    Step5 : \ Verify whether newly created student is displayed with in 10 s or not.
    [Tags]    DISTRICT_ADMIN_11    MANAGEMENT_CREATE_STUDENT    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${DistrictAdminUid}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${DistrictAdminPwd}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${random}=    Get Random Number In Given Range    1    10000
    ${role}    Set Variable    Student
    ${uniqueVal}    GetUniqueValue    Student
    ${studentdetails}    Create Dictionary    User Name    ${uniqueVal}    Password    ${uniqueVal}pwd    First Name
    ...    ${uniqueVal}Fn    Middle Name    ${uniqueVal}MN    Last Name    LN    Grade Level
    ...    2
    ${studentLName}    Get From Dictionary    ${studentdetails}    Last Name
    Comment    Login to wizard application with Disrict Admin credentials.
    ${loginStatus}    LoginToWizardApp    ${DistrictAdminUid}    ${DistrictAdminPwd}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Select The School Name    ${selectingSchool}
    Comment    To navigating to Management page.
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}    ${Delay}
    Comment    To add a Student from Management page.
    AddStudent    ${studentdetails}
    ${studentStatus}    Verify Values In Table    ${table.users}    Last Name    ${studentLName}
    Capture Page Screenshot And Log    ${OUTPUTDIR}
    Run Keyword If    ${studentStatus}==False    Fail    The newly added user is not shown in the 'Users' table.
    [Teardown]    Stop Application

ATC125 Verify District Admin creation with using 0 times Reg Code
    [Documentation]    ATC 125-Verify whether district admin is not created using district registration code " DADMIN-000000" or not.
    ...
    ...    Step1 : Open the browser to login page.
    ...
    ...    Step2 : Click on newuser link.
    ...
    ...    Step3 : Select district admin role.
    ...
    ...    Step4 : Enter zip code and select school name.
    ...
    ...    Step5 : Enter email ID,password,first name,last name,select title name and enter registration code " DADMIN-000000".
    ...
    ...    Step6 : Verify whether district admin is not created using district registration code " DADMIN-000000" or not.
    [Tags]    DISTRICT_ADMIN_12    NEW_USER_CREATE_DISTRICT_ADMIN_NON_REUSABLE_ZIPCODE    HIGH
    ${districtAdminDetails}    Get Ms Excel Row Values Into Dictionary Based On Key    ${PrerequisitesFilePath}    ATC125    DistrictAdmin
    Comment    To Open browser to login page
    OpenBrowserToLoginPage
    Comment    Verify whether district admin is created using district registration code " DADMIN-000000" or not.
    ${districtName}    Set Variable If    ${isDemoQURL}    ${demoQPreDistrictName}    ${preDistrictName}
    ${districtZipCode}    Set Variable    76008
    Comment    Click on 'NewUser' button.
    Wait And Click Element    ${button.login.newUser}
    Comment    Creating a 'DistrictAdmin'.
    Select Role in Create Account    ${districtAdmin}
    ${districtadminSchoolName}    Run Keyword If    "${districtName}"=="${EMPTY}"    Set Variable    ${preDistrictName}
    ...    ELSE    Set Variable    ${districtName}
    ${sheetName}=    Set Variable If    ${isDemoQURL}    STAAR mysdb_m3    CCS
    ${filePath}    Set Variable    ${daRegistrationCodesFile}
    Validate The Step Precondition    ${label.adminSignUp.zipCodeDlgMessage}    zip code.    The zip code step was not displayed in District Admin Registration process.
    ${zipCode}=    Run Keyword If    "${districtZipCode}"=="${EMPTY}"    Newuser.Get Zipcode For School    ${filePath}    ${sheetName}    ${districtadminSchoolName}
    ...    ELSE    Set Variable    ${districtZipCode}
    ${role}    Set Variable    admin
    Enter Zip Code And Select School    ${zipCode}    ${role}    ${districtadminSchoolName}
    ${spinnerStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${common.spinner.loadingIcon}
    ${loadingIconInvisibleStatus}    Run Keyword If    ${spinnerStatus}    Run Keyword And Return Status    Wait Until Element is Invisible    ${common.spinner.loadingIcon}
    ${districtAdminUid}    Get From Dictionary    ${districtAdminDetails}    UserName
    ${districtAdminPwd}    Get From Dictionary    ${districtAdminDetails}    Password
    ${districtAdminFName}    Get From Dictionary    ${districtAdminDetails}    FirstName
    ${districtAdminLName}    Get From Dictionary    ${districtAdminDetails}    LastName
    Enter Text In Text Field    ${text.adminSignUp.firstName}    ${districtAdminFName}
    Enter Text In Text Field    ${text.adminSignUp.lastName}    ${districtAdminLName}
    Enter Text In Text Field    ${text.adminSignUp.email}    ${districtAdminUid}
    Enter Text In Text Field    ${text.adminsignup.ConfirmEmail}    ${districtAdminUid}
    TypeCharactertoTextBox    ${text.adminSignUp.password}    ${districtAdminPwd}
    TypeCharactertoTextBox    ${text.adminSignUp.confirmPassword}    ${districtAdminPwd}
    Comment    Select Job Title from job List.
    Select DropDown Values    ${dropdown.adminSignUp.jobTitleDrpDwn}    //table[@id='adminSignUpDlg-jobTitle_menu']//tr
    Wait And Click Element    //input[@id='adminSignUpDlg-subscribe']
    Wait And Click Element    ${button.signUp.next}
    Validate The Step Precondition    ${label.adminSignUp.adminRegCodeDlgMessage}    Administrator Registration Code below.    The "Enter the Administrator Registration Code below" step was not displayed in District Admin Registration process.
    ${statusOfRegistration}=    Enter DA or SA Registration Code    DADMIN-000000
    ${alert}=    Get Text    //div[@class='dijitToasterContent' and contains(text(),'Invalid registration code.')]
    ${bStatus}=    String Should Contain    ${alert}    Invalid registration code.
    Run Keyword Unless    ${bStatus}    Fail    Invalid registration code. alert message should be dispalyed
    [Teardown]    Stop Application

ATC126 Verify District Admin creation with using reusable Reg Code
    [Documentation]    ATC126-Verify whether we are able to create multiple district admins with the reusable registration code "DADMIN-999999"
    ...
    ...    Step1 : Open the browser to login page.
    ...
    ...    Step2 : Click on newuser link.
    ...
    ...    Step3 : Select district admin role.
    ...
    ...    Step4 : Enter zip code and select school name.
    ...
    ...    Step5 : Enter email ID,password,first name,last name,select title name and enter registration code "DADMIN-999999"
    ...
    ...    Step6 : Verify whether we are able to create multiple district admins with the reusable registration code "DADMIN-999999"
    [Tags]    DISTRICT_ADMIN_13    NEW_USER_CREATE_DISTRICT_ADMIN_REUSABLE_ZIPCODE    HIGH
    ${DAdminDetails}    Get Ms Excel Row Values Into Dictionary Based On Key    ${PrerequisitesFilePath}    ATC126_1    DistrictAdmin
    Comment    To open browser to login page
    OpenBrowserToLoginPage
    Comment    To create new district admin with "DADMIN-999999" registration code.
    ${districtName}    Set Variable If    ${isDemoQURL}    ${demoQPreDistrictName}    ${preDistrictName}
    ${DAStatus}    Run Keyword And Return Status    Create New District Admin    ${DAdminDetails}    DADMIN-999999    \    ${districtName}
    Run Keyword If    ${DAStatus}!=True    Fail    Failed to Create the District Admin with Registration code DADMIN-999999
    Comment    Signout from the application page.
    ${signoutStatus}    SignOut
    Run Keyword Unless    ${signoutStatus}    Go To    ${WizardURL}
    ${DAdminDetails}    Get Ms Excel Row Values Into Dictionary Based On Key    ${PrerequisitesFilePath}    ATC126_2    DistrictAdmin
    Comment    To create new district admin using reusable registration code.
    ${DAStatus}    Run Keyword And Return Status    Create New District Admin    ${DAdminDetails}    DADMIN-999999    \    ${districtName}
    Comment    Verify whether we are able to create multiple district admins with the reusable registration code "DADMIN-999999"
    Run Keyword If    ${DAStatus}!=True    Fail    Failed to Create the District Admin with Registration code DADMIN-999999
    [Teardown]    Stop Application

ATC 158 Verify whether district admin can delete diff. roles like Student,SA,SA and Teacher,SchoolAdmin.
    [Documentation]    ATC158-Verify whether district can able to delete Student, SchoolAdmin, SchoolAdmin and Teacher,Teacher roles.
    ...
    ...    Step1 : Login as district admin.
    ...
    ...    Step2 : To Navigate to management page.
    ...
    ...    Step3 : Add student,school admin, district admin and SchoolAdmin and Teacher roles.
    ...
    ...    Step4 : To \ delete student,school admin, district admin and SchoolAdmin and Teacher roles.
    ...
    ...    Step5 : Try to add teacher role from management page,then "Teacher accounts can only be created using the registration process." alert message should be displayed.
    ...
    ...    Step6 : Verify whether district can able to delete Student, SchoolAdmin, SchoolAdmin and Teacher,Teacher roles or not.
    [Tags]    DISTRICT_ADMIN_14    MANAGEMENT_DELETE_DIFFERENT_ROLES    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${testData}    GetUniqueValue    user
    ${userFN}    Set Variable    FN${testData}
    ${userLN}    Set Variable    LN${testData}
    ${userUID}    Set Variable    qa4mme+${testData}@gmail.com
    ${userPWD}    Set Variable    qa4mme+${testData}
    ${userStatusList}    Create List    true
    ${teacherRole}    Set Variable    Instructor
    ${schoolAdminRole}    Set Variable    SchoolAdmin
    ${roles}    Create List    ${teacherRole}    ${schoolAdminRole}
    ${rolesCount}    Get Length Of List    ${roles}
    ${mandatoryList}=    Create List    ${userFN}    ${userLN}    ${userUID}    ${userPWD}
    comment    Login to Wizard application with DistrictAdmin credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Select The School Name    ${selectingSchool}
    Comment    Navigating to Management page
    Navigate To Management Page
    Wait And Select Frame    iframeSchoolAdmin
    ${role_List}    Create List    ${roles}    Student    SchoolAdmin    DistrictAdmin    Teacher
    : FOR    ${each_Role}    IN    @{role_List}
    \    ${uniqueVal}    GetUniqueValue    qa4mme+DeleteTest
    \    comment    To add different roles from management table.
    \    Add Role From Management    FN${uniqueVal}    LN${uniqueVal}    ${uniqueVal}    Password${uniqueVal}    ${each_Role}
    \    ...    \    5
    \    Wait Until Element is Invisible    ${button.newUser.oK}
    \    ${status}    Verify Values In Table    ${table.users}    Last Name    LN${uniqueVal}
    \    Run Keyword And Continue On Failure    Run Keyword If    ${status}==False    Fail    The new user with ${each_Role} role not added.
    \    comment    To delete all created roles from the Record.
    \    Run Keyword If    ${status}    Delete The Record From table    ${table.users}    Last Name    LN${uniqueVal}
    \    ...    User
    \    Comment    Sleep    10s
    \    Comment    Verify whether district admin is able to delete the Student,SchoolAdmin,DistrictAdmin users.
    \    ${status}    Verify Values In Table    ${table.users}    Last Name    LN${uniqueVal}
    \    Run Keyword And Continue On Failure    Run Keyword If    ${status}==True    Fail    The new user with ${each_Role} role was not deleted from users table.
    Comment    ${role_List}    Create List    Teacher
    Comment    : FOR    ${each_Role}    IN    @{role_List}
    Comment    \    ${uniqueVal}    GetUniqueValue    ${each_Role}
    Comment    \    ${rolelist}    Create List    ${each_Role}
    Comment    \    Comment    To add Teacher role from management.
    Comment    \    Add Role From Management    FN${uniqueVal}    LN${uniqueVal}    ${uniqueVal}    Password${uniqueVal}
    ...    ${rolelist}
    Comment    ${alertStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    alertMessage    ${TimeOut}
    Comment    Run Keyword If    '${alertStatus}'!='True' and '${each_Role}'=='Teacher'    Fail    The Teacher role added ,This is not an expected behaviour.
    Comment    Wait And Click Element    ${button.login.AlertMsg.Ok}
    Comment    Wait And Click Element    ${button.newUser.Cancel}
    Comment    Enter user details to add new role (Teacher,schooladmin).
    Comment    Enter User Details    ${mandatoryList}
    Comment    : FOR    ${role}    IN    @{roles}
    Comment    \    ${roleStatus}    Set Variable    newUserRole${role}
    Comment    \    Wait And Click Element    //input[@name='newUserRole${role}']/parent::div/following-sibling::label[contains(@for,'newUser')]
    Comment    Wait And Click Element    ${button.newUser.oK}
    Comment    Wait Until Element is Invisible    ${button.newUser.oK}
    Comment    ${bStatus}    Verify Values In Table    ${table.users}    Last Name    ${userLN}
    Comment    Run Keyword Unless    ${bStatus}    Fail    Added User ${userLN} is not displayed in the Users list
    Comment    comment    To delete the new role from the table.
    Comment    Delete The Record From table    ${table.users}    Last Name    ${userLN}    User
    Comment    ${bRoleStatus}=    Verify Values In Table    ${table.users}    Last Name    ${userLN}
    Comment    Run Keyword If    ${bRoleStatus}    Fail    The role is not deleted.
    [Teardown]    Stop Application

ATC 159 Verify whether district admin can Export & Print users of complete school
    [Documentation]    DistrictAdmin-Verify whether district admin can Export & Print \ users of complete school.
    ...
    ...
    ...    Step1 : login as DistrictAdmin.
    ...
    ...    Step2 : Select the School.
    ...
    ...    Step3 : Export & print students in school from management.
    ...
    ...    Step4 : Verify whether district admin can export users of complete school or not.
    [Tags]    DISTRICT_ADMIN_15    MANAGEMENT_EXPORT_PRINT_SCHOOL_USERS    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    ${SchoolName}    Set Variable    ${selectingSchool}
    ${cDate}    Get Time
    ${cDate}    Split String    ${cDate}
    ${cDate}    Set Variable    @{cDate}[0]
    ${prefixFileName}    Set Variable    Users_${cDate}
    ${fileDir}    Get Default Download Path
    comment    Validate PrefixFilename and fileDirectory are exits in particular location.
    ${FilepathStatus}    Remove Files with PrefixFileName    ${fileDir}    ${prefixFileName}
    Run Keyword If    ${FilepathStatus}    Remove File    ${fileDir}${prefixFileName}
    comment    Login to Wizard application with Districtadmin credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    ${loginStatus}    Set Test Message    DistrictAdmin- ${districtAdminPWD} logged in.
    ...    ELSE    Fail    Login failed for the DistrictAdmin- ${districtAdminPWD}
    Select The School Name    ${SchoolName}
    Comment    Navigate to Management page.
    Navigate To Management Page
    Comment    Select the school admin frame.
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Wait And Click Element    ${button.userDetails.ExportAndprint}    ${TimeOut}
    Comment    To print all users data of whole school
    Export or Print All Users Data    print
    ${title}    Get Window Titles
    List Should Contain Value    ${title}    Print Users    Print Users window is not displayed
    Select Window By Title    Print Users
    Wait Until Element Is Visible    ${table.schoolAdmin.printUsersTable}    ${TimeOut}
    Select Window By Title    @{title}[0]
    Reload Page
    Comment    To navigate Management page
    Navigate To Management Page
    Comment    Select the school admin frame.
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Wait And Click Element    ${button.userDetails.ExportAndprint}    ${TimeOut}
    Comment    To export all users data of whole school
    ${lengthOFList}    OperatingSystem.Count Files In Directory    ${fileDir}
    Export or Print All Users Data    export
    Sleep    15s
    Comment    To save exported file
    Save Exported File    ${fileDir}    ${lengthOFList}
    Comment    Verify Exported File with PrefixFileName
    ${expFileName}    Exported File with PrefixFileName    ${fileDir}    ${prefixFileName}
    Run Keyword If    '${expFileName}'=='${EMPTY}'    Fail    File not downloaded
    [Teardown]    Stop Application

ATC161 Verify whether Alert message is displayed when District admin creates multiple roles.
    [Documentation]    ATC161 : Verify whether Alert message is displayed when Districtl admin creates multiple roles like (Student and Teacher).
    ...
    ...    Step1 : Login with District Admin Credentials.
    ...
    ...    Step2 : Navigate to Management page by clicking on "Management" button.
    ...
    ...    Step3 : Select the Entered District admin record in table of "All Users".
    ...
    ...    Step4 : Click on Edit of Details,Select Roles Student,Teacher and School Admin Checkboxes.
    ...
    ...    Step5 : Click on Save button.
    ...
    ...    Step6 : Verify whether Alert message is displayed when District admin creates multiple roles like (Student and Teacher).
    [Tags]    DISTRICT_ADMIN_16    MANAGEMENT_VERIFY_NEW_USERS_WITH_NEGETIVE_ROLES_COMBINATION    CRITICAL
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserId}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPassword}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${uniqueValue}    GetUniqueValue    newuser
    ${DALName}    Set Variable    LN${uniqueValue}
    ${DAFName}    Set Variable    FN${uniqueValue}
    ${DAUid}    Set Variable    qa4mme+${uniqueValue}
    ${DAPwd}    Set Variable    ${uniqueValue}123
    Comment    Login into Applciation with District Admin Credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserId}    ${districtAdminPassword}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Select The School Name    ${selectingSchool}
    Comment    Navigate to the Management page.
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    ${role}=    Create List    Student    Instructor    SchoolAdmin    DistrictAdmin
    Comment    Check the Check boxes"Student,Teacher,School Admin".
    ${adminUserId}    Add Role From Management    ${DAFName}    ${DALName}    ${DAUid}    ${DAPwd}    ${role}
    Comment    Getting Text of Alert Mesaage and click on OK button of Alert.
    Wait Until Element Is Visible    ${text.Details.Alert}    ${TimeOut}
    ${alert}=    Get Text    ${text.Details.Alert}
    Wait And Click Element    ${button.Alert.OK}
    Comment    Verifing Alert contains the text "District Admins can only have the District Admin role".
    ${bStatus}=    String Should Contain    ${alert}    District Admins can only have the District Admin role
    Run Keyword If    ${bStatus}!=True    Fail    Alert "The following errors need resolved: District Admins can only have the District Admin role." is not displayed when selecting multiple roles from \ District Admin Management Page.
    [Teardown]    Stop Application

ATC162 Verify alert is displayed when district admin adds All roles from Management view
    [Documentation]    ATC 162-Verify whether alert is displayed as "School Admins can only have a teacher role.All other roles are not allowed." when district admin adds all the Student,Teacher and School Admin roles in " New User" window
    ...
    ...    Step1 : Login with District Admin credentials.
    ...
    ...    Step2 : Click on Management and then click on Add button.
    ...
    ...    Step3 : Enter FirstName,Last Name,Userid,Password.Check the Checkboxes Student,Teacher,School Admin.
    ...
    ...    Step4 : Verify whether alert is displayed as "School Admins can only have a teacher role.All other roles are not allowed." when click on save button.
    [Tags]    DISTRICT_ADMIN_17    MANAGEMENT_VERIFY_USER_CREATION_WITH_ALL_ROLES    CRITICAL
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserId}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPassword}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${role}    Set Variable    DistrictAdmin
    Comment    Login into Applciation with District Admin Credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserId}    ${districtAdminPassword}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    ${uniqueValue}    GetUniqueValue    newuser
    ${DALName}    Set Variable    LN${uniqueValue}
    ${DAFName}    Set Variable    FN${uniqueValue}
    ${DAUid}    Set Variable    qa4mme+${uniqueValue}
    ${DAPwd}    Set Variable    ${uniqueValue}123
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Select The School Name    ${selectingSchool}
    Comment    Navigating to Management.
    Navigate To Management Page
    Comment    Wait and select the iframe of District Admin.
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    ${role}=    Create List    Student    Instructor    SchoolAdmin
    Comment    Creating new 'School Admin' by Checking the Checkboxes 'Student,Teacher,School Admin' roles.
    ${adminUserId}    Add Role From Management    ${DAFName}    ${DALName}    ${DAUid}    ${DAPwd}    ${role}
    Comment    Getting Text of Alert Mesaage and click on OK button of Alert.
    Wait Until Element Is Visible    ${text.Details.Alert}    ${TimeOut}
    ${alert}=    Get Text    ${text.Details.Alert}
    Wait And Click Element    ${button.Alert.OK}
    Comment    Verifing Alert contains the text "Teachers can only have a teacher role. All other roles are not allowed. ".
    ${bStatus}=    String Should Contain    ${alert}    School Admins can only have a teacher role. All other roles are not allowed
    Run Keyword If    ${bStatus}!=True    Fail    Alert "The following errors need resolved: School Admins can only have a teacher role.All other roles are not allowed. . " is not displayed when selecting multiple roles from \ School Admin Management Page.
    [Teardown]    Stop Application

ATC163 Verify alert is displayed when district admin adds Student and Teacher roles from Management view.
    [Documentation]    ATC 163-Verify whether alert is displayed as "Teachers can only have a teacher role.All other roles are not allowed." when district admin adds Student and Teacher roles in " New User" window
    ...
    ...    Step1 : Login with District Admin credentials.
    ...
    ...    Step2 : Click on Management and then click on Add button.
    ...
    ...    Step3 : Enter FirstName,Last Name,Userid,Password.Check the Checkboxes Student,Teacher.
    ...
    ...    Step4 : Verify whether alert is displayed as "Teachers can only have a teacher role.All other roles are not allowed." \ when click on save button.
    [Tags]    DISTRICT_ADMIN_18    MANAGEMENT_VERIFY_NEW_USER_TEACHER_STUDENT_ROLES_COMBINATION    CRITICAL
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserId}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPassword}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${role}    Set Variable    DistrictAdmin
    Comment    Login into Applciation with District Admin Credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserId}    ${districtAdminPassword}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    ${uniqueValue}    GetUniqueValue    newuser
    ${DALName}    Set Variable    LN${uniqueValue}
    ${DAFName}    Set Variable    FN${uniqueValue}
    ${DAUid}    Set Variable    qa4mme+${uniqueValue}
    ${DAPwd}    Set Variable    ${uniqueValue}123
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Select The School Name    ${selectingSchool}
    Comment    Navigate to Management Page.
    Navigate To Management Page
    Comment    Wait and select the iframe of District Admin.
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    ${role}=    Create List    Student    Instructor
    Comment    Adding new user by checking the Check boxes"Student,Teacher,School Admin".
    ${adminUserId}    Add Role From Management    ${DAFName}    ${DALName}    ${DAUid}    ${DAPwd}    ${role}
    Comment    Getting Text of Alert Mesaage and click on OK button of Alert.
    Wait Until Element Is Visible    ${text.Details.Alert}    ${TimeOut}
    ${alert}=    Get Text    ${text.Details.Alert}
    Wait And Click Element    ${button.Alert.OK}
    Comment    Verifing Alert contains the text "Teachers can only have a teacher role. All other roles are not allowed. ".
    Comment    MYS-4709: Alert mesage is changed as per changes is application
    ${bStatus}=    String Should Contain    ${alert}    Teachers cannot have a Student role.
    Run Keyword If    ${bStatus}!=True    Fail    Alert "The following errors need resolved: Teachers can only have a teacher role. All other roles are not allowed. " is not displayed when selecting multiple roles from \ Teacher Management Page.
    [Teardown]    Stop Application

ATC 164 Verify the visibility of password when click on "Show Password" button
    [Documentation]    ATC 164-Verify whether password is displayed not more than 8 seconds when "Show Password" button is clicked for any user
    ...
    ...    Step1 : Login with District Admin credentials.
    ...
    ...    Step2 : Click on Management and then click on Add button.
    ...
    ...    Step3 : Select any record from All Users.
    ...
    ...    Step4 : Click on Show Password button and Verify whether password is displayed not more than 8 seconds.
    [Tags]    DISTRICT_ADMIN_19    MANAGEMENT_USER_DETAILS_SHOW_PASSWORD    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserId}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPassword}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${role}    Set Variable    DistrictAdmin
    Comment    Login into Applciation with District Admin Credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserId}    ${districtAdminPassword}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    ${uniqueValue}    GetUniqueValue    newuser
    ${DALName}    Set Variable    LN${uniqueValue}
    ${DAFName}    Set Variable    FN${uniqueValue}
    ${DAUid}    Set Variable    qa4mme+${uniqueValue}
    ${DAPwd}    Set Variable    ${uniqueValue}123
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Select The School Name    ${selectingSchool}
    Comment    Navigate to Management Page.
    Navigate To Management Page
    Comment    Wait and select the iframe of District Admin.
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    Selecting record from the All Users.
    ${adminUserId}    Add Role From Management    ${DAFName}    ${DALName}    ${DAUid}    ${DAPwd}    ${role}
    Wait Until Element is Invisible    ${button.newUser.oK}
    ${rowNo}    Select The Record In Table    ${table.users}    Last Name    ${DALName}
    Run Keyword If    ${rowNo}==0    Fail    The newelly added user is not visible in users table.
    Comment    Comment    Click on Edit button.
    Wait And Click Element    ${button.classesAndUsers.Edit}
    Comment    Click on Show Password button.
    Wait And Click Element    ${button.classesAndUsers.showPassword}
    Comment    Verifing that "Password" displays in 8s when click on show password button.
    Wait Until Element Is Visible    ${label.details.password}    8s    The password still in visible mode after clicking on "Show Password" button after 8 sec for corresponding user based last name.
    [Teardown]    Stop Application

ATC165 Verify whether district admin can change to another school by selecting from "School" dropdown
    [Documentation]    ATC165 - Verify whether district admin can change to another school by selecting from "School" dropdown
    ...
    ...    Step1 : Login to the Application with District Admin Crendentials.
    ...
    ...    Step2 : Click on Schools button,and Select random School name from dropdown.
    ...
    ...    Step3 : Verify whether district admin can change to another school by selecting from "School" dropdown
    [Tags]    DISTRICT_ADMIN_20    MANGEMENT_SWITCH_SCHOOLS    CRITICAL
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserId}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPassword}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    Comment    Login into Applciation with District Admin Credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserId}    ${districtAdminPassword}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    ${currentSchool}    Get Text    //div[@class='dashLink']/div[@class='headerLabelSchool']
    Comment    Select a school from the schools drop down
    Wait And Click Element    //div[@id='welcomeView']//span[text()='Schools']    ${TimeOut}    Schools
    ${bStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    //div[@id='menuSchoolsOptions']//ol[contains(@class,'menu-schools-options')]//a    10s
    Run Keyword If    ${bStatus}==False    Wait And Click Element    //div[@id='welcomeView']//span[text()='Schools']    ${TimeOut}    Schools
    ${schoolsList}    Get Matching Xpath Values    //ol[@class='menu-schools-options']//li    //a
    Log List    ${schoolsList}
    : FOR    ${school}    IN    @{schoolsList}
    \    ${schoolMatchStatus}    String Should Contain    ${school}    ${currentSchool}
    \    @{schoolNameCodeSperated}    Run Keyword If    '${schoolMatchStatus}'=='False'    Split String    ${school}    ${SPACE}(
    \    ${changingSchoolName}    Set Variable If    '${schoolMatchStatus}'=='False'    @{schoolNameCodeSperated}[0]
    \    Exit For Loop If    '${schoolMatchStatus}'=='False'
    ${bStatus}    Select The School Name    ${changingSchoolName}
    Run Keyword Unless    ${bStatus}    Fail    The specified school was not selected from schools dropdown.
    [Teardown]    Stop Application

ATC166 Verify whether error window is displayed when s invalid: User ID and Password or same userid and password are imported.
    [Documentation]    ATC 166-Verify whether error window is displayed as "Row 1 Column Password () is invalid: User ID and Password are equal." when we try to upload the student details with same userid and password with district admin role.
    ...
    ...    Step1 : Login as District admin.
    ...
    ...    Step2 : Navigate to import users page.
    ...
    ...    Step3 : Click on "Yes,i am ready to import".
    ...
    ...    Step4 : To upload the student details with same userid and password.
    ...
    ...    Step5 : Verify whether error window is displayed as "Row 1 Column Password () is invalid: User ID and Password are equal." when we try to upload the student details with same userid and password with district admin role.
    [Tags]    DISTRICT_ADMIN_21    VERIFY_IMPORT_USERS_INVALID_USERID_PASSWORD    CRITICAL
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    Login into Applciation with District Admin Credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword Unless    ${loginStatus}    Fail    The district admin - ${districtAdminUserID} is not able to login with valid credentials.
    Comment    Select a school from the schools drop down
    Select The School Name    ${selectingSchool}
    ${studentUserId}    GetUniqueValue    student
    ${studentDetails}    Create Dictionary    User ID    ${studentUserId}    Password    ${studentUserId}    First Name
    ...    studentfn    Middle Name    studentmn    Last Name    studentln    Grade Level
    ...    10    Role    student    School    ${selectingSchool}
    ${schoolDetails}    Create Dictionary    1    ${studentDetails}
    ${filePath}    Set Variable    ${EXECDIR}\\Automation_Testsuites\\TestData\\ATC166.csv
    Comment    Upload student data for the selected school with userid & password as same.
    ${uploadedFileStatus}    Create Csv File Using Dictionary Values    ${filePath}    ${schoolDetails}
    Upload Students From CSV    ${filePath}
    Remove File    ${filePath}
    Comment    Verify whether the import displays an error or not
    ${errorMsgStatus}    Run Keyword And Return Status    Should Be Equal As Strings    ${impUsersMsg}    ${EMPTY}
    Run Keyword If    ${errorMsgStatus}    Fail    The import is accepting the student details which have same userid and password.
    Comment    Verify whether the import students displays the expected error msg for student data with same userid and password.
    ${expectedErrMsg}    Set Variable    Password (${studentUserId}) is invalid: User ID and Password are equal
    ${errMsgStatus}    String Should Contain    ${impUsersMsg}    ${expectedErrMsg}
    Run Keyword Unless    ${errMsgStatus}    Fail    The expected error msg is "${expectedErrMsg}". But it displays ${impUsersMsg} msg.
    [Teardown]    Stop Application

ATC167 Verify error window is displayed for invalid Grade Level user.
    [Documentation]    ATC 167-Verify whether error window is displayed as "Row rowno. Column Grade Level (gradelevel) is invalid: Contains invalid characters." when we try to upload the student details with grade level other than "1-12 and k".
    ...
    ...    Step1 : Login as district admin.
    ...
    ...    Step2 :Navigate to import users page.
    ...
    ...    Step3 : To upload student details with invalid grade level(15).
    ...
    ...    Step4 : Verify whether error window is displayed as "Row rowno. Column Grade Level (gradelevel) is invalid: Contains invalid characters." when we try to upload the student details with grade level other than "1-12 and k".
    [Tags]    DISTRICT_ADMIN_22    VERIFY_IMPORT_INVALID_GRADE_USERS    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    Login into Applciation with District Admin Credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword Unless    ${loginStatus}    Fail    The district admin - ${districtAdminUserID} is not able to login with valid credentials.
    Comment    Select a school from the schools drop down
    Select The School Name    ${selectingSchool}
    ${student1UserId}    GetUniqueValue    student1
    ${student1Pwd}    GetUniqueValue    password
    comment    MYS-4363 updated test data fo password fields from static value to unique value
    ${student2UserId}    GetUniqueValue    student2
    ${student2Pwd}    GetUniqueValue    password
    ${student3UserId}    GetUniqueValue    student3
    ${student3Pwd}    GetUniqueValue    password
    ${studentDetails1}    Create Dictionary    User ID    ${student1UserId}    Password    ${student1Pwd}    First Name
    ...    student1fn    Middle Name    student1mn    Last Name    studen1tln    Grade Level
    ...    2    Role    student    School    ${selectingSchool}
    ${studentDetails2}    Create Dictionary    User ID    ${student2UserId}    Password    ${student2Pwd}    First Name
    ...    student2fn    Middle Name    student2mn    Last Name    studen2tln    Grade Level
    ...    k    Role    student    School    ${selectingSchool}
    ${studentDetails3}    Create Dictionary    User ID    ${student3UserId}    Password    ${student3Pwd}    First Name
    ...    student3fn    Middle Name    student3mn    Last Name    studen3tln    Grade Level
    ...    15    Role    student    School    ${selectingSchool}
    ${schoolDetails}    Create Dictionary    1    ${studentDetails1}    2    ${studentDetails2}    3
    ...    ${studentDetails3}
    ${filePath}    Set Variable    ${EXECDIR}\\Automation_Testsuites\\TestData\\ATC167.csv
    Comment    Upload invalid student grade level
    ${uploadedFileStatus}    Create Csv File Using Dictionary Values    ${filePath}    ${schoolDetails}
    Upload Students From CSV    ${filePath}
    Remove File    ${filePath}
    Comment    Verify whether the import displays an error or not
    ${errorMsgStatus}    Run Keyword And Return Status    Should Be Equal As Strings    ${impUsersMsg}    ${EMPTY}
    Run Keyword If    ${errorMsgStatus}    Fail    The import is accepting the student details which have same userid and password.
    ${expectedErrMsg}    Set Variable    Column Grade Level (15) is invalid: Grade level contains invalid characters.
    LOG    ${impUsersMsg}
    ${errMsgStatus}    String Should Contain    ${impUsersMsg}    ${expectedErrMsg}
    Run Keyword Unless    ${errMsgStatus}    Fail    The expected error msg is "${expectedErrMsg}". But it displays ${impUsersMsg} msg.
    [Teardown]    Stop Application

ATC 168 Verify whether error window is displayed with invalid User ID or same userid is imported.
    [Documentation]    ATC 168-The prerequisite for this test case is district admin should be created.
    ...    Verify whether an error message is displayed "Column User ID () is invalid: The user ID is already taken" when an district try to import student details with already existing userid.
    ...
    ...    Step1 : Login as District admin.
    ...
    ...    Step2 : Select school name.
    ...
    ...    Step3 : Navigate import users page.
    ...
    ...    Step4 : Try to import student details with already existing userid or same user id and same password.
    ...
    ...    Step5 : Verify whether an error message is displayed "Column User ID () is invalid: The user ID is already taken" when an district try to import student details with already existing userid or not.
    [Tags]    DISTRICT_ADMIN_23    VERIFY_IMPORT_USERS_INVALID_USERID    CRITICAL
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    Login into Applciation with District Admin Credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword Unless    ${loginStatus}    Fail    The district admin - ${districtAdminUserID} is not able to login with valid credentials.
    Comment    Select a school from the schools drop down
    Select The School Name    ${selectingSchool}
    ${student1UserId}    GetUniqueValue    student
    ${studentDetails1}    Create Dictionary    User ID    ${student1UserId}    Password    password123    First Name
    ...    ${student1UserId}    Middle Name    ${student1UserId}    Last Name    ${student1UserId}    Grade Level
    ...    2    Role    student    School    ${selectingSchool}
    ${studentDetails2}    Create Dictionary    User ID    ${student1UserId}    Password    password1234    First Name
    ...    ${student1UserId}    Middle Name    ${student1UserId}    Last Name    ${student1UserId}    Grade Level
    ...    2    Role    student    School    ${selectingSchool}
    ${schoolDetails}    Create Dictionary    1    ${studentDetails1}    2    ${studentDetails2}
    ${filePath}    Set Variable    ${EXECDIR}\\Automation_Testsuites\\TestData\\ATC168.csv
    Comment    Import student details with already existing userid.
    ${uploadedFileStatus}    Create Csv File Using Dictionary Values    ${filePath}    ${schoolDetails}
    Upload Students From CSV    ${filePath}
    Remove File    ${EXECDIR}\\Automation_Testsuites\\TestData\\ATC168.csv
    Comment    Verify whether the import displays an error or not
    Log    ${impUsersMsg}
    ${errorMsgStatus}    Run Keyword And Return Status    Should Be Equal As Strings    ${impUsersMsg}    ${None}
    Run Keyword If    ${errorMsgStatus}    Fail    The import is accepting the students who are having same userid.
    Comment    Verify whether it displays expected error message or not.
    ${expectedErrMsgUserIdTaken}    Set Variable    Column User ID (${student1UserId}) is invalid: This User ID is already taken
    ${errMsgIdTakenStatus}    String Should Contain    ${impUsersMsg}    ${expectedErrMsgUserIdTaken}
    Run Keyword If    '${errMsgIdTakenStatus}'!='True'    Fail    The displayed errormsg is not matching with the expected one.
    [Teardown]    Stop Application

ATC 169 Verify whether students are imported to different school
    [Documentation]    ATC 169-This testcases needs a prerequisite - District Admin.
    ...    Verifies whether the district admin is able to import different school students other than the selected one in the schools drop down.
    ...
    ...    Step1 : Login as district admin.
    ...
    ...    Step2 : Select the school from the schools dropdown menu.
    ...
    ...    Step2 : Navigate to import users page.
    ...
    ...    Step3 : click on "Yes,I am ready to import."
    ...
    ...    Step4 : Import different school students other than the selected one in the schools drop down.
    ...
    ...    Step5 : Verifies whether the district admin is able to import different school students other than the selected one in the schools drop down.
    [Tags]    DISTRICT_ADMIN_24    IMPORT_USERS_TO_SPECIFIC_SCHOOL    CRITICAL
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    Login into Applciation with District Admin Credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword Unless    ${loginStatus}    Fail    The district admin - ${districtAdminUserID} is not able to login with valid credentials.
    Comment    Select a school from the schools drop down
    ${currentSchool}    Get Text    //div[@class='dashLink']/div[@class='headerLabelSchool']
    Wait And Click Element    //div[@id='welcomeView']//span[text()='Schools']    ${TimeOut}    Schools
    ${bStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    //div[@id='menuSchoolsOptions']//ol[contains(@class,'menu-schools-options')]//a    10s
    Run Keyword If    ${bStatus}==False    Wait And Click Element    //div[@id='welcomeView']//span[text()='Schools']    ${TimeOut}    Schools
    ${schoolsList}    Get Matching Xpath Values    //ol[@class='menu-schools-options']//li    //a
    Log List    ${schoolsList}
    : FOR    ${school}    IN    @{schoolsList}
    \    ${schoolMatchStatus}    String Should Contain    ${school}    ${currentSchool}
    \    @{schoolNameCodeSperated}    Run Keyword If    '${schoolMatchStatus}'=='False'    Split String    ${school}    ${SPACE}(
    \    ${changingSchoolName}    Set Variable If    '${schoolMatchStatus}'=='False'    @{schoolNameCodeSperated}[0]
    \    Exit For Loop If    '${schoolMatchStatus}'=='False'
    Wait And Click Element    //div[@class='dashLink']/div[@class='headerLabelSchool']
    ${otherSchoolName}    Set Variable    ${changingSchoolName}
    ${student1UserId}    GetUniqueValue    student
    ${studentDetails}    Create Dictionary    User ID    ${student1UserId}    Password    password123    School
    ...    ${otherSchoolName}    First Name    ${student1UserId}fn    Middle Name    ${student1UserId}mn    Last Name
    ...    ${student1UserId}ln    Grade Level    2    Role    student
    ${schoolDetails}    Create Dictionary    1    ${studentDetails}
    ${filePath}    Set Variable    ${EXECDIR}\\Automation_Testsuites\\TestData\\ATC169.csv
    Comment    Import student details of the different school other than the selected one.
    ${uploadedFileStatus}    Create Csv File Using Dictionary Values    ${filePath}    ${schoolDetails}
    Upload Students From CSV    ${filePath}
    Remove File    ${EXECDIR}\\Automation_Testsuites\\TestData\\ATC169.csv
    Comment    Verify whether the import has been done sucessfully or not.
    Comment    MYS-3500 : Updated verification conditions for the error messages while importing users.
    ${errorMsgStatus}    String Should Contain    ${impUsersMsg}    No error message found while importing users.
    ${exceptionMsgStatus}    String Should Contain    ${impUsersMsg}    No Exception messages found while importing users.
    ${errorMsgStatus}    Evaluate    '${errorMsgStatus}'=='True' or '${exceptionMsgStatus}'=='True'
    Run Keyword Unless    ${errorMsgStatus}    Fail    The district admin is not able to import another school students when he selects a school from the schools drop down.
    [Teardown]    Stop Application

ATC172 Verify whether district admin can edit details of All Roles
    [Documentation]    ATC172 Verify whether district admin can edit details of All Roles
    ...
    ...    Precondition:"Student,Teacher,School Admin,District Admin,School Admin and Teacher " should be created.
    ...
    ...    Step1 : Login with valid District Admin credentials.
    ...
    ...    Step2 : Navigate to 'Management'.
    ...
    ...    step3 : Select the existing records of the roles " Student,Teacher,School Admin,District Admin,School Admin and Teacher" ,each role at a time.
    ...
    ...    Step4 : Click on Edit button and Enter Middle name and Click on save button.
    ...
    ...    Step5 : Get the value of the saved and displayed Middle name.
    ...
    ...    Step6 : Verify whether district admin can edit details of All Roles by comparing the entered Middle name and displayed middle name of the same Role of record.
    ...
    ...
    ...    If district admin Credentials are not available,use" Userid:qa4mme+da163827551000391@gmail.com
    ...    Pwd:test012345" for "http://b11test1.mentoringmindsonline.com".
    [Tags]    DISTRICT_ADMIN_25    MANAGEMENT_VERIFY_ALL_ROLES_EDIT_USER_DETAILS    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserId}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPassword}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    Login into Applciation with District Admin Credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserId}    ${districtAdminPassword}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    ${uniqueValue}    GetUniqueValue    newuser
    ${DAMName}    Set Variable    MN${uniqueValue}
    Comment    Select a school from the schools drop down
    ${bStatus}    Select The School Name    ${selectingSchool}
    Run Keyword Unless    ${bStatus}    Fail    The specified school was not selected from schools dropdown.
    Comment    Navigate to Management Page.
    Navigate To Management Page
    Comment    Wait and select the iframe of District Admin.
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    Creating List with "Student,Teacher,School Admin,District Admin,Teacher,School Admin". and Passing each value by using For loop.
    ${uniqueValue}    GetUniqueValue    newuser
    ${firstName}    Set Variable    LN${uniqueValue}
    ${lastName}    Set Variable    FN${uniqueValue}
    ${Userid}    Set Variable    qa4mme+${uniqueValue}
    ${Pwd}    Set Variable    ${uniqueValue}123
    @{roleNames}=    Create List    Student    Teacher    School Admin    Teacher,School Admin    District Admin
    : FOR    ${roleName}    IN    @{roleNames}
    \    Comment    "Created" column name is sorted in descending order.
    \    Table Column Sorting    ${table.users}    Created    descend
    \    Comment    Selecting The Record of Role "${roleName}".
    \    Select desired role of the record from Table    ${roleName}
    \    Wait And Click Element    ${button.classesAndUsers.Edit}
    \    Clear Text    ${text.userDetails.middleName}
    \    Input Text    ${text.userDetails.middleName}    ${DAMName}
    \    Comment    MYS-1239:Grade level is removed for teacher and higher roles.
    \    Run Keyword If    '${roleName}'=='Student'    Select DropDown Values    ${table.Management.userGradeArrowButton}    ${table.schoolAdmin.userGradeMenuItem}
    \    ${saveStatus}=    Verify Element Present    ${button.userDetails.Disabled.Save}
    \    Run Keyword If    ${saveStatus}    Clear Text    ${text.userDetails.middleName}
    \    Run Keyword If    ${saveStatus}    Input Text    ${text.userDetails.middleName}    ${DAMName}
    \    Click Element    ${button.Details.Save}
    \    ${middleName}=    Get Value    ${text.userDetails.middleName}
    \    Should Be Equal    ${middleName}    ${DAMName}    Entered Middle name and Middle name displayed after saving are different.
    \    Wait Until Element is Invisible    ${button.Details.Save}    ${TimeOut}
    [Teardown]    Stop Application

ATC 173 Distrcit Admin-Verify class code information is displayed when clicked on "Class Code"
    [Documentation]    ATC 173 Distrcit Admin-Verify class code information is displayed when clicked on "Class Code".
    ...
    ...    Step1 : Login with valid District Admin credentials.and Navigate to 'Management'.
    ...
    ...    Step2 : Create Class with Details and capture the classcode.
    ...
    ...    Step3 : Select the record in table of created classcode.
    ...
    ...    Step4 : Verify class code information is displayed when clicked on "Class Code".
    ...
    ...
    ...
    ...    If district admin Credentials are not available,use" Userid:qa4mme+da163827551000391@gmail.com
    ...    Pwd:test012345" for "http://b11test1.mentoringmindsonline.com".
    [Tags]    DISTRICT_ADMIN_26    MANAGEMENT_VERIFY_CLASS_CODE_INFO    MEDIUM
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserId}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPassword}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    Login into Applciation with District Admin Credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserId}    ${districtAdminPassword}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Comment    Navigate to Management Page.
    Navigate To Management Page
    Comment    Wait and select the iframe of District Admin.
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    ${className}    Get Unique Value    DataClass
    ${description}    Set Variable    Added by QA
    Wait And Click Element    ${button.newGroup.Add}
    Wait Until Element Is Visible    ${text.newClass.Name}    ${Delay}
    Enter Text In Text Field    ${text.newClass.Name}    ${className}
    Enter Text In Text Field    ${text.newGroup.Description}    ${description}
    Wait And Click Element    ${button.newGroup.Ok}
    Wait Until Element is Invisible    ${button.newGroup.Ok}    ${TimeOut}
    ${createdClassCode}=    Get Text    ${text.management.createdClassCode}
    Comment    Verifing newly added class is visible in 10s.
    Wait Until Element Is Visible    ${table.classesAndGroups}//td[text()='${createdClassCode}']    ${TimeOut}    Newly added class ${createdClassCode} \ is not displayed within 10 sec in Class List
    Table Column Sorting    ${table.classesAndGroups}    Created    descend
    Comment    Selecting The Record of Role "${roleName}".
    ${rowNo}    Select The Record In Table    ${table.classesAndGroups}    Name    ${className}
    Run Keyword If    ${rowNo}==0    Fail    The newelly added user is not visible in users table.
    ${classNameDisplayed}=    Get Value    ${text.newClass.Name}
    ${descriptionDisplayed}=    Get Value    ${text.newGroup.Description}
    Comment    Comparing "Entered classname and description" with "Displayed classname and description".
    Should Be Equal    ${className}    ${classNameDisplayed}    "${className},${classNameDisplayed}" are different
    Should Be Equal    ${description}    ${descriptionDisplayed}    "${description},${descriptionDisplayed}" are different
    [Teardown]    Stop Application

ATC 176 Verify whether district admin cannot create duplicate user id for All users
    [Documentation]    ATC 176 Verify whether district admin cannot create duplicate user id for All users
    ...
    ...    Precondition:"Student,Teacher,School Admin,District Admin,School Admin and Teacher " should be created.
    ...
    ...    Step1 : Login with valid District Admin credentials.and Navigate to 'Management'.
    ...
    ...    Step2 : Select the record from the All Users table of roles "Student,Teacher,School Admin,District Admin,School Admin and Teacher",and get their UserId of the each role at a time.
    ...
    ...    Step3 : Click on 'Add ' button of All users.
    ...
    ...    Step4 : Enter all details ,and enter Userid which we get.
    ...
    ...    Step5 : Verify whether district admin cannot create duplicate user id for All users when click on Save button.
    ...
    ...
    ...    If district admin Credentials are not available,use" Userid:qa4mme+da163827551000391@gmail.com
    ...    Pwd:test012345" for "http://b11test1.mentoringmindsonline.com".
    [Tags]    DISTRICT_ADMIN_27    MANAGEMENT_VERIFY_ALL_USERS_CREATION_WITH_DUPLICATE_USERID    CRITICAL
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserId}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPassword}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    Login into Applciation with District Admin Credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserId}    ${districtAdminPassword}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    ${uniqueValue}    GetUniqueValue    newuser
    ${lastName}    Set Variable    LN${uniqueValue}
    ${firstName}    Set Variable    FN${uniqueValue}
    ${userID}    Set Variable    qa4mme+${uniqueValue}
    ${password}    Set Variable    ${uniqueValue}123
    Comment    Select a school from the schools drop down
    ${bStatus}    Select The School Name    ${selectingSchool}
    Run Keyword Unless    ${bStatus}    Fail    The specified school was not selected from schools dropdown.
    Comment    Navigate to Management Page.
    Navigate To Management Page
    Comment    Wait and select the iframe of District Admin.
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    Creating List with "Student,Teacher,School Admin,District Admin,Teacher,School Admin". and Passing each value by using For loop.
    @{roleNames}=    Create List    Student    Teacher    School Admin    Teacher,School Admin    District Admin
    : FOR    ${roleName}    IN    @{roleNames}
    \    ${rolenme}=    Split String    ${roleName}    ,
    \    Comment    "Created" column name is sorted in descending order.
    \    Table Column Sorting    ${table.users}    Created    descend
    \    Run Keyword If    '${roleName}'!='Teacher,School Admin'    Select The Record In Table    ${table.users}    Role    ${roleName}
    \    Run Keyword If    '${roleName}'=='Teacher,School Admin'    Select The Record In Table    ${table.users}    Role    ${rolenme[0]}
    \    ${existedUserID}=    Get Value    ${text.classesAndUsers.Username}
    \    ${tempList}    Split String    ${existedUserID}    @
    \    ${existedUserID}=    Set Variable    @{tempList}[0]
    \    ${userID}    Set Variable    ${existedUserID}
    \    Comment    Adding ${roleName} from the new user window by clicking on Add button.
    \    Add Role From Management    ${firstName}    ${lastName}    ${userID}    ${password}    ${rolenme}
    \    Wait Until Element Is Visible    ${text.Details.Alert}    ${TimeOut}
    \    ${alert}=    Get Text    ${text.Details.Alert}
    \    Wait And Click Element    ${button.Alert.OK}
    \    Wait And Click Element    ${button.newUser.Cancel}
    \    Wait Until Element Is Visible    ${button.users.add}    ${TimeOut}    The Add button is not visible in the ${TimeOut}.
    \    ${id}=    Set Variable If    '${roleName}'=='Student'    User ID    email address
    \    ${bStatus}=    String Should Contain    ${alert}    This ${id} is already taken.
    \    Comment    MYS-3111 Fix and test the script: DISTRICT_ADMIN_27 We are able to create a teacher in managemnt page .The below functionaity is changed on this release
    \    Comment    ${teacherStatus}    Evaluate    '${roleName}'=='Teacher' or '${roleName}'=='Instructor'
    \    Comment    Run Keyword If    '${bStatus}'!='True' and '${teacherStatus}'!='True'    Fail    Alert "The ${id} entered is already taken. Please choose a different ${id}. " is not displayed when selecting roles and Student and Teacher and Click on Save button .
    \    Comment    Run Keyword If    '${teacherStatus}'=='True'    String Should Contain    ${alert}    Teacher accounts can only be created using the regisration process.
    [Teardown]    Stop Application

ATC177 Verify whether district admin cannot create duplicate class for a teacher
    [Documentation]    ATC177 \ Verify whether district admin cannot create duplicate class for a teacher
    ...
    ...    Step1 \ : Login with valid District Admin credentials.and Navigate to 'Management'.
    ...
    ...    Step2 : Create Class with Details and capture the classname.
    ...
    ...    Step3 : Create another class with same class name.
    ...
    ...    Step4 : Verify whether district admin cannot create duplicate class for a teacher.
    ...
    ...
    ...
    ...    If district admin Credentials are not available,use" Userid:qa4mme+da163827551000391@gmail.com
    ...    Pwd:test012345" for "http://b11test1.mentoringmindsonline.com".
    [Tags]    DISTRICT_ADMIN_28    MANAGEMENT_VERIFY_DUPLICATE_CLASS_CREATION    CRITICAL
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserId}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPassword}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    Login into Applciation with District Admin Credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserId}    ${districtAdminPassword}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Comment    Navigate to Management Page.
    Navigate To Management Page
    Comment    Wait and select the iframe of District Admin.
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    Get unique classname.
    ${className}    Get Unique Value    DataClass
    ${description}    Set Variable    Added by QA
    Wait And Click Element    ${button.newGroup.Add}
    Comment    Enter Class name,Description and click on OK.
    Wait Until Element Is Visible    ${text.newClass.Name}    ${Delay}
    Enter Text In Text Field    ${text.newClass.Name}    ${className}
    Enter Text In Text Field    ${text.newGroup.Description}    ${description}
    Wait And Click Element    ${button.newGroup.Ok}
    Comment    Verifing newly added class is visible in 10s.
    Wait Until Element Is Visible    ${table.classesAndGroups}//td[text()='${className}']    ${TimeOut}    Newly added class ${className} is not displayed within 10 sec in Class List
    Wait And Click Element    ${button.newGroup.Add}
    Comment    Enter Class name,Description and click on OK.
    Wait Until Element Is Visible    ${text.newClass.Name}    ${Delay}
    Enter Text In Text Field    ${text.newClass.Name}    ${className}
    Enter Text In Text Field    ${text.newGroup.Description}    ${description}
    Wait And Click Element    ${button.newGroup.Ok}
    Comment    Getting Text of Alert Mesaage and click on OK button of Alert.
    ${tooltipStatus}    Wait For Element Visible    ${label.signUp.toolTipText}    15s
    ${alertMsgStatus}    Verify Element Visible    ${text.Details.Alert}
    ${toolTipMsg}    Run Keyword If    ${tooltipStatus}    Get Text    ${label.signUp.toolTipText}
    ${alertMsg}    Run Keyword If    ${alertMsgStatus}    Get Text    ${text.Details.Alert}
    Run Keyword If    ${tooltipStatus}!=True and ${alertMsgStatus}!=True    Fail    Alert "Class name is not valid. " is not displayed when selecting roles and Student and Teacher and Click on Save button .
    Run Keyword If    ${tooltipStatus}    Should Be Equal As Strings    ${toolTipMsg}    Class name already exists.
    Run Keyword If    ${alertMsgStatus}    Should Be Equal As Strings    ${alertMsg}    Class name already exists.
    Run Keyword If    ${alertMsgStatus}    Wait And Click Element    ${button.Alert.OK}
    Comment    ${bStatus}=    String Should Contain    ${alert}    Class name is not valid.
    Comment    Run Keyword If    ${bStatus}!=True    Fail    Alert "Class name is not valid. " is not displayed when selecting roles and Student and Teacher and Click on Save button .
    [Teardown]    Stop Application

ATC 121 District Admin-Verify whether users are imported in 30 seconds
    [Documentation]    District Admin-Verify whether users are imported in 10 seconds
    ...
    ...    Step1 : Login as District Admin.
    ...
    ...    Step2 : Select School from schools dropdown.
    ...
    ...    Step3 : Click on Import users and upload CSV file.
    ...
    ...    Step4 : Verify whether users are imported in 10 seconds or not.
    [Tags]    DISTRICT_ADMIN_30    IMPORT_USERS_PERFORMANCE_TEST    MEDIUM
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserId}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPassword}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    ${sheetName}    Set Variable If    ${isDemoQURL}    DemoQStudentDetails    StudentDetails
    comment    Login to wizard application with District admin credentials
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserId}    ${districtAdminPassword}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    comment    Select the school from schools dropdown
    Select The School Name    ${selectingSchool}
    ${impUsersMsg}    Set Variable    Import Users Functionality Failed
    Create Csv File Using Ms Excel File    ${Upload Users Teamplate}    ${Import Users Template}    ${sheetName}
    comment    To upload students from CSV
    ${uploadStatus}    Upload Students From CSV    ${Upload Users Teamplate}
    ${uploadStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${label.importTemplate.importSuccessMsg}    ${TimeOut}
    Run Keyword If    '${uploadStatus}'!='True'    Fail    ${impUsersMsg}
    Set Test Message    ${impUsersMsg}
    [Teardown]    Stop Application

ATC 245 District Admin- Verify Alert message is displayed when selected another user without saving the existing user
    [Documentation]    ATC 245 District Admin- Verify Alert message is displayed when selected another user without saving the existing user
    ...
    ...    Step1 : Login with valid District Admin credentials.
    ...
    ...    Step2 : Click on management button.
    ...
    ...    Step3 : select the another record without saving the modified record.
    ...
    ...    Step4 : Verify whether alert is displayed or not
    [Tags]    DISTRICT_ADMIN_32    MANAGEMENT_VERIFY_ALERT_FOR_UNSAVED_USER_DETAILS    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${DistrictAdminUid}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${DistrictAdminPwd}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    Login into Application with District admin Credentials.
    ${loginStatus}    LoginToWizardApp    ${DistrictAdminUid}    ${DistrictAdminPwd}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Comment    Navigating to Management page.
    Navigate To Management Page
    Comment    Selecting the frame School Admin.
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    select the user, modified data and selecting another user without save
    Select desired role of the record from Table    Student
    Wait And Click Element    ${button.userDetails.edit}
    Wait Until Element Is Visible    ${text.classesAndUsers.Username}    ${TimeOut}
    Input Text    ${text.userDetails.middleName}    test1
    Comment    Select the desired record from table.
    Select desired role of the record from Table    School Admin
    Sleep    5s
    Comment    Verify the alert is displayed or not
    Comment    ${alertMsg}    Get Text    ${label.deleteClassOrGroup.promptMsg}
    Comment    Run Keyword If    "${alertMsg}"=="You have made changes to this user. Click OK to save your changes. Click Cancel to continue without saving."    Set Test Message    "You have made changes to this user. \ Click OK to save your changes. \ Click Cancel to continue without saving." alert is displayed.
    ...    ELSE    Fail    "You have made changes to this user. Click OK to save your changes. Click Cancel to continue without saving." alert is notdisplayed.
    [Teardown]    Stop Application

ATC 249 District Admin Verify Student is created by default With out selecting any role in the roles list.
    [Documentation]    ATC 249 District Admin Verify Student is created by default With out selecting any role in the roles list.
    ...
    ...    Step1 : Login as a District Admin.
    ...
    ...    Step2 : Add Student role from management,enter the all mandatory fields \ witout selecting the student checkbox.
    ...
    ...    Step3 : Verify Student is created by default With out selecting any role in the roles list or not.
    [Tags]    DISTRICT_ADMIN_35    MANAGEMENT_VERIFY_CREATE_USER_DEFAULT_ROLE    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${DistrictAdminUid}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${DistrictAdminPwd}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${testData}    GetUniqueValue    MR
    ${fName}    Set Variable    FN${testData}
    ${lName}    Set Variable    LN${testData}
    ${userId}    Set Variable    student${testData}
    ${password}    Set Variable    ${testData}
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    Login into Application with District admin Credentials.
    ${loginStatus}    LoginToWizardApp    ${DistrictAdminUid}    ${DistrictAdminPwd}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Comment    Navigating to Management page.
    Navigate To Management Page
    Comment    Selecting the frame School Admin.
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    ${newUserWindowStatus}=    Verify Element Visible    ${label.newUser.newUser}
    Wait And Click Element    ${button.users.add}
    Wait And Click Element    ${text.newUser.firstName}    ${TimeOut}
    Input Text    ${text.newUser.firstName}    ${fName}
    Input Text    ${text.newUser.lastName}    ${lName}
    Input Text    ${text.newUser.userId}    ${userId}
    Input Text    ${text.newUser.password}    ${password}
    Comment    To select the grade level from the drop down
    Select DropDown Values    ${table.gradeLevel.arrowButton}    ${table.grade.menuItem}    6
    Wait And Click Element    ${button.management.newUserSave}
    Comment    To sort the column value from the table based on 'Created' column.
    Table Column Values Sorting    ${table.users}    Created    descend
    Comment    To verify the role from the table using last name
    ${bStatus}    Verify Values In Table    ${table.users}    Last Name    ${lName}
    Run Keyword Unless    ${bStatus}    Fail    Added User ${lName} is not displayed in the Users list
    ${rowValues}    Get Matched Row Values From Table    ${table.users}    Last Name    ${lName}
    ${roleName}    Get From Dictionary    ${rowValues}    Role
    Log    ${roleName}
    [Teardown]    Stop Application

ATC 232 District Admin-Same UserID and Password are accepted while creating users in management window
    [Documentation]    ATC 232- Same UserID and Password are accepted while creating users in management window
    ...
    ...    Step1 : Try to create new user as district admin
    ...
    ...    Step2 : Enter same username and password.
    ...
    ...    Step3 : verify Same UserID and Password are accepted while creating users or not.
    [Tags]    DISTRICT_ADMIN_36    MANAGEMENT_VERIFY_CREATE_USER_SAME_PASSWORD_AND_USERID    CRITICAL
    ${uniqueValue}    GetUniqueValue    qa4mme+da
    ${districtAdminUid}    Set Variable    ${uniqueValue}@gmail.com
    ${daFN}    Set Variable    ${uniqueValue}_FN
    ${daLN}    Set Variable    ${uniqueValue}_LN
    ${RoleName}    Set Variable    DistrictAdmin
    Comment    Open browser to login page
    OpenBrowserToLoginPage
    ${kwStatus}    Set Variable    False
    Comment    Select 'NewUser'.
    Wait And Click Element    ${button.login.newUser}
    Comment    Creating a 'DistrictAdmin'.
    Select Role in Create Account    ${districtAdmin}
    ${dAdminSchoolName}    Set Variable If    ${isDemoQURL}    ${demoQPreDistrictName}    ${preDistrictName}
    ${sheetName}    Set Variable If    ${isDemoQURL}    STAAR mysdb_m3    CCS
    ${filePath}    Set Variable    ${daRegistrationCodesFile}
    ${zipCode}    Get Zipcode For School    ${filePath}    ${sheetName}    ${dAdminSchoolName}
    ${role}    Set Variable    admin
    doFillCommonRegistrationWizardDetails    ${role}    ${zipCode}    ${dAdminSchoolName}    ${daFN}    ${daLN}    ${districtAdminUid}
    ...    ${uniqueValue}
    Wait And Click Element    //input[@id='adminSignUpDlg-adminCode']
    Enter Text In Text Field    //input[@id='adminSignUpDlg-adminCode']    DADMIN-999999
    Wait And Click Element    ${button.signUp.next}
    ${bStatus}    Wait And Click Element    ${button.home.iAgree}
    Run Keyword If    ${bStatus}=='False'    Fail and Capture Screenshot    I Agree button wasn't displayed/clickable.
    ${bStatus}    Wait And Click Element    //div[contains(@id,'Congrats')]//button[normalize-space()='Log in']
    Run Keyword If    ${bStatus}=='False'    Fail and Capture Screenshot    Log in button wasn't displayed/clickable.
    Wait Until Element is Invisible    ${common.homepage.Loading}
    ${statusOfRegistration}    Validate User Login Details    ${daFN}    ${daLN}
    Wait Until Element Is Visible    //span[@id='welcomeName' and normalize-space()='Hi${SPACE}${daFN}']    2m    District Admin Home Page wasn't displayed even after waiting for 2 mins after registration process.
    Navigate To Management Page
    Select Frame    ${header.management.schoolAdminFrame}
    ${daUID}    Add Role From Management    ${daFN}    ${daLN}    ${uniqueValue}    ${uniqueValue}    ${RoleName}
    ${isAlert_Present}    Wait For Element Visible    ${label.login.AlertMsg}    5s
    Run Keyword If    '${isAlert_Present}'=='False'    Fail and Capture Screenshot    Failed to create a new District admin user with same credentials from management(using cred's created through registration process).
    [Teardown]    Stop Application

ATC 248- District Admin-Verify Grade level is going back to its default value after selecting the role.
    [Documentation]    ATC 248 \ District Admin-Verify Grade level is going back to its default value after selecting the role.
    ...
    ...
    ...    Step1 : Login as District Admin
    ...
    ...    Step2 : Try to add newuser (Student) from management page.
    ...
    ...    Step3 : Enter firstname,lastname,userID,password,select grade level and click on student check box.
    ...
    ...    Step4 : Verify Grade level is going back to its default value after selecting the role or not.
    [Tags]    DISTRICT_ADMIN_37    MANGEMENT_CREATE_USER_GRADE_RESET    MEDIUM
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${testData}    GetUniqueValue    MR
    ${fName}    Set Variable    FN${testData}
    ${lName}    Set Variable    LN${testData}
    ${userId}    Set Variable    student${testData}
    ${password}    Set Variable    pwd${testData}
    ${mandatoryList}=    Create List    ${fName}    ${lName}    ${userId}    ${password}
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    Login into Application with District admin Credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    ${Login_Status}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Comment    Navigating to management page
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    ${newUserWindowStatus}=    Verify Element Visible    ${label.newUser.newUser}
    Wait And Click Element    ${button.users.add}
    Wait And Click Element    ${text.newUser.firstName}    ${TimeOut}
    Input Text    ${text.newUser.firstName}    ${fName}
    Input Text    ${text.newUser.lastName}    ${lName}
    Input Text    ${text.newUser.userId}    ${userId}
    Input Text    ${text.newUser.password}    ${password}
    Comment    Select grade level from the drop down
    Select DropDown Values    ${table.gradeLevel.arrowButton}    ${table.grade.menuItem}    6
    Comment    Wait and click on student check box
    Wait And Click Element    ${checkbox.newUser.studentRole}
    Comment    Grade level is going back to its default value after selecting the role.
    ${chkBoxStatus}    Run Keyword And Return Status    Checkbox Should Be Selected    ${check.newUser.studentRole}
    Run Keyword Unless    ${chkBoxStatus}    Fail    The "Student" role checkbox is not selected
    ${bStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${table.gradelevel.red}    ${TimeOut}
    Run Keyword If    ${bStatus}    Fail    Grade Level value is changed to 'Grade Level' when check Student role.
    Wait Until Element Is Visible    ${label.newUser.gradeLevel.defaultSelectedValue}    ${TimeOut}
    ${gradelevelStatus}    Get Text    ${label.newUser.gradeLevel.defaultSelectedValue}
    ${bStaus}    String Should Contain    ${gradelevelStatus}    Grade Level
    Run Keyword If    ${bStaus}    Fail    "${gradelevelStatus}" is displayed as selected grade when "Student" role is selected
    [Teardown]    Stop Application

ATC 257 - Verify check box is selected or not for teacher role in roles list.
    [Documentation]    ATC 257-Verifies whether the respective role check box is marked or not for teacher role.
    ...
    ...    Step1 \ : Login with district admin credentials.
    ...
    ...    Step2 : Navigate to management page.
    ...
    ...    Step3 : Select the record with role teacher.
    ...
    ...    Step4 : Click on edit details of the teacher record.
    ...
    ...    Step5 : Verify whether any inappropriate check box is marked for the teacher role.
    ...
    ...    Step6 : Fail if the check boxes selection status is inappropriate.
    [Tags]    DISTRICT_ADMIN_39    MANAGEMENT_VERIFY_USER_DETAILS_CHECKBOX_STATUS    HIGH
    Run Keyword If    '${preScriptStatus}'=='False'    Fail    PreRequisite School Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    @{rolesList}    Create List    SchoolAdmin    DistrictAdmin    Student    Teacher
    Comment    Login into Application with District admin Credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Comment    Selecting the school from schools drop down.
    Select The School Name    ${selectingSchool}
    Comment    To navigate to management page and Wait and select the iframe School Admin.
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    To select the record from table based on column name
    Table Column Values Sorting    ${table.users}    Role    ascend
    ${rowNum}    Select The Record In Table    ${table.users}    Role    @{rolesList}[3]    False
    Run Keyword If    "${rowNum}" == "0"    Table Column Values Sorting    ${table.users}    Grade    ascend
    ${rowNum1}    Run Keyword If    "${rowNum}" == "0"    Select The Record In Table    ${table.users}    Role    @{rolesList}[3]
    ...    False
    Run Keyword If    "${rowNum}" == "0" and "${rowNum1}" == "0"    Fail    No Teacher record found after sorting by "Grade" or "Role".
    Comment    To wait and click on edit button and Check whether appropriate check box is selected or not for Teacher role.
    Wait And Click Element    ${button.userDetails.edit}
    : FOR    ${role}    IN    @{rolesList}
    \    ${role}    Set Variable If    '${role}'=='Teacher'    Instructor    ${role}
    \    Run Keyword And Continue On Failure    Run Keyword If    '${role}'=='Instructor'    Checkbox Should Be Selected    //input[@id='userRole${role}']
    \    Run Keyword And Continue On Failure    Run Keyword If    '${role}'!='Instructor'    Checkbox Should Not Be Selected    //input[@id='userRole${role}']
    Wait And Click Element    ${button.userDetails.cancel}
    [Teardown]    Stop Application

ATC 319 7432044 District admin-Verify whether Next button is enabled for Zip code field when school is not selected
    [Documentation]    ATC 319- District admin-Verify whether Next button is enabled for Zip code field when school is not selected
    ...
    ...    Step1 : Open the browser to login page.
    ...
    ...    Step2 : Click on new user link and select district admin role.
    ...
    ...    Step3 : Enter zip code
    ...
    ...    Step4 : Verify whether Next button is enabled for Zip code field when school is not selected or not.
    [Tags]    DISTRICT_ADMIN_40    REGISTRATION_VERIFY_NEXT_BUTTON_WITHOUT_SCHOOL_SELECTION    HIGH
    Comment    Open browser to login page
    OpenBrowserToLoginPage
    Wait And Click Element    ${button.login.newUser}
    Comment    Select newuser as District Admin role
    Select Role in Create Account    ${districtAdmin}
    Validate The Step Precondition    ${label.adminSignUp.zipCodeDlgMessage}    Enter the Zip code    The "Enter the Zip Code" page is not displayed in District admin signup process.
    Comment    Enter zip code
    ${districtCode}    Set Variable If    ${isDemoQURL}    ${demoQSchoolZipCode}    ${schoolZipCode}
    Enter Text In Text Field    ${textbox.signUp.zipcode}    ${districtCode}
    Press Back Space Key    ${textbox.signUp.zipcode}
    TypeCharactertoTextBox    ${textbox.signUp.zipcode}    ${districtCode}
    ${school}    Set Variable If    ${isDemoQURL}    ${demoQPreDistrictName}    ${preDistrictName}
    Comment    Next button is enabled for zip code field when school is not selected.
    ${SchoolsStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${label.adminSignUp.schools}    ${TimeOut}    Schools list is not displayed when user enter the zip code in registration process.
    ${UnselectedSchoolStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    //label[text()="${school}"]//preceding-sibling::input[@class='mblRadioButton unselectable']    ${TimeOut}    School radio button is not visible.
    Comment    Mys-5221: Updated script as per changes in Wait And Click Element keyword.
    ${nextClickedStatus}    Run Keyword If    '${SchoolsStatus}'=='True' and '${UnselectedSchoolStatus}'=='True'    Verify Element Visible    ${button.signUp.next}
    ${nextNavigationStatus}    Run Keyword And Return Status    Validate The Step Precondition    ${label.adminSignUp.zipCodeDlgMessage}    Enter the username    "Next" button is not in disabled mode.
    Run Keyword If    '${nextClickedStatus}' == 'True' and '${nextNavigationStatus}'=='True'    Fail    The "Next" button is functioning without selecting the school name.
    [Teardown]    Stop Application

ATC 333-DistrictAdmin-Verify whether user can register with same email ID for different schools
    [Documentation]    ATC 333-DistrictAdmin-Verify whether user can register with same email ID for different schools
    ...
    ...    Step1 : Open browser to login page
    ...
    ...    Step2 : Create District Admin role.
    ...
    ...    Step3 \ : Signout from the application.
    ...
    ...    Step4 : Click on newuser link and select District admin role.
    ...
    ...    Step5 : Enter zip code select different school name.
    ...
    ...    Step6 : Try to enter already existed email Id ,password and confirm password click on nex button.
    ...
    ...    Step7 : Verify whether user can register with same email ID for different schools the alert message is displayed or not.
    [Tags]    DISTRICT_ADMIN_41    REGISTRATION_VERIFY_SAME_UID_DIFFERENT_SCHOOLS    HIGH
    Pass Execution If    ${isDemoQURL}    No other Districts available (except 78621 district schools)under URL 'demoque1.mysatori.com'.
    ${DAdminDetails}    Get Ms Excel Row Values Into Dictionary Based On Key    ${PrerequisitesFilePath}    ATC126_1    DistrictAdmin
    ${districtAdminUid}    Get From Dictionary    ${DAdminDetails}    UserName
    ${districtAdminPwd}    Get From Dictionary    ${DAdminDetails}    Password
    ${uniqueValue}    GetUniqueValue    qa4mme+sa
    ${DaFN}    Set Variable    ${uniqueValue}_FN
    ${DaLN}    Set Variable    ${uniqueValue}_LN
    Comment    Open browser to login page
    OpenBrowserToLoginPage
    Comment    To create New District admin role
    ${DAStatus}=    Run Keyword And Return Status    Create New District Admin    ${DAdminDetails}    DADMIN-999999
    Run Keyword If    ${DAStatus}!=True    Fail    Failed to Create the District Admin with Registration code DADMIN-999999
    Comment    Signout from the district admin page
    ${signoutStatus}    SignOut
    Run Keyword Unless    ${signoutStatus}    Go To    ${WizardURL}
    Reload Page
    Comment    Click on 'NewUser' button.
    Wait And Click Element    ${button.login.newUser}
    Comment    Creating a 'DistrictAdmin'.
    Select Role in Create Account    ${districtAdmin}
    Comment    Enter the zip code and select the school
    Enter Zip Code And Select School    78621    admin    Elgin Isd
    Comment    wait and click on next button
    Enter Text In Text Field    ${text.adminSignUp.firstName}    ${DaFN}
    Enter Text In Text Field    ${text.adminSignUp.lastName}    ${DaLN}
    Enter Text In Text Field    ${text.adminSignUp.email}    ${districtAdminUid}
    Enter Text In Text Field    ${text.adminsignup.ConfirmEmail}    ${districtAdminUid}
    Comment    Enter a Password into TextFiled.
    Enter Text In Text Field    ${text.adminSignUp.password}    ${districtAdminPwd}
    Comment    Enter a Confirm Password into TextFiled.
    Enter Text In Text Field    ${text.adminSignUp.confirmPassword}    ${districtAdminPwd}
    Select DropDown Values    ${dropdown.adminSignUp.jobTitleDrpDwn}    //table[@id='adminSignUpDlg-jobTitle_menu']//tr
    Wait And Click Element    ${button.signUp.next}
    Validate The Step Precondition    ${label.login.AlertMsg}    Alert message    Alert message page was not displayed when user can register with same email ID for different schools
    [Teardown]    Stop Application

ATC 332 District Admin-Verify whether can filter reports based on Groups/Classes
    [Documentation]    ATC 332 District Admin-Verify whether can filter reports based on Groups/Classes.
    ...
    ...    Step 1 : Login as District admin.
    ...
    ...    Step 2 : Navigating to reports filtters page.
    ...
    ...    Step 3 : Select type of report Standards Mastery Report from drop down.
    ...
    ...    Step 4 : Select school name from the drop down.
    ...
    ...    Step 5 : Verify whether can filter reports based on Groups/Classes is displayed or not.
    [Tags]    DISTRICT_ADMIN_42    REPORTS_VERIFY_FILTER_BY_CLASS_GROUP    HIGH
    Run Keyword If    "${preDistrictAdminStatus}"!="True"    Fail    PreRequisite District Admin is not created
    ${districtAdminUserId}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPassword}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    District Admin Signin to the Application with Valid Credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserId}    ${districtAdminPassword}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    comment    Select the school from schools dropdown
    Select The School Name    ${selectingSchool}
    Comment    Navigating to reports filters page
    Navigate To Report Filters Page
    Comment    Select Standards Mastery Report from drop down
    Select The Drop Down Value    Report Type    ${preReportType1}
    Sleep    10s
    Select The Drop Down Value    School    ${selectingSchool}
    Verify Element Present    ${button.reportFilters.showGroupsOrClasses}
    ${showGroupsStatus}    Get Text    ${button.reportFilters.showGroupsOrClasses}
    String Should Contain    ${showGroupsStatus}    Show Groups
    Comment    Wait and click on Show groups button
    Wait And Click Element    ${button.reportFilters.ShowGroups}
    ${showClassesStatus}    Get Text    ${button.reportFilters.showGroupsOrClasses}
    String Should Contain    ${showGroupsStatus}    Show Classes
    Run Keyword If    "${showGroupsStatus}"=="False" and "${showClassesStatus}"=="False"    Fail    "Show Groups"/"Show Classes" button is not visible in reports filter page.
    [Teardown]    Stop Application

ATC 378 - Verifying valid error message is displayed when try to request forgot user id with invalid user id.
    [Documentation]    Verifying valid error message is displayed when try to request forgot user id with invalid user id.
    ...
    ...    1.Open app URL.
    ...
    ...    2.Click forgotPassword link.
    ...
    ...    3.Enter user id "invalidemailid@gmail.com" and click on submit.
    ...
    ...    4.Verify alert is displayed with a proper message saying "enter a valid email address".
    ...
    ...    5.Fail if expected result is deviated.
    [Tags]    DISTRICT_ADMIN_43    LOGIN_VERIFY_REQUEST_INVALID_FORGOT_USERID    HIGH
    Open Browser    ${WizardURL}    ${BROWSER}
    Maximize Browser Window
    Sleep    3s
    Wait Until Element Is Visible    ${link.login.forgotUserIdPassword}    ${Delay}
    Wait And Click Element    ${link.login.forgotUserIdPassword}
    Wait Until Element Is Visible    ${text.Alert.Details.passwordRecovery}    ${TimeOut}
    Input Text    ${text.forgotDlg.inputEmailID}    invalidemailid@gmail.com
    Wait And Click Element    ${button.passwordRecoveryDlg.Submit}
    ${alertStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${text.Details.Alert}    ${TimeOut}
    Run Keyword If    "${alertStatus}"!="True"    Fail    No alert is displayed for the invalid user id entry in password recovery.
    ${alertText}    Get Text    ${text.Details.Alert}
    ${alertMsg}    String Should Contain    ${alertText}    Sorry, we're unable to process your request at this time.
    Run Keyword If    "${alertMsg}"!="True"    Fail    The expected alert is "Please enter a valid email address." but got "${alertText}".
    [Teardown]    Stop Application

ATC 390 District Admin-Verify whether the close button is visible in import users window
    [Documentation]    ATC 390 DA-District Admin-Verify whether the close button is visible in import users window.
    ...
    ...    Step1 : Login as District admin.
    ...
    ...    Step2 : Navigating to import users page.
    ...
    ...    Step3 : Verify whether the close button is visible or not \ in import users window.
    [Tags]    DISTRICT_ADMIN_44    IMPORT_USERS_VERIFY_CLOSE_BUTTON    MEDIUM
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${className}    GetUniqueValue    Class
    comment    Login to Wizard application with DistrictAdmin credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    "${loginStatus}"=="False"    Fail    The user is not able to login with valid credentials.
    Comment    To navigate to import users page
    Navigate To Import Users Page
    Comment    The close button is visible or not in import users dialoguebox.
    Validate The Step Precondition    ${label.SchoolAdmin.importUsersDialogMessage}    Import users dialogue box    Import users dialogue box is not visible.
    ${closeBtnStatus}    Verify Element Visible    ${button.importTemplate.importUsersDlgClose}
    Run Keyword If    "${closeBtnStatus}"!="False"    Wait And Click Element    ${button.importTemplate.importUsersDlgClose}
    ${dialogVisibleStatus}    Verify Element Visible    ${button.importTemplate.DialogMessage}
    Run Keyword If    "${dialogVisibleStatus}"!="False"    Fail    "Close(X)" button is not visible for the dialog when select import users.
    [Teardown]    Stop Application

ATC 389 DA-Verify whether cancel button is visible when delete class.
    [Documentation]    ATC 389 DA-Verify whether cancel button is visible when delete class.
    ...
    ...    Step1 : Login as district admin.
    ...
    ...    Step2 : Navigating to management page.
    ...
    ...    Step3 : Select class based on classname.
    ...
    ...    Step4 : Click on delete button.
    ...
    ...    Step5 : Verify whether cancel button is visible or not \ when delete class.
    [Tags]    DISTRICT_ADMIN_45    MANAGEMENT_VERIFY_CANCEL_ON_DELETE_CLASS    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${className}    GetUniqueValue    Class
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    comment    Login to Wizard application with DistrictAdmin credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    "${loginStatus}"=="False"    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Comment    Navigating to Management page
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    To Add new class
    Add A Class Or Group    ${className}
    ${rowNo}    Select The Record In Table    ${table.classesAndGroups}    Name    ${className}
    Run Keyword If    '${rowNo}'=='0'    Fail    Created classs not displayed in classes table.
    Wait And Click Element    ${button.classes.delete}
    Comment    Close button is not visible in alert window when delete a class.
    Validate The Step Precondition    ${label.login.AlertMsg}    Alert popup window    "Are you sure you want to delete the class" message is displayed.
    ${closeBtnStatus}    Verify Element Visible    ${button.alert.close}
    Run Keyword If    "${closeBtnStatus}"=="False"    Fail    "Close(X)" button is not visible in alert window when delete a class.
    [Teardown]    Stop Application

ATC 322 Check whether application allow the user to switch for different roles for the first login.
    [Documentation]    ATC 322 Check whether application allow the user to switch for different roles for the first login.
    ...    Steps:
    ...    1.Login to the Wizard application.
    ...    2.Navigate to management page.
    ...    3.Add any user with roles Instructor and SchoolAdmin.
    ...    4.Signout and re-login as the new user.
    ...    5.Click on arrow mark beside user name.
    ...    6.Verify whether teacher,school admin roles are displayed in the dropdown or not.
    [Tags]    DISTRICT_ADMIN_46    HOME_SWITCH_COMBINATION_ROLES    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${testData}    GetUniqueValue    MR
    ${userFN}    Set Variable    FN${testData}
    ${userLN}    Set Variable    LN${testData}
    ${userUID}    Set Variable    qa4mme+${testData}@gmail.com
    ${userPWD}    Set Variable    qa4mme+${testData}
    ${grade}    Set Variable    5
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    ${mandatoryList}=    Create List    ${userFN}    ${userLN}    ${userUID}    ${userPWD}
    OpenBrowserToLoginPage    ${WizardURL}
    Sleep    10s
    ${loginStatus}    Enter Login Details    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    ${loginStatus}    Set Test Message    District Admin-${districtAdminUserID} logged in.
    ...    ELSE    Fail    Login failed with District Admin-${districtAdminUserID}
    Select The School Name    ${selectingSchool}
    Comment    Navigate to Management page and Click on 'Add' button of Users table.
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Wait And Click Element    ${button.users.add}
    Comment    Enter all details and select Teacher and School Admin Roles.
    Wait For Element Visible    ${text.newUser.firstName}    ${Delay}
    Input Text    ${text.newUser.firstName}    ${userFN}
    Input Text    ${text.newUser.lastName}    ${userLN}
    Input Text    ${text.newUser.userId}    ${userUID}
    Input Text    ${text.newUser.password}    ${userPWD}
    Comment    MYS-3394 : Looping the set of statements until the respective role checkbox selection is performed.
    : FOR    ${itr}    IN RANGE    0    10
    \    Wait And Click Element    ${checkbox.newUser.teacherRole}
    \    ${bStatus}    Wait For Element Visible    ${checkbox.newUser.teacherRole}//parent::div//input
    \    ${role_ckecked_status}    Get Element Attribute    ${checkbox.newUser.teacherRole}//parent::div//input@aria-checked
    \    Exit For Loop If    '${role_ckecked_status}'=='true'
    : FOR    ${itr}    IN RANGE    0    10
    \    Wait And Click Element    ${checkbox.newUser.schoolAdminRole}
    \    ${bStatus}    Wait For Element Visible    ${checkbox.newUser.schoolAdminRole}//parent::div//input
    \    ${role_ckecked_status}    Get Element Attribute    ${checkbox.newUser.schoolAdminRole}//parent::div//input@aria-checked
    \    Exit For Loop If    '${role_ckecked_status}'=='true'
    \    Comment    MYS-1239:Grade level is removed for teacher and higher roles.
    \    Comment    Select DropDown Values    ${image.addStudent.gradeArrow}    ${dropdown.addStudent.GradeLevel}    ${grade}
    Wait And Click Element    ${button.newUser.oK}
    Comment    Verfiy added record displayed in table or not.
    Table Column Sorting    ${table.users}    Created    descend
    ${bStatus}    Verify Values In Table    ${table.users}    Last Name    ${userLN}
    Run Keyword Unless    ${bStatus}    Fail    Added User ${userLN} is not displayed in the Users list
    Close Browser
    Comment    Login to wizard app with added credentials.
    ${loginStatus}    LoginToWizardApp    ${userUID}    ${userPWD}
    Run Keyword If    ${loginStatus}    Set Test Message    District Admin-${districtAdminUserID} logged in.
    ...    ELSE    Fail    Login failed with District Admin-${districtAdminUserID}
    Comment    Click on I Agree button.
    Comment    MYS-2410 : To handle 'Enhancements' and 'Terms And Conditions' dialogs.
    comment    Mys-4471 :Enhancement Alert message has been removed from application
    Comment    ${enchancementStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${common.window.Enhancements}
    Comment    Run Keyword If    '${enchancementStatus}'=='True'    Click On Element    //button[@id='mysAlertBtn']//parent::div[@id='alertOkBtn']
    Comment    MYS-3394 : Updated with wait for element visible keyword.
    ${bStatus}    Wait For Element Visible    //button[@id='termsAndConditionsDlg-submit']    ${TimeOut}    Terms and conditions window is not displayed.
    Run Keyword If    ${bStatus}    Wait And Click Element    //button[@id='termsAndConditionsDlg-submit']
    Comment    Wait and click on IAgree button
    Comment    MYS-3394 : Updated with wait for element visible keyword.
    ${bStatus}    Wait For Element Visible    ${common.SignUp.IAgreeBttn}    ${TimeOut}    "I Agree" button is not visible after clicking on "Terms And Conditions" button.
    Run Keyword If    ${bStatus}    Wait And Click Element    ${common.SignUp.IAgreeBttn}
    Wait Until Element is Invisible    ${common.SignUp.IAgreeBttn}
    Comment    MYS-3394 : Updated with wait for element visible keyword.
    ${Guided tool tip}    Run Keyword And Return Status    Wait For Element Visible    //div[@class='guidedHelpTooltipFooter']/div[contains(text(),'Hide Guided Help')]    10s
    Run Keyword If    ${Guided tool tip}    Wait And Click Element    //div[@class='guidedHelpTooltipFooter']/div[contains(text(),'Hide Guided Help')]
    Comment    Wait For Element Visible    ${label.userHeader.schoolAdmin}    ${TimeOut}
    Mouse Over    ${Dropdown.welcomeView.switchRoles}
    Focus    ${Dropdown.welcomeView.switchRoles}
    Comment    MYS-3394 : Looping the set of statements until the respective role switching performed.
    : FOR    ${itr}    IN RANGE    0    20
    \    ${drop_down_click_status}    Run Keyword And Return Status    Wait Until Keyword Succeeds    ${Delay}    3s    Click On Element
    \    ...    ${Dropdown.welcomeView.switchRoles}
    \    ${isDropdown_roles_visible}    Run Keyword If    ${drop_down_click_status}    Wait For Element Visible    ${Dropdown.switchRole.Teacher}    10s
    \    ...    ELSE    Continue For Loop
    \    Run Keyword If    '${isDropdown_roles_visible}'=='True'    Wait And Click Element    ${Dropdown.switchRole.Teacher}
    \    ...    ELSE    Continue For Loop
    \    Exit For Loop If    '${isDropdown_roles_visible}'=='True'
    ${loadingStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${common.homepage.Loading}    ${TimeOut}
    Run Keyword If    ${loadingStatus}    Wait Until Element is Invisible    ${common.homepage.Loading}
    Wait Until Element Is Visible    ${label.Home.HeaderlabelUser}//span[contains(text(),'Teacher')]    ${TimeOut}    Role not switched to teacher.
    ${usernameVisibility}    Run Keyword And Return Status    Wait Until Element Is Visible    ${label.Home.HeaderlabelUser}    ${TimeOut}
    ${username}    Get Text    ${label.Home.HeaderlabelUser}
    Comment    Verify whether the user role has been changed to teacher or not.
    ${bStatus}    Run Keyword And Return Status    Should Contain    ${username}    Teacher
    Run Keyword Unless    ${bStatus}    Fail    Different roles are not allowing for first login user.
    [Teardown]    Stop Application

ATC 403 - Page is navigated to Next page when user right clicks on buttons.
    [Documentation]    Verifying whether the page is navigated to another by opening a context menu on a button and clicking on out of scope of the button and context menu.
    ...
    ...    1.Login to application as District Admin.
    ...
    ...    2.Open context menu on 'Management' button.
    ...
    ...    3.Click on out of scope of buttons and context menu.
    ...
    ...    4.Fail if navigated to another page.
    [Tags]    DISTRICT_ADMIN_47    HOME_VERIFY_RIGHT_CLICK_ON_BUTTONS    HIGH
    Run Keyword If    "${preDistrictAdminStatus}"!="True"    Fail    No prerequisite data for DA is available.
    ${uid}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${pwd}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${loginStatus}    LoginToWizardApp    ${uid}    ${pwd}
    Run Keyword If    '${loginStatus}'=='False'    Fail    The user is not able to login with valid credentials.
    Run Keyword And Ignore Error    Wait Until Element is Invisible    ${common.spinner.loadingIcon}
    Wait Until Element Is Visible    ${button.home.management}
    CommonLibrary.Mouse Move    ${button.home.management}
    Open Context Menu    ${button.home.management}
    Comment    send    {TAB}
    ${managementBtnVisibleStatus}    Verify Element Visible    ${button.home.management}
    ${aferRighClickStatus}    Run Keyword And Return Status    Wait And Click Element    ${label.login.home.welcomeName}
    ${improperNavigationStatus}    Evaluate    "${managementBtnVisibleStatus}"!="True" and "${aferRighClickStatus}"!="False"
    Run Keyword If    "${improperNavigationStatus}"=="True"    Fail    Right Click on a buttons is navigating to respectives pages.
    [Teardown]    Stop Application

ATC 410-DA- Verify whether edit details for school admin is saved or not.
    [Documentation]    ATC 410-DA- Verify whether edit details for school admin is saved or not."
    ...
    ...    Step1 : Login as district admin.
    ...
    ...    Step2 : Add school admin role from management page.
    ...
    ...    Step3 : Select the school admin record and click on edit button.
    ...
    ...    Step4 : To edit the first name and click on save button.
    ...
    ...    Step5 : Verify whether edit details for school admin is saved or not."
    [Tags]    DISTRICT_ADMIN_48    MANAGEMENT_VERIFY_EDITED_SCHOOL_ADMIN_DETAILS    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${uniqueVal}    GetUniqueValue    qa4mme+
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    Login to Wizard application with DistrictAdmin credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    "${loginStatus}"=="False"    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Comment    Navigating to Management page
    Navigate To Management Page
    Comment    Wait and select the iframe
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Add Role From Management    FN${uniqueVal}    LN${uniqueVal}    ${uniqueVal}    Password${uniqueVal}    SchoolAdmin
    ${rowNo}    Select The Record In Table    ${table.users}    Last Name    LN${uniqueVal}
    Run Keyword If    "${rowNo}"=="0"    Fail    No record found with the given details.
    Comment    Edit the first name of school admin.
    Wait And Click Element    ${button.userDetails.edit}
    Enter Text In Text Field    ${text.userDetails.firstName}    FN${uniqueVal}12
    Wait And Click Element    ${button.userDetails.save}
    Comment    Verify whether alert is displayed or not
    ${alertStatus}    Verify Element Present    ${text.Details.Alert}
    ${alert}    Run Keyword If    ${alertStatus}    Get Text    ${label.login.AlertMsg}
    Run Keyword If    ${alertStatus}    Fail    Alert "${alert}" is displayed.
    ${rowNo}    Select The Record In Table    ${table.users}    First Name    FN${uniqueVal}12
    Run Keyword If    "${rowNo}"=="0"    Fail    No record found with the modified school admin details.
    [Teardown]    Stop Application

ATC 423 - Verify whether 'Edit Student's classes and Groups' window is displayed even though user clicks on disabled Edit button.
    [Documentation]    ATC 423 - Verify whether 'Edit Student's classes and Groups' window is displayed even though user clicks on disabled Edit button.
    ...    Steps:
    ...    1. Login to the wizard application as a district admin.
    ...    2. Navigate to the management page.
    ...    3. Click on "Edit" button of user details and then click on "Cancel" button of user details.
    ...    4. Click on disabled "Edit" button of "Classes and Groups" in user details.
    ...    5. Verify whether "classes and groups" window is displayed or not.
    [Tags]    DISTRICT_ADMIN_49    MANAGEMENT_VERIFY_EDIT_BUTTON_DISABLED    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${DistrictAdminUid}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${DistrictAdminPwd}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    Login to wizard application with District admin credentials.
    ${loginStatus}    LoginToWizardApp    ${DistrictAdminUid}    ${DistrictAdminPwd}
    Run Keyword If    ${loginStatus}    Set Test Message    District Admin-${DistrictAdminUid} logged in.
    ...    ELSE    Fail    Login failed with District Admin-${DistrictAdminUid}
    Select The School Name    ${selectingSchool}
    Comment    Navigate to the management page.
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    Select the any user from users table.
    ${bStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${table.users}//table//td[contains(@class,"dgrid-cell")]    ${TimeOut}
    Run Keyword If    ${bStatus}    Click Element    ${table.users}//table//td[contains(@class,"dgrid-cell")]
    Comment    Click on "Edit" button and then "Cancel" button.
    Wait Until Element Is Visible    ${button.userDetails.edit}    ${TimeOut}
    Wait And Click Element    ${button.userDetails.edit}
    Sleep    5s
    Wait And Click Element    ${button.userDetails.cancel}
    ${buttonStatus}    Get Element Attribute    ${button.classesAndGroups.edit}@class
    Run Keyword And Continue On Failure    Should Contain    ${buttonStatus}    Disabled    Button is not in disabled mode.
    Comment    Click on "Edit" button of "classes and groups" in user details and verify whether "Classes and Groups" table is displayed or not.
    Wait And Click Element    ${button.classesAndGroups.edit}
    ${bStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${header.classesAndGroups.editStdsClassAndGrps}    ${TimeOut}
    Run Keyword If    ${bStatus}    Fail    'Edit Student's classes and Groups' window is displayed even though user clicks on disabled Edit button.
    [Teardown]    Stop Application

ATC 258 District Admin-Please use at least one non-alphabetic character in the User ID" is displayed or not while in the username
    [Documentation]    ATC 258 District Admin-Please use at least one non-alphabetic character in the User ID" is displayed or not while in the username
    ...
    ...
    ...    Step1 : Login with district admin credentials.
    ...
    ...    Step2 : Select the respective school from schools.
    ...
    ...    Step3 : Add new district admin from management.
    ...
    ...    Step4 : Enter only a string of length 8 or above aplphabetic characters in user name field.
    ...
    ...    Step5 : Verify the alert message is being shown as "Please use at least one non-alphabetic character in the User ID".
    ...
    ...    Step6 : Fail on text mis-match.
    [Tags]    DISTRICT_ADMIN_50    MANAGEMENT_VERIFY_TOOLTIPS    HIGH
    Run Keyword If    "${preDistrictAdminStatus}"!="True"    Fail    PreRequisite District Admin is not created
    ${districtAdminUserId}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPassword}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    ${uniqueID}    Get Unique Id
    ${districtAdminFN}    Set Variable    DA_${uniqueID}_FN
    ${districtAdminLN}    Set Variable    DA_${uniqueID}_LN
    ${districtAdminFN01}    Set Variable    ${districtAdminFN}_01
    ${districtAdminLN01}    Set Variable    ${districtAdminLN}_01
    ${districtAdminUid01}    Set Variable    qa4mme+da${uniqueID}
    ${districtAdminPwd01}    Set Variable    qa4mme+1234
    ${role}    Set Variable    DistrictAdmin
    ${middleName}    Set Variable    ${EMPTY}
    ${grade}    Set Variable    ${EMPTY}
    ${gender}    Set Variable    ${EMPTY}
    ${status}    Set Variable    ${EMPTY}
    ${mandatoryList}    Create List    ${districtAdminFN01}    ${districtAdminLN01}    ${districtAdminUid01}    ${districtAdminPwd01}
    @{listOfMandatoryFields}    Set Variable    ${mandatoryList}
    Comment    Login into Application with District admin Credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserId}    ${districtAdminPassword}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    comment    Select the school from schools dropdown
    Select The School Name    ${selectingSchool}
    Comment    Navigate to Management page and then Select the School Admin frame.
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    verifying the alert "Please use at least one non-alphabetic \ character in the User ID " is displayed while creating new user from management at userID field
    Wait Until Element Is Visible    ${table.users}    ${Delay}
    Wait And Click Element    newUserBtn
    Wait Until Element Is Visible    ${text.newUser.firstName}    ${Delay}
    Run Keyword If    "${role}"!="${EMPTY}"    Wait And Click Element    //input[@name='newUserRole${role}']/parent::div/following-sibling::label[contains(@for,'newUser')]
    Input Text    ${text.newUser.firstName}    @{listOfMandatoryFields}[0]
    Input Text    ${text.newUser.lastName}    @{listOfMandatoryFields}[1]
    Input Text    ${text.newUser.userId}    @{listOfMandatoryFields}[2]
    Wait And Click Element    ${text.newUser.userId}
    Wait And Click Element    ${button.newUser.oK}
    ${isAlert_Present}    Wait For Element Visible    ${label.login.AlertMsg}    5s
    Comment    ${alert status}    Verify Element Visible    ${label.newUserSignUp.toolTip}
    Comment    Capture Page Screenshot And Log    ${OUTPUTDIR}
    Comment    ${alertText}    Run Keyword If    "${alert status}" != "False"    Get Text    ${label.newUserSignUp.toolTip}
    Comment    Log    ${alertText}
    Comment    ${alertTextMatchStatus}    Run Keyword If    "${alertText}" != "${EMPTY}"    Run Keyword And Return Status    Should Be Equal As Strings    ${alertText}
    ...    Please use at least one non-alphabetic character, (like a number), in the username.
    Comment    Run Keyword If    "${alertText}" == "${EMPTY}"    Fail    The alert text is EMPTY.
    Comment    Run Keyword If    "${alertTextMatchStatus}" != "True"    Fail    The alert text shown is not as expected "Please use at least one non-alphabetic character in the User ID".Instead of showing "${alertText}".
    [Teardown]    Stop Application

ATC-430-District Admin can Import teachers of same school
    [Documentation]    District Admin_Import teachers with same school
    ...
    ...    Step1 : Login as a district admin with valid credentials.
    ...
    ...    Step2 : Create a dictonary of teacher details for same school.
    ...
    ...    Step3 : Click on import users and select "Yes I am ready to import."
    ...
    ...    Step4 : Try to upload users, "Congraluations! the user have been imported" message should be displayed.
    ...
    ...    Step4 : Navigate to management page and search the record using search functionality unique record should be displayed.
    [Tags]    DISTRICT_ADMIN_51    IMPORT_TEACHERS_OF_SCHOOL    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${dAdmin_ID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${dAdmin_Password}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    comment    Login to wizard application with Schooladmin credentials.
    ${loginStatus}    LoginToWizardApp    ${dAdmin_ID}    ${dAdmin_Password}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Comment    Try to import teacher details with same school names.
    ${uniqueValue}    GetUniqueValue    teacher
    ${teacherDetails1}    Create Dictionary    User ID    qa4mme+ta${uniqueValue}@gmail.com    Password    test01${uniqueValue}    First Name
    ...    ${uniqueValue}FN    Middle Name    ${uniqueValue}MN    Last Name    ${uniqueValue}LN    Grade Level
    ...    \    Role    Teacher    School    ${selectingSchool}
    ${teacherOneFN}    Get From Dictionary    ${teacherDetails1}    First Name
    ${teacherDetails2}    Create Dictionary    User ID    qa4mme+ta${uniqueValue}1@gmail.com    Password    test02${uniqueValue}    First Name
    ...    ${uniqueValue}1FN    Middle Name    ${uniqueValue}1MN    Last Name    ${uniqueValue}1LN    Grade Level
    ...    2    Role    Teacher    School    ${selectingSchool}
    ${teacherTwoFN}    Get From Dictionary    ${teacherDetails2}    First Name
    ${schoolDetails}    Create Dictionary    1    ${teacherDetails1}    2    ${teacherDetails2}
    ${filePath}    Set Variable    ${EXECDIR}\\Automation_Testsuites\\TestData\\ATC168.csv
    ${uploadedFileStatus}    Create Csv File Using Dictionary Values    ${filePath}    ${schoolDetails}
    Comment    Verifying whether district admin is able to import teachers of same school or not.
    ${uploadStatus}    Upload Students From CSV    ${filePath}
    Run Keyword If    '${uploadStatus}'!='True'    Fail    Import teachers Functionality Failed while uploading two teachers for same school.
    Remove File    ${filePath}
    Wait And Click Element    ${button.importTemplate.importUsersDlgClose}
    Navigate From Import Users
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Comment    Verify whether the imported details are displayed in the "UserDetails" table or not
    Wait Until Element Is Visible    ${text.management.search}    ${Delay}    Search box not displayed in the given timeout in management page.
    Input Text    ${text.management.search}    ${teacherOneFN}
    ${rowNo}    Select The Record In Table    ${table.users}    First Name    ${teacherOneFN}    False
    Run Keyword If    '${rowNo}'=='0'    Run Keyword And Continue On Failure    Fail    No records found with the imported Teacher_One details.
    Clear Text    ${text.management.search}
    Input Text    ${text.management.search}    ${teacherTwoFN}
    ${rowNo}    Select The Record In Table    ${table.users}    First Name    ${teacherTwoFN}    False
    Run Keyword If    '${rowNo}'=='0'    Fail    No records found with the imported Teacher_Two details.
    [Teardown]    Stop Application

ATC-431-District Admin can Import teachers of different schools
    [Documentation]    District Admin_Import teachers with different schools
    ...
    ...    Step1 : Login as a district admin with valid credentials.
    ...
    ...    Step2 : Select the preschool name
    ...
    ...    Step3 : Create a dictonary of teacher details for different schools.
    ...
    ...    Step4 : Click on import users and select "Yes I am ready to import."
    ...
    ...    Step5 : Try to upload users, "Congraluations! the user have been imported" message should be displayed.
    ...
    ...    Step6 : Navigating to management and search the record using search functionality unique record should be displayed.
    ...
    ...    Step7 : Navigating back to home page and select the another school.
    ...
    ...    Step8 : Navigating to management page and search the record using search functionality unique record should be displayed.
    [Tags]    DISTRICT_ADMIN_52    IMPORT_TEACHERS_OF_DIFFERENT_SCHOOLS    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${dAdmin_ID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${dAdmin_Password}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    comment    Login to wizard application with Schooladmin credentials.
    ${loginStatus}    LoginToWizardApp    ${dAdmin_ID}    ${dAdmin_Password}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Wait Until Element Is Visible    //div[@class='dashLink']/div[@class='headerLabelSchool']    ${Delay}    School Name lablenot displayed in given time.
    ${currentSchool}    Get Text    //div[@class='dashLink']/div[@class='headerLabelSchool']
    Wait And Click Element    //div[@id='welcomeView']//span[text()='Schools']    ${TimeOut}    Schools
    ${bStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    //div[@id='menuSchoolsOptions']//ol[contains(@class,'menu-schools-options')]//a    10s
    Run Keyword If    ${bStatus}==False    Wait And Click Element    //div[@id='welcomeView']//span[text()='Schools']    ${TimeOut}    Schools
    ${schoolsList}    Get Matching Xpath Values    //ol[@class='menu-schools-options']//li    //a
    Log List    ${schoolsList}
    : FOR    ${school}    IN    @{schoolsList}
    \    ${schoolMatchStatus}    String Should Contain    ${school}    ${currentSchool}
    \    @{schoolNameCodeSperated}    Run Keyword If    '${schoolMatchStatus}'=='False'    Split String    ${school}    ${SPACE}(
    \    ${changingSchoolName}    Set Variable If    '${schoolMatchStatus}'=='False'    @{schoolNameCodeSperated}[0]
    \    Exit For Loop If    '${schoolMatchStatus}'=='False'
    Comment    Try to import teacher details with different school names.
    ${uniqueValue}    GetUniqueValue    teacher
    ${teacherDetails1}    Create Dictionary    User ID    qa4mme+ta${uniqueValue}@gmail.com    Password    test01${uniqueValue}    First Name
    ...    ${uniqueValue}FN    Middle Name    ${uniqueValue}MN    Last Name    ${uniqueValue}LN    Grade Level
    ...    \    Role    Teacher    School    ${currentSchool}
    ${teacherOneFN}    Get From Dictionary    ${teacherDetails1}    First Name
    ${teacherDetails2}    Create Dictionary    User ID    qa4mme+ta${uniqueValue}1@gmail.com    Password    test02${uniqueValue}    First Name
    ...    ${uniqueValue}1FN    Middle Name    ${uniqueValue}1MN    Last Name    ${uniqueValue}1LN    Grade Level
    ...    2    Role    Teacher    School    ${changingSchoolName}
    ${teacherTwoFN}    Get From Dictionary    ${teacherDetails2}    First Name
    ${schoolDetails}    Create Dictionary    1    ${teacherDetails1}    2    ${teacherDetails2}
    ${filePath}    Set Variable    ${EXECDIR}\\Automation_Testsuites\\TestData\\ATC168.csv
    ${uploadedFileStatus}    Create Csv File Using Dictionary Values    ${filePath}    ${schoolDetails}
    Comment    Verifying import functionality while uploading teachers for two schools.
    ${uploadStatus}    Upload Students From CSV    ${filePath}
    Run Keyword If    '${uploadStatus}'!='True'    Fail    Import teachers Functionality Failed while uploading teachers for two different schools.
    Wait And Click Element    ${button.importTemplate.importUsersDlgClose}
    Navigate From Import Users
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Comment    Verify whether the imported teacher details are displayed in the "UserDetails" table or not
    Wait Until Element Is Visible    ${text.management.search}    ${Delay}    Search box not displayed in the given timeout in management page.
    Input Text    ${text.management.search}    ${teacherOneFN}
    ${rowNo}    Select The Record In Table    ${table.users}    First Name    ${teacherOneFN}    False
    Run Keyword If    '${rowNo}'=='0'    Run Keyword And Continue On Failure    Fail    Teacher_One record was not found.
    Navigate BackTo Home Page    Management
    Select The School Name    ${changingSchoolName}
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Comment    Verify whether the imported teacher details are displayed in the "UserDetails" table or not
    Wait Until Element Is Visible    ${text.management.search}    ${Delay}    Search box not displayed in the given timeout in management page.
    Input Text    ${text.management.search}    ${teacherTwoFN}
    ${rowNo}    Select The Record In Table    ${table.users}    First Name    ${teacherTwoFN}    False
    Run Keyword If    '${rowNo}'=='0'    Fail    Teacher_Two record was not found.
    [Teardown]    Stop Application

ATC-432-District Admin unable to Import teachers of same user Ids.
    [Documentation]    District Admin_Import teachers with same user Ids.
    ...
    ...
    ...    Step1 : Login as a district admin with valid credentials.
    ...
    ...    Step2 : Create a dictonary of teacher details \ with same user Ids.
    ...
    ...    Step3 : Click on import users and select "Yes I am ready to import."
    ...
    ...    Step4 : Try to upload users, "User id is invalid: The user ID is already taken." error message should be displayed.
    [Tags]    DISTRICT_ADMIN_53    IMPORT_VERIFY_TEACHERS_WITH_SAME_USERID    CRITICAL
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${dAdmin_ID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${dAdmin_Password}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    comment    Login to wizard application with Schooladmin credentials.
    ${loginStatus}    LoginToWizardApp    ${dAdmin_ID}    ${dAdmin_Password}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Comment    Try to import teacher details with same school names.
    ${uniqueValue}    GetUniqueValue    teacher
    ${teacherUid}    Set Variable    qa4mme+ta${uniqueValue}@gmail.com
    ${teacherDetails1}    Create Dictionary    User ID    ${teacherUid}    Password    test01${uniqueValue}    First Name
    ...    ${uniqueValue}FN    Middle Name    ${uniqueValue}MN    Last Name    ${uniqueValue}LN    Grade Level
    ...    \    Role    Teacher    School    ${selectingSchool}
    ${teacherDetails2}    Create Dictionary    User ID    ${teacherUid}    Password    test02${uniqueValue}    First Name
    ...    ${uniqueValue}FN    Middle Name    ${uniqueValue}MN    Last Name    ${uniqueValue}LN    Grade Level
    ...    \    Role    Teacher    School    ${selectingSchool}
    ${schoolDetails}    Create Dictionary    1    ${teacherDetails1}    2    ${teacherDetails2}
    ${filePath}    Set Variable    ${EXECDIR}\\Automation_Testsuites\\TestData\\ATC168.csv
    ${uploadedFileStatus}    Create Csv File Using Dictionary Values    ${filePath}    ${schoolDetails}
    Comment    Verifying import functionality while uploading duplicate userIds of teacher,error message should be displayed.
    ${uploadStatus}    Upload Students From CSV    ${filePath}
    Remove File    ${EXECDIR}\\Automation_Testsuites\\TestData\\ATC168.csv
    Comment    Verify whether the import displays an error or not
    Log    ${impUsersMsg}
    ${errorMsgStatus}    Run Keyword And Return Status    Should Be Equal As Strings    ${impUsersMsg}    ${None}
    Run Keyword If    ${errorMsgStatus}    Fail    The import is accepting the students who are having same userid.
    Comment    Verify whether it displays expected error message or not.
    ${expectedErrMsgUserIdTaken}    Set Variable    Column User ID (${teacherUid}) is invalid: This User ID is already taken
    ${errMsgIdTakenStatus}    String Should Contain    ${impUsersMsg}    ${expectedErrMsgUserIdTaken}
    Run Keyword If    '${errMsgIdTakenStatus}'!='True'    Fail    The displayed errormsg is not matching with the expected one.
    [Teardown]    Stop Application

ATC-549-MYS-1499-verify wether "School Admin Code' label displayed instead of 'District Admin Code' while create new district admin.
    [Documentation]    MYS-1499-verify wether "School Admin Code' label displayed instead of 'District Admin Code' while create new district admin role.
    ...
    ...    Step1 : Open Browser to login page.
    ...
    ...    Step2 : Click on new user link and select the district admin role.
    ...
    ...    Step3 : Enetr the zip code and select the school name.
    ...
    ...    Step4 : Enter the user name, password,first name ,last name and click on next button.
    ...
    ...    Step5 : Click on button "I don't have one".
    ...
    ...    Step6 : verifying wether "School Admin Code' label displayed instead of 'District Admin Code" lable in the dialog appeared in registration process.
    [Tags]    DISTRICT_ADMIN_55    REGISTRATION_VERIFY_ADMIN_LABEL    MEDIUM
    ${districtZipCode}    Set Variable If    ${isDemoQURL}    ${demoQSchoolZipCode}    ${schoolZipCode}
    ${districtName}    Set Variable If    ${isDemoQURL}    ${demoQPreDistrictName}    ${preDistrictName}
    OpenBrowserToLoginPage    ${WizardURL}
    Comment    Click on 'NewUser' button.
    Wait And Click Element    ${button.login.newUser}
    Comment    Creating a 'DistrictAdmin'.
    Select Role in Create Account    ${districtAdmin}
    ${districtadminSchoolName}    Run Keyword If    "${districtName}"=="${EMPTY}"    Set Variable    ${preDistrictName}
    ...    ELSE    Set Variable    ${districtName}
    ${sheetName}=    Set Variable    CCS
    ${filePath}    Set Variable    ${daRegistrationCodesFile}
    Validate The Step Precondition    ${label.adminSignUp.zipCodeDlgMessage}    zip code.    The zip code step was not displayed in District Admin Registration process.
    ${zipCode}=    Run Keyword If    "${districtZipCode}"=="${EMPTY}"    Get Zipcode For School    ${filePath}    ${sheetName}    ${districtadminSchoolName}
    ...    ELSE    Set Variable    ${districtZipCode}
    ${role}    Set Variable    admin
    Enter Zip Code And Select School    ${zipCode}    ${role}    ${districtadminSchoolName}
    ${spinnerStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${common.spinner.loadingIcon}
    ${districtAdminUid}    Set Variable    qa4mme+dadmin09876123467@gmail.com
    ${districtAdminPwd}    Set Variable    test012345
    ${districtAdminFName}    Set Variable    dadminFn
    ${districtAdminLName}    Set Variable    dadminLn
    Enter Text In Text Field    ${text.adminSignUp.firstName}    ${districtAdminFName}
    Enter Text In Text Field    ${text.adminSignUp.lastName}    ${districtAdminLName}
    Enter Text In Text Field    ${text.adminSignUp.email}    ${districtAdminUid}
    Enter Text In Text Field    ${text.adminsignup.ConfirmEmail}    ${districtAdminUid}
    Comment    Enter a Password into TextFiled.
    Enter Text In Text Field    ${text.adminSignUp.password}    ${districtAdminPwd}
    Enter Text In Text Field    ${text.adminSignUp.confirmPassword}    ${districtAdminPwd}
    Select DropDown Values    ${dropdown.adminSignUp.jobTitleDrpDwn}    ${dropDown.adminSignUp.jobTitleMenu}
    Wait And Click Element    ${button.signUp.next}
    Wait And Click Element    ${button.adminSignUp.I don’t have one}
    ${bStatus}    Wait And Click Element    ${button.home.iAgree}
    Run Keyword If    ${bStatus}=='False'    Fail and Capture Screenshot    I Agree button wasn't displayed/clickable.
    ${isAlert_Present}    Wait For Element Visible    //div[@id='adminMessage']//div[@class='dialogMessage']    5s
    Run Keyword If    '${isAlert_Present}'=='False'    Fail and Capture Screenshot    Alert message is not dispalyed when user click on "I don't have one" button
    Comment    Verifying wether "School Admin code" label is displaying instead of district admin code "
    Comment    ${bStatus}    Wait And Click Element    ${button.home.iAgree}
    Comment    Run Keyword If    ${bStatus}=='False'    Fail and Capture Screenshot    I Agree button wasn't displayed/clickable.
    Comment    ${bStatus}    Wait And Click Element    //div[contains(@id,'Congrats')]//button[normalize-space()='Log in']
    Comment    Run Keyword If    ${bStatus}=='False'    Fail and Capture Screenshot    Log in button wasn't displayed/clickable.
    Comment    ${districtAdminRegStatus}    Verify Element Visible    ${label.AdminSignUp.DistrictAdmin}
    Comment    ${districtAdminCodeStatus}    Run Keyword If    ${districtAdminRegStatus}    Verify Element Visible    ${label.adminSignUp.DistrictAdminCode}
    Comment    Run Keyword Unless    ${districtAdminCodeStatus}    Fail    District Admin Code is not displayed while create new district admin.
    [Teardown]    Stop Application

ATC-550-MYS-1338-School Admin-District Admin roles created through registration process are not displayed.
    [Documentation]    MYS-1338-School Admin-District Admin roles created through registration process are not displayed.
    ...
    ...    Step1 : Login as a district admin
    ...
    ...    Step2 : Add district admin role from management.
    ...
    ...    Step3 : Signout and relogin as a school admin.
    ...
    ...    Step4 : Navigate to management page.
    ...
    ...    Step5 : Seach the record of distric admin role which are created from registration process and added district admin role from management page.
    ...
    ...    Step6 : Verify School Admin-District Admin roles created through registration process are displayed or not.
    [Tags]    DISTRICT_ADMIN_56    REGISTRATION_MANAGEMENT_VERIFY_DISTRICT_ADMINS    MEDIUM
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    Run Keyword If    '${preScriptStatus}'=='False'    Fail    PreRequisite School Admin is not created
    ${dAdmin_ID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${dAdmin_Password}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${SchoolAdminUid}    Get From Dictionary    ${preSchoolAdminDetails}    UserName
    ${SchoolAdminPwd}    Get From Dictionary    ${preSchoolAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    ${uniqueValue}    GetUniqueValue    qa4mme+
    Comment    Login to wizard application with District admin credentials.
    Open Browser    ${WizardURL}    ${BROWSER}
    Sleep    10s
    ${Login_Status}=    Enter Login Details    ${dAdmin_ID}    ${dAdmin_Password}
    Run Keyword If    ${Login_Status}==False    Fail    The user is not able to login with valid credentials.
    Comment    Select the ${preSchoolName}.
    Select The School Name    ${selectingSchool}
    Navigate To Management Page
    Run Keyword And Ignore Error    Wait Until Element Is Visible    ${common.homepage.Loading}    15s
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    To Add district admin role from management.
    Add Role From Management    ${uniqueValue}FN    ${uniqueValue}LN    ${uniqueValue}Uid    ${uniqueValue}pwd    District Admin
    Comment    Verfiy newly created user details find in Users table.
    ${userStatus}    Verify Values In Table    ${table.users}    Last Name    ${uniqueValue}LN
    Run Keyword Unless    ${userStatus}    Fail    Added User ${districtAdminLN} is not displayed in the Users list
    Close Browser
    Comment    Signout and relogin as school admin role
    ${loginStatus}=    LoginToWizardApp    ${SchoolAdminUid}    ${SchoolAdminPwd}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Navigate To Management Page
    Run Keyword And Ignore Error    Wait Until Element Is Visible    ${common.homepage.Loading}    15s
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    Verifying the district admin record which are added from management page.
    ${userAddedFromMgmtrecordStatus}    Search The Records    ${table.users}    ${text.management.search}    ${uniqueValue}Uid
    Comment    Verifying the district admin record which are created from registration process.
    Enter Text In Text Field    ${text.management.search}    ${dAdmin_ID}
    ${UserCreateFromRegProcessStatus}    Verify Element Present    ${table.users}//div[@class='dgrid-no-data']
    Run Keyword If    '${userAddedFromMgmtrecordStatus}'!='True' and '${UserCreateFromRegProcessStatus}'!='True'    Set Test Message    District admin is created from managment is not found in school admin management for "${selectingSchool}",district admin created through registration process is found in school admin management.
    [Teardown]    Stop Application

ATC-436-Authorization alert display's when District Admin edit's class details
    [Documentation]    ATC-435-District Admin-
    ...
    ...    Step1 : Login as a District admin with valid credentials.
    ...
    ...    Step2 : Add two classes from management page.
    ...
    ...    Step3 : Select classA edit group discription and with out saving classA,select ClassB.
    ...
    ...    Step4 : "Verification of Authorization to use Seats" alert message should be displayed then click on "Proceed button" edited group discriptin message should be saved.
    ...
    ...    Step5 : Again select ClassA edit the group discription field and with out saving classA,select ClassB.
    ...
    ...    Step6 : "Verification of Authorization to use Seats" alert message should be displayed then click on"Cancel" button automatically it should be select classB.
    ...
    ...    Step7 : Again select ClassA, click on edit button and click on edit titles button.
    ...
    ...    Step8 : Select one title,click on save button then "Verification of Authorization to use Seats" alert message should be displayed then click on "Proceed button" the selected title should be saved.
    ...
    ...    Step9 : Again click on edit titles button and select one more title then click on save button.
    ...
    ...    Step10 : "Verification of Authorization to use Seats" alert message should be displayed then click on"Cancel" button then the selected title should not be saved.
    [Tags]    DISTRICT_ADMIN_57    MANAGEMENT_VERIFY_EDIT_CLASS_CONFIRMATION_ALERT    HIGH
    Pass Execution If    ${isDemoQURL}    Note : This test case scenario could work when more than one title available for the respective teacher user.
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${dAdmin_ID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${dAdmin_Password}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${assignmentTitle1}    Set Variable    CCS Math Assessments Level 2
    ${assignmentTitle2}    Set Variable    CCS Math Assessments Level 4
    ${titleList}    Create List    ${assignmentTitle1}    ${assignmentTitle2}
    ${userStatusList}    Create List    true
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    comment    Login to wizard application with district admin credentials.
    ${loginStatus}    LoginToWizardApp    ${dAdmin_ID}    ${dAdmin_Password}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    ${uniqueValue}    GetUniqueValue    da
    ${studentDetails}    Create Dictionary    First Name    FN${uniqueValue}    Last Name    LN${uniqueValue}    User Name
    ...    ${uniqueValue}    Password    Password${uniqueValue}    Role    \    Middle Name
    ...    ${EMPTY}    Grade Level    5
    ${classesList}    Create List    Class${uniqueValue}A    Class${uniqueValue}B
    Comment    Adding two classes from management page.
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Add A Class Or Group    Class${uniqueValue}A
    Add A Class Or Group    Class${uniqueValue}B
    Comment    Select classA and edit the group discription.
    Comment    MYS-2728 : Select the record in the table with out sorting and replaced click on element instead of wai and click element.
    ${recordStatus}    Select The Record In Table    ${table.classesAndGroups}    Name    Class${uniqueValue}A    False
    Run Keyword If    ${recordStatus}    Click On Element    ${button.classDetail.edit}
    Comment    MYS-2728 :Added wait until edit button is invisible after click on edit button.
    Wait Until Element is Invisible    ${button.classDetail.edit}
    Enter Text In Text Field    ${text.classDetails.description}    created by QA
    Comment    Verifying whether with out saving classA then select classB record then alert is displayed or not.
    Comment    MYS-2728 : Select the record in the table with out sorting.
    ${selectClass2RecordStatus}    Run Keyword And Return Status    Select The Record In Table    ${table.classesAndGroups}    Name    Class${uniqueValue}B    False
    Comment    MYS-2728 : To verify the class selection status and wait for prompt message with in given time.
    Run Keyword And Continue On Failure    Run Keyword If    '${selectClass2RecordStatus}'!='True'    Fail    Another class record is not selected.
    ${promptMsgStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${label.deleteClassOrGroup.promptMsg}    ${TimeOut}    Prompt message is not displayed within given time.
    Comment    MYS-2728 : To verifing the prompt message status.
    Run Keyword And Continue On Failure    Run Keyword If    '${promptMsgStatus}'!='True'    Fail    Prompt message is not displayed while edit one class and without saving and select the another class.
    Comment    Verifying whether click on proceed button group discription is properly saved or not.
    ${ProceedStatus}    Run Keyword If    ${promptMsgStatus}    Run Keyword And Return Status    Wait And Click Element    ${button.management.OK}
    Sleep    2s
    Comment    MYS-2728 : To select the class record from class details table.
    Select The Record In Table    ${table.classesAndGroups}    Name    Class${uniqueValue}A    False
    ${DiscriptionMSGStatus}    Run Keyword If    ${ProceedStatus}    Get Value    ${text.classDetails.description}
    ${DiscriptionMSGStatus}    String Should Contain    ${DiscriptionMSGStatus}    created by QA
    Run Keyword And Continue On Failure    Run Keyword Unless    ${DiscriptionMSGStatus}    Fail    After click on the proceed the edited text in discription text field is not saved properly.
    Comment    Click on edit button
    Comment    MYS-2728 :Added wait until edit button is invisible after click on edit button,and clear the text into discreption field.
    Click On Element    ${button.classDetail.edit}
    Wait Until Element is Invisible    ${button.classDetail.edit}
    Clear Text    ${text.classDetails.description}
    Comment    Enter text into group discription field.
    Enter Text In Text Field    ${text.classDetails.description}    Modified SDT TEST
    Comment    Verifying whether with out saving classA then select classB record then alert is displayed or not.
    ${selectClass2RecordStatus}    Run Keyword And Return Status    Select The Record In Table    ${table.classesAndGroups}    Name    Class${uniqueValue}B    False
    Run Keyword And Continue On Failure    Run Keyword Unless    ${selectClass2RecordStatus}    Fail    Another class record is not selected.
    Get Text    ${label.management.Name}
    ${promptMsgStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${label.deleteClassOrGroup.promptMsg}    ${TimeOut}    Prompt message is not displayed within given time.
    Run Keyword And Continue On Failure    Run Keyword Unless    ${promptMsgStatus}    Fail    Prompt message is not displayed while edit one class and without saving and select the another class.
    Comment    Verifying whether click on cancel button,class name will change or not.
    Comment    MYS-2728 : updated the code click on the No button if message prompt appears.
    ${cancelStatus}    Run Keyword If    ${promptMsgStatus}    Run Keyword And Return Status    Wait And Click Element    ${button.management.PromptBtnNo}
    Comment    MYS-2728 : To select the class record from class details table.
    Select The Record In Table    ${table.classesAndGroups}    Name    Class${uniqueValue}B    False
    ${classStatus}    Run Keyword If    ${cancelStatus}    Get Value    ${text.classDetails.name}
    ${ClassNameStatus}    String Should Contain    ${classStatus}    Class${uniqueValue}B
    Run Keyword And Continue On Failure    Run Keyword Unless    ${ClassNameStatus}    Fail    After click on the cancel button the class should be changed.
    Comment    Verifying whether when titles are edit and save then prompt message is displayed or not.
    Comment    MYS-2728 : update the script to click on element and wait until edit button disappear.
    Click On Element    ${button.classDetail.edit}
    Wait Until Element is Invisible    ${button.classDetail.edit}
    Click On Element    ${button.classDetails.editTitles}
    Wait Until Element Is Visible    ${check.editStudentsorTitles.selectAllCheckbox}    ${Delay}
    Click On Element    //td[text()='${assignmentTitle1}']
    Wait And Click Element    ${button.editStudentsAndTitles.save}
    Comment    Verifying whether click on proceed button titles are saved properly or not.
    ${seatsAuthorizationAlert}    Run Keyword And Return Status    Wait Until Element Is Visible    ${button.management.Proceed}    10s    Specified element is not visible in given time.
    Run Keyword If    ${seatsAuthorizationAlert}    Wait And Click Element    ${button.management.Proceed}
    Wait Until Element Is Visible    ${button.classDetails.editTitles}    ${TimeOut}
    Sleep    2s
    ${titlesList}    Wait For Element Visible    //div[text()='${assignmentTitle1}']
    Comment    ${titlesList}    Verify Element Visible    //div[text()='${assignmentTitle1}']
    Comment    Verifying whether when titles are edit and save then prompt message is displayed or not.
    Run Keyword And Continue On Failure    Run Keyword If    ${titlesList}    Wait And Click Element    ${button.classDetails.editTitles}
    Wait Until Element Is Visible    ${check.editStudentsorTitles.selectAllCheckbox}    ${Delay}
    Click On Element    //td[text()='${assignmentTitle2}']
    Wait And Click Element    ${button.editStudentsAndTitles.save}
    Comment    Verifying whether click on cancel button titles are saved or not..
    ${seatsAuthorizationAlert}    Run Keyword And Return Status    Wait Until Element Is Visible    ${button.management.Proceed}    10s
    Run Keyword If    ${seatsAuthorizationAlert}    Wait And Click Element    ${button.management.PromptBtnNo}
    ${titlesList}    Verify Element Visible    //div[text()='${assignmentTitle2}']
    Run Keyword If    ${titlesList}    Fail    After clicking on cancel button titles are added.
    [Teardown]    Stop Application

ATC 408-MYS 885-Admin can run arbitrary JavaScript code, but only in their context.
    [Documentation]    ATC 408-MYS 885-Admin can run arbitrary JavaScript code, but only in their context.
    ...
    ...    Step1 : Login as district admin.
    ...
    ...    Step2 : Navigating to imports page.
    ...
    ...    Step3 : Student first name as JavaScript code.
    ...
    ...    Step4 : Try to upload CSV file with the above Student first name.
    ...
    ...    Step5 : Admin can run arbitrary JavaScript code, but only in their context.
    [Tags]    DISTRICT_ADMIN_58    IMPORT_USERS_WITH_ARBITRARY_CODE    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    comment    Login to Wizard application with DistrictAdmin credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    "${loginStatus}"=="False"    Fail    The user is not able to login with valid credentials.
    Comment    Importing the users from the csv file.
    ${studentUserId}    GetUniqueValue    Student
    Comment    Create dictionary with student details
    ${studentDetails1}    Create Dictionary    User ID    ${studentUserId}    Password    password123    First Name
    ...    <script>alert('Can run arbitrary code, ');alert('including multiple lines.')</script>    Middle Name    s    Last Name    t    Grade Level
    ...    2    Role    student    School    ${selectingSchool}
    ${schoolDetails}    Create Dictionary    1    ${studentDetails1}
    ${filePath}    Set Variable    ${EXECDIR}\\Automation_Testsuites\\TestData\\ATC408.csv
    ${uploadedFileStatus}    Create Csv File Using Dictionary Values    ${filePath}    ${schoolDetails}
    Comment    To upload students from CSV
    ${fileExistenceStatus}    Run Keyword And Return Status    File Should Exist    ${filePath}
    Run Keyword If    '${fileExistenceStatus}'!='True'    Return From Keyword    ${fileExistenceStatus}
    Navigate To Import Users Page
    sleep    2s
    send    !N
    sleep    2s
    send    !N
    send    ${filePath}
    send    {ENTER}
    Comment    Added sleep for handle the Import Users Application \ issue in new build
    Sleep    10s
    ${impErrStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${label.importTemplate.importFailure}
    ${impErrMsg}    Run Keyword If    ${impErrStatus}    Get Text    ${label.importTemplate.importFailure}
    Comment    Upload Students From CSV    ${filePath}
    Comment    District admin can run arbitary javascript code,but only in their context
    ${alertText}    CommonLibrary.Get Alert Message
    Run Keyword If    @{alertText}[0]    Fail    Java Script Alert displaying when middlename passed as '<script>alert('Can run arbitrary code, ');alert('including multiple lines.')</script>'.
    [Teardown]    Stop Application

ATC 455-District Admin is able to Archive students
    [Documentation]    ATC 454-District Admin is able to Archive Students.
    ...
    ...    Step1 : Login to Wizard application with District admin credentials.
    ...
    ...    Step2 : Add Student role from management page.
    ...
    ...    Step3 : To select the above added roles from "Archive Teachers And Admins" table click on save button.
    ...
    ...    Step4 : "Archiving Students Can Only Partially Be Undone" window should be displayed click on proceed button.
    ...
    ...    Step5 : "The requested action has been completed." window should be displayed click on OK button.
    ...
    ...    Step6 : Verify archived records from User Details table,Table should be empty.
    ...
    ...    Step7 : Again click on Archive teachers and Admins button,Un check the previous selected records in "Archive Teachers And Admins" table click on save button.
    ...
    ...    Step8 : "Archiving Students Can Only Partially Be Undone" window should be displayed click on proceed button.
    ...
    ...    Step9 : "The requested action has been completed." window should be displayed click on OK button.
    ...
    ...    Step10 : Verify dearchived records from User Details table,Records should be displayed.
    [Tags]    DISTRICT_ADMIN_59    MANAGEMENT_ARCHIVE_STUDENTS    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    comment    Login to Wizard application with DistrictAdmin credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Comment    Navigating to Management page
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    ${uniqueVal}    GetUniqueValue    qa4mme+D_ADMIN_59
    comment    To add different roles from management table.
    ${addroleStatus}    Run Keyword And Return Status    Add Role From Management    FN${uniqueVal}    LN${uniqueVal}    ${uniqueVal}    Password${uniqueVal}
    ...    Student    \    5
    Run Keyword Unless    ${addroleStatus}    Fail    Unable tp add new user from management page
    ${lastName}    Set Variable    LN${uniqueVal}
    ${usersList}    Create List    ${lastName}
    Wait Until Element is Invisible    ${button.newUser.oK}
    ${status}    Verify Values In Table    ${table.users}    Last Name    ${lastName}
    Run Keyword And Continue On Failure    Run Keyword If    ${status}==False    Fail    The new user with ${each_Role} role not added.
    Comment    To archive the selected records from students list editor table.
    ${archiveRecordStatus}    Archive The Users    ${usersList}    Student
    Run Keyword Unless    ${archiveRecordStatus}    Fail    Uable to archive the selected record
    Input Text    ${text.management.search}    ${lastName}
    Comment    Verifying the student record was archived or not.
    ${recordStatus}    Verify Element Visible    ${table.users}//following-sibling::div[@class='dgrid-no-data']
    Run Keyword If    ${recordStatus}==True    Fail    Archived record is still visible in User Details table.
    Clear Text    ${text.management.search}
    Comment    To Dearchive the selected records from Archive students list editors table.
    ${deArchiveRecordStatus}    DeArchive The Users    ${usersList}    Student
    Run Keyword Unless    ${deArchiveRecordStatus}    Fail    Uable to dearchive the selected record
    Input Text    ${text.management.search}    ${lastName}
    Comment    Verifying the student record was dearchived or not.
    ${recordStatus}    Verify Values In Table    ${table.users}    Last Name    ${lastName}
    Run Keyword Unless    ${recordStatus}    Run Keyword And Continue On Failure    Fail    Dearchived record is not visible in User Details table.
    [Teardown]    Stop Application

ATC-457 Verify District Admin is able to Revert student to Previous Grade Level
    [Documentation]    ATC-457 Verify District Admin is able to Revert student to Previous Grade Level
    ...
    ...    Step1 : Login to wizard app with district admin credentials
    ...
    ...    Step2 : Add student from management page and click on promote student button.
    ...
    ...    Step3 : Select the student record from "Promoting and Reverting the Grade Level of Students" page and click on "Revert to Previous Grade Level" button.
    ...
    ...    Step4 : "Students Have Been Reverted to \ the Previous Grade Level" alert message should be displayed click on ok button.
    ...
    ...    Step5 : Verify the grade value of student in User Details table it should be reverted the grade valueto Previous Grade Level.
    [Tags]    DISTRICT_ADMIN_60    MANAGEMENT_REVERT_STUDENTS    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    Login to wizard app with district admin credentials
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Comment    Navigating to Management page
    Select The School Name    ${selectingSchool}
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    ${uniqueVal}    GetUniqueValue    SDTTest
    Comment    To add student role from mangement page.
    ${studentDetails}    Create Dictionary    User Name    ${uniqueVal}    Password    Password${uniqueVal}    First Name
    ...    ${uniqueVal}FN    Last Name    LN${uniqueVal}    Middle Name    MN    Grade Level
    ...    10
    ${lastName}    Get From Dictionary    ${studentDetails}    Last Name
    ${grade}    Get From Dictionary    ${studentDetails}    Grade Level
    ${studentId}    Get From Dictionary    ${studentDetails}    User Name
    ${studentUidList}    Create List    ${studentId}
    ${addroleStatus}    Run Keyword And Return Status    AddStudent    ${studentDetails}
    Run Keyword Unless    ${addroleStatus}    Fail    Unable to add new user from management page
    Wait Until Element is Invisible    ${button.newUser.oK}
    ${status}    Verify Values In Table    ${table.users}    Last Name    ${lastName}
    Run Keyword And Continue On Failure    Run Keyword If    ${status}==False    Fail    The new user with ${each_Role} role not added.
    Comment    wait and click on promote student button
    Wait And Click Element    ${button.managment.promoteStudents}
    ${studentListEditorTableStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${table.fromTable}    ${TimeOut}    Student list editor table is not visible.
    Comment    To revert the selected student record from student list editor table.
    ${promoteOrDemoteStatus}    Promote Or Demote Students    ${studentUidList}    Demote
    Run Keyword Unless    ${promoteOrDemoteStatus}    Fail    Passed list of Students were not promoted/Demoted.
    [Teardown]    Stop Application

ATC-458 Verify District Admin is able to Promote student to Next Grade Level
    [Documentation]    ATC-458 Verify District Admin is able to Promote student to Next Grade Level
    ...
    ...    Step1 : Login to wizard app with district admin credentials
    ...
    ...    Step2 : Add student from management page and click on promote student button.
    ...
    ...    Step3 : Select the student record from "Promoting and Reverting the Grade Level of Students" page and click on "Promote to Next Grade Level" button.
    ...
    ...    Step4 : "Students Have Been Promoted to the Next Grade Level" alert message should be displayed click on ok button.
    ...
    ...    Step5 : Verify the grade value of student in User Details table it should be promoted the grade valueto next Grade Level.
    [Tags]    DISTRICT_ADMIN_61    MANAGEMENT_PROMOTE_STUDENTS    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    Login to wizard app with district admin credentials
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Comment    Navigating to Management page
    Select The School Name    ${selectingSchool}
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    ${uniqueVal}    GetUniqueValue    SDTTest
    Comment    Add student role from management page.
    ${studentDetails}    Create Dictionary    User Name    ${uniqueVal}    Password    Password${uniqueVal}    First Name
    ...    ${uniqueVal}FN    Last Name    LN${uniqueVal}    Middle Name    MN    Grade Level
    ...    10
    ${lastName}    Get From Dictionary    ${studentDetails}    Last Name
    ${grade}    Get From Dictionary    ${studentDetails}    Grade Level
    ${studentId}    Get From Dictionary    ${studentDetails}    User Name
    ${studentUidList}    Create List    ${studentId}
    ${addroleStatus}    Run Keyword And Return Status    AddStudent    ${studentDetails}
    Run Keyword Unless    ${addroleStatus}    Fail    Unable to add new user from management page
    Wait Until Element is Invisible    ${button.newUser.oK}
    ${status}    Verify Values In Table    ${table.users}    Last Name    ${lastName}
    Run Keyword And Continue On Failure    Run Keyword If    ${status}==False    Fail    The new user with ${each_Role} role not added.
    Comment    wait and click on promote student button
    Wait And Click Element    ${button.managment.promoteStudents}
    ${studentListEditorTableStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${table.fromTable}    ${TimeOut}    Student list editor table is not visible.
    Comment    To promote the selected student record from student list editor table.
    ${promoteOrDemoteStatus}    Promote Or Demote Students    ${studentUidList}    Promote
    Run Keyword Unless    ${promoteOrDemoteStatus}    Fail    Passed list of Students were not promoted/Demoted.
    [Teardown]    Stop Application

ATC 461 - District Admin- Verify class archive functionality reflected in manage assignments
    [Documentation]    ATC 461-District Admin-class
    ...
    ...    Step1 : Login to wizard app with district admin credentials.
    ...
    ...    Step2 : Add new user as ateacher from management page.
    ...
    ...    Step3 : Add a class and titles from management page.
    ...
    ...    Step4 : Add student toa class from mangement page.
    ...
    ...    Step5 : Signout and relogin as a teacher,Assign assignment to a class from new assignments page.
    ...
    ...    Step 6 : Signout and relogin as a district admin to archive the class.
    ...
    ...    Step 7 : Signout and relogin as a teacher and verify the class name in manage assignments page,Class name should not be visible in manage assignments page after archived the class.
    [Tags]    DISTRICT_ADMIN_62    MANAGE_ASSIGNMNETS_VERIFY_ARCHIVED_CLASS    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${dAdmin_ID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${dAdmin_Password}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${uniqueVal}    GetUniqueValue    D_ADMIN_62
    ${className}    Set Variable    class${uniqueVal}
    ${classesList}    Create List    ${className}
    ${teacherFullName}    Set Variable    LN${uniqueVal},${SPACE}FN${uniqueVal}
    ${AssignmentNameTitle}    Set Variable If    ${isDemoQURL}    @{preSignUpTitleMenus}[0]    CCS Math Assessments Level 5
    ${AssignmentNameSubTitle}    Set Variable If    ${isDemoQURL}    06 Drawing    01 Form A
    ${titlesList}    Create List    ${AssignmentNameTitle}
    ${statusList}    Create List    True
    ${studentDetails1}    Create Dictionary    User Name    SDT1_${uniqueVal}    Password    StudentPwd123    First Name
    ...    ${uniqueVal}FN1    Last Name    LN1${uniqueVal}    Middle Name    MN    Grade Level
    ...    10
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    Login to wizard app with district admin credentials
    ${loginStatus}    LoginToWizardApp    ${dAdmin_ID}    ${dAdmin_Password}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    Add teacher role from management page
    ${teacherUid}    Add Role From Management    FN${uniqueVal}    LN${uniqueVal}    qa4mme+ta${uniqueVal}    ${teacherPassword}    Teacher
    Wait Until Element is Invisible    ${button.newUser.oK}
    Comment    Add a class,Titles from management page
    Comment    MYS-2410 : Updated code to verify class is created or not.
    ${ClassStatus}    Add A Class Or Group    ${className}    ${teacherFullName}
    ${rowNo}    Select The Record In Table    ${table.classesAndGroups}    Name    ${className}
    Run Keyword If    "${rowNo}"=="0"    Fail    No class found with the given details.
    Edit The Class Or Group Details
    Edit Students Or Titles    ${titlesList}    ${statusList}    Title Name
    Wait And Click Element    ${button.classDetails.save}
    Comment    Add class to a student from management page.
    ${AddClassToStudent}    AddClassToStudent    ${studentDetails1}    ${classesList}
    Run Keyword Unless    ${AddClassToStudent}    Fail    student is not added to a class
    Wait Until Element is Invisible    ${button.newUser.oK}
    Close Browser
    Comment    Login to wizard app with teacher credentials.
    ${loginStatus}    LoginToWizardApp    ${teacherUid}    ${teacherPassword}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Comment    MYS-2410 : To handle 'Enhancements' and 'Terms And Conditions' dialogs.
    Comment    Mys-4471 :Enhancement Alert message has been removed from application
    Comment    ${enchancementStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${common.window.Enhancements}
    Comment    Run Keyword If    '${enchancementStatus}'=='True'    Click On Element    //button[@id='mysAlertBtn']//parent::div[@id='alertOkBtn']
    ${bStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    //button[@id='termsAndConditionsDlg-submit']    ${TimeOut}    Terms and conditions window is not displayed.
    Run Keyword If    ${bStatus}    Wait And Click Element    //button[@id='termsAndConditionsDlg-submit']
    Comment    Wait and click on IAgree button
    ${bStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${common.SignUp.IAgreeBttn}    ${TimeOut}    "I Agree" button is not visible after clicking on "Terms And Conditions" button.
    Run Keyword If    ${bStatus}    Wait And Click Element    ${common.SignUp.IAgreeBttn}
    Wait Until Element is Invisible    ${common.SignUp.IAgreeBttn}
    Navigate To Assignment Page
    Navigate To New Assignments Page
    Comment    Add assignment to a student from new assignments page.
    ${assignmentsStatus}    Add Assignment To A Student    ${className}    ${AssignmentNameTitle}    \    ${AssignmentNameSubTitle}
    Run Keyword Unless    ${assignmentsStatus}    Fail    Assignment is not assigned to class
    Close Browser
    Comment    Login to wizard app with district admin credentials
    ${loginStatus}    LoginToWizardApp    ${dAdmin_ID}    ${dAdmin_Password}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    To archive the class
    ${archiveClassAndGroupStatus}    Archive Classes And Groups    ${classesList}
    Run Keyword Unless    ${archiveClassAndGroupStatus}    Fail    Failed to archive class.
    Close Browser
    Comment    Login to wizard app with teacher credentials
    ${loginStatus}    LoginToWizardApp    ${teacherUid}    ${teacherPassword}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    ${Guided tool tip}    Run Keyword And Return Status    Wait For Element Visible    //div[@class='guidedHelpTooltipFooter']/div[contains(text(),'Hide Guided Help')]    10s
    Run Keyword If    ${Guided tool tip}    Wait And Click Element    //div[@class='guidedHelpTooltipFooter']/div[contains(text(),'Hide Guided Help')]
    Navigate To Assignment Page
    Navigate To Manage Assignments Page
    Wait And Select Frame    ${header.assignments.assignmentManage}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Comment    To verify after archiving the class is visible in manage assignments page or not
    ${classStatus}    Verify Element Present    ${table.manageAssignments.allGroupList}//div[@class='dgrid-content ui-widget-content']/div[text()='${className}']
    Run Keyword If    ${classStatus}    Fail    The archived class name still present in manage assignments page.
    [Teardown]    Stop Application

ATC-465-District Admin can Import different roles
    [Documentation]    District Admin_Import teachers with same school
    ...
    ...    Step1 : Login as a district admin with valid credentials.
    ...
    ...    Step2 : Create a dictonary for district admin,School admin,teacher and student details.
    ...
    ...    Step3 : Click on import users and select "Yes I am ready to import."
    ...
    ...    Step4 : Try to upload users, "Congraluations! the user have been imported" message should be displayed.
    ...
    ...    Step4 : Navigate to management page and verify the records,Records should be visible.
    [Tags]    DISTRICT_ADMIN_64    IMPORT_USERS_DIFFERENT_ROLES    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${dAdmin_ID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${dAdmin_Password}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    comment    Login to wizard application with district admin credentials.
    ${loginStatus}    LoginToWizardApp    ${dAdmin_ID}    ${dAdmin_Password}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Comment    Try to import district admin,school admin,teacher and student details.
    ${uniqueValue}    GetUniqueValue    SDttest
    ${districtAdminDetails}    Create Dictionary    User ID    qa4mme+da${uniqueValue}@gmail.com    Password    test01${uniqueValue}    First Name
    ...    DA${uniqueValue}FN    Middle Name    DA${uniqueValue}MN    Last Name    DA${uniqueValue}LN    Grade Level
    ...    \    Role    District Admin    School    ${selectingSchool}
    ${schoolAdminDetails}    Create Dictionary    User ID    qa4mme+sa${uniqueValue}@gmail.com    Password    test02${uniqueValue}    First Name
    ...    SA${uniqueValue}FN    Middle Name    SA${uniqueValue}MN    Last Name    SA${uniqueValue}LN    Grade Level
    ...    \    Role    School Admin    School    ${selectingSchool}
    ${teacherDetails}    Create Dictionary    User ID    qa4mme+ta${uniqueValue}@gmail.com    Password    test03${uniqueValue}    First Name
    ...    TE${uniqueValue}FN    Middle Name    TE${uniqueValue}MN    Last Name    TE${uniqueValue}LN    Grade Level
    ...    \    Role    Teacher    School    ${selectingSchool}
    ${studentDetails}    Create Dictionary    User ID    STD${uniqueValue}    Password    test04${uniqueValue}    First Name
    ...    STD${uniqueValue}FN    Middle Name    STD${uniqueValue}MN    Last Name    STD${uniqueValue}LN    Grade Level
    ...    5    Role    Student    School    ${selectingSchool}
    ${districtAdminLN}    Get From Dictionary    ${districtAdminDetails}    Last Name
    ${schoolAdminLN}    Get From Dictionary    ${schoolAdminDetails}    Last Name
    ${teacherLN}    Get From Dictionary    ${teacherDetails}    Last Name
    ${studentLN}    Get From Dictionary    ${studentDetails}    Last Name
    ${schoolDetails}    Create Dictionary    1    ${districtAdminDetails}    2    ${schoolAdminDetails}    3
    ...    ${teacherDetails}    4    ${studentDetails}
    ${filePath}    Set Variable    ${EXECDIR}\\Automation_Testsuites\\TestData\\ATC465.csv
    ${uploadedFileStatus}    Create Csv File Using Dictionary Values    ${filePath}    ${schoolDetails}
    Comment    Verifying whether district admin is able to import all roles or not.
    ${uploadStatus}    Upload Students From CSV    ${filePath}
    Run Keyword If    '${uploadStatus}'!='True'    Fail    Import teachers Functionality Failed while uploading two teachers for same school.
    Wait And Click Element    ${button.importTemplate.importUsersDlgClose}
    Navigate From Import Users
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Comment    Verify whether the imported details are displayed in the "UserDetails" table or not
    ${LastNameList}    Create List    ${districtAdminLN}    ${schoolAdminLN}    ${teacherLN}    ${studentLN}
    : FOR    ${itr}    IN    @{LastNameList}
    \    ${eachRoleStatus}    Verify Values In Table    ${table.users}    Last Name    ${itr}
    \    Run Keyword Unless    ${eachRoleStatus}    Fail    Uploaded users details are not displayed in UserDetails.
    [Teardown]    Stop Application

ATC-467 District Admin-verify grade level filtering functionality in ArchiveStudent
    [Documentation]    ATC-467 District Admin-verify grade level filtering functionality in ArchiveStudent
    ...
    ...    Step1 : Login to wizard app with district admin credentials.
    ...
    ...    Step2 : Select the preschool from schools drop down
    ...
    ...    Step3 : Add a student from management page.
    ...
    ...    Step4 : Click on archive student button.
    ...
    ...    Step5 : Select the grade level and verify the records according to selected grade level.
    ...
    ...    Step6 : Records should be displayed as related to selected grade level.
    [Tags]    DISTRICT_ADMIN_65    MANAGEMENT_ARCHIVE_USERS_FILTER_BY_GRADE    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${dAdmin_ID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${dAdmin_Password}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${uniqueValue}    GetUniqueValue    SDT
    ${grade}    Set Variable    3
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    Login to wizard app with district admin credentials
    ${loginStatus}    LoginToWizardApp    ${dAdmin_ID}    ${dAdmin_Password}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    ${studentDetails}    Create Dictionary    User Name    STD${uniqueValue}    Password    test012345    First Name
    ...    STD${uniqueValue}FN    Middle Name    STD${uniqueValue}MN    Last Name    STD${uniqueValue}LN    Grade Level
    ...    ${grade}    Role    Student    School    ${selectingSchool}
    Comment    Add a student from managment page.
    ${studentStatus}    AddStudent    ${studentDetails}
    Run Keyword Unless    ${studentStatus}    Fail    The student is not added.
    ${bStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${button.management.studentArchive}
    Run Keyword If    ${bStatus}    Wait And Click Element    ${button.management.studentArchive}
    ${listEditorTable}    Run Keyword And Return Status    Wait Until Element Is Visible    ${table.fromTable}    ${TimeOut}    All Teachers and Admins list editor table is not visble.
    Comment    Select the grade value in archive students table.
    ${gradeValue}    Select DropDown Values    ${dropDown.archiveStudents.Grade}    ${table.archiveStudents.gradeMenu}    ${grade}
    Comment    Verifing the grade filtering functionality in in archive students table.
    ${selectedGradeStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${text.archiveStudents.gradeValue}//span[text()='${grade}']    ${TimeOut}    The grade value is not visible in graded text box.
    ${matchingGradeValuesCount}    Get Matching Xpath Count    ${table.fromTable}//div[@class='dgrid-content ui-widget-content']//div[@role='row']//table//tr//td[text()='${grade}']
    : FOR    ${Itr}    IN    ${matchingGradeValuesCount}
    \    ${gradeValStatus}    Verify Element Visible    ${table.fromTable}//div[@class='dgrid-content ui-widget-content']//div[@role='row'][${Itr}]//table//tr//td[contains(@class,'field-grade')]
    \    ${gradeVal}    Get Text    ${table.fromTable}//div[@class='dgrid-content ui-widget-content']//div[@role='row'][${Itr}]//table//tr//td[contains(@class,'field-grade')]
    \    ${gradesStatus}    String Should Contain    ${gradeVal}    ${grade}
    \    Run Keyword Unless    ${gradesStatus}    Fail    Grade filtering functionality is failed.
    [Teardown]    Stop Application

ATC-443-District Admin-Archive classes and Groups functionality verification.
    [Documentation]    ATC-443-District Admin-Archive classes and Groups functionality verification.
    ...
    ...    Step1 : Login to wizard application with district admin credentials.
    ...
    ...    Step2 : Add a class from management page.
    ...
    ...    Step3 : Click on Archive classes and Groups button.
    ...
    ...    Step4 : Select the class or group from list editor and save.
    ...
    ...    Step5 : "Archiving Classes and Groups Can Only Partially Be Undone" window should be displayed.
    ...
    ...    Step6 : Click on "Achive Now" button and click on close button.
    ...
    ...    Step7 : Verify the calss name from class details table the class name should be hide.
    ...
    ...    Step8 : Again click on "Archive classes and Groups" button and un check the class name click on save button.
    ...
    ...    Step9 : "Archiving Classes and Groups Can Only Partially Be Undone" window should be displayed.
    ...
    ...    Step10: \ Click on "Achive Now" button and " Archiving Classes and Groups Complete " window should be displayed click on OK.
    ...
    ...    Step11 :Click on close button and verify class name in class details window Class name should be visible.
    [Tags]    DISTRICT_ADMIN_66    MANAGEMENT_ARCHIVE_CLASSES_AND_GROUPS    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${dAdmin_ID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${dAdmin_Password}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    Login to wizard application with district admin credentials.
    ${loginStatus}    LoginToWizardApp    ${dAdmin_ID}    ${dAdmin_Password}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    ...    ELSE    Set Test Message    The user is able to login successfully.
    Select The School Name    ${selectingSchool}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    ${uniqueValue}    GetUniqueValue    QA
    ${className}    Set Variable    Class${uniqueValue}
    Comment    ${groupName}    Set Variable    Group${uniqueValue}
    Comment    ${bStatus}=    Wait Until Element Is Visible    ${button.management.showGroups}    ${TimeOut}    The Show Groups button is not visble in management page.
    ${classAndGroupList}    Create List    ${className}
    ${classOrGroupType}    Create List    Class
    Add A Class Or Group    ${className}    \    Created by QA off shore
    ${bStatus}=    Verify Values In Table    ${table.classesAndGroups}    Name    ${className}
    Run Keyword Unless    ${bStatus}    Fail    The newly added class is not shown in the 'classes' table.
    Comment    : FOR    ${type}    IN    @{classOrGroupType}
    Comment    \    Run Keyword If    '${type}'=='Group'    Wait And Click Element    ${button.management.showGroups}
    Comment    \    Run Keyword If    '${type}'=='Group'    Wait Until Element Is Visible    ${button.management.showClasses}    ${TimeOut}
    ...    Show groups button clicking action not recieved by element.
    Comment    \    Comment    Add a class from mangement page.
    Comment    \    ${classAndGroup}    Set Variable If    '${type}'=='Group'    ${groupName}    ${className}
    Comment    \    Add A Class Or Group    ${classAndGroup}    \    Created by QA off shore    ${type}
    Comment    \    ${bStatus}=    Verify Values In Table    ${table.classesAndGroups}    Name    ${classAndGroup}
    Comment    \    Run Keyword Unless    ${bStatus}    Fail    The newly added class is not shown in the 'classes' table.
    Comment    Verifing to Archive classes and groups functionality.
    ${archiveClassGroups}    Archive Classes And Groups    ${classAndGroupList}
    Run Keyword Unless    ${archiveClassGroups}    Fail    Failed to archive classes or Groups
    Comment    verifing the class or group name after archive class or group in class details table.
    ${bStatus}=    Verify Values In Table    ${table.classesAndGroups}    Name    ${className}
    Run Keyword If    ${bStatus}    Fail    The class or group name is still visible after Archied the class.
    Comment    Verifying whether dearchive the classes and groups.
    ${deArchiveClassGroups}    De-Archive Classes Or Groups    ${classAndGroupList}
    Run Keyword Unless    ${deArchiveClassGroups}    Fail    Failed to archive classes or Groups
    Comment    verifing the class or group name after deArchive class or group in class details table.
    ${bStatus}=    Verify Values In Table    ${table.classesAndGroups}    Name    ${className}
    Run Keyword Unless    ${bStatus}    Fail    The class or group names are not visible after deArchied the class or group.
    [Teardown]    Stop Application

ATC-446-District Admin imports School Admin
    [Documentation]    ATC-446-Verify District admin able to import admins
    ...
    ...    Step1 : Login to wizard app with district admin details.
    ...
    ...    Step2 : Create a dictionary to district admin and school admin details.
    ...
    ...    Step3 : Click on import button and select "Yes,Iam ready to import".
    ...
    ...    Step4 : Try to upload the the admin details.
    ...
    ...    Step5 : Details should be imported and "Congralations" message should be displayed.
    ...
    ...    Step6 : Navigate to management page and verify the records which are imported.
    ...
    ...    Step7 : Records should be visible in user details table.
    [Tags]    DISTRICT_ADMIN_67    IMPORT_SCHOOL_ADMIN    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${dAdmin_ID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${dAdmin_Password}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    Login to wizard application with district admin credentials.
    ${loginStatus}    LoginToWizardApp    ${dAdmin_ID}    ${dAdmin_Password}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    ...    ELSE    Set Test Message    The user is able to login successfully.
    Select The School Name    ${selectingSchool}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Comment    Try to import School admin District admin details
    ${uniqueValue}    GetUniqueValue    admin
    ${districtAdminDetails}    Create Dictionary    User ID    qa4mme+da${uniqueValue}@gmail.com    Password    test01${uniqueValue}    First Name
    ...    ${uniqueValue}FN    Middle Name    ${uniqueValue}MN    Last Name    ${uniqueValue}LN    Grade Level
    ...    \    Role    District Admin    School    ${selectingSchool}
    ${schoolAdminDetails}    Create Dictionary    User ID    qa4mme+sa${uniqueValue}@gmail.com    Password    test02${uniqueValue}    First Name
    ...    ${uniqueValue}1FN    Middle Name    ${uniqueValue}1MN    Last Name    ${uniqueValue}1LN    Grade Level
    ...    2    Role    School Admin    School    ${selectingSchool}
    ${schoolDetails}    Create Dictionary    1    ${districtAdminDetails}    2    ${schoolAdminDetails}
    ${filePath}    Set Variable    ${EXECDIR}\\Automation_Testsuites\\TestData\\ATC446.csv
    ${uploadedFileStatus}    Create Csv File Using Dictionary Values    ${filePath}    ${schoolDetails}
    Comment    Verifying whether district admin is able to import admins.
    ${uploadStatus}    Upload Students From CSV    ${filePath}
    Run Keyword If    '${uploadStatus}'!='True'    Fail    Import Admins Functionality Failed while uploading School admin and District Admin.
    Wait And Click Element    ${button.importTemplate.importUsersDlgClose}
    Navigate From Import Users
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Comment    Verify whether the imported details are displayed in the "UserDetails" table or not.
    ${districtAdminRecordStatus}    Run Keyword And Return Status    Verify Values In Table    ${table.users}    First Name    ${uniqueValue}FN
    ${schoolAdminRecordStatus}    Run Keyword And Return Status    Verify Values In Table    ${table.users}    First Name    ${uniqueValue}1FN
    Run Keyword Unless    ${districtAdminRecordStatus} and ${schoolAdminRecordStatus}    Fail    Imported admin details are not displayed in UserDetails.
    [Teardown]    Stop Application

ATC-449- Admins able to import Students with Tag
    [Documentation]    ATC-449-Verify Admins able to import Students with Tag.
    ...
    ...    Step1 : Login to wizard app with district admin details.
    ...
    ...    Step2 : Create a dictionary to student details with Tag.
    ...
    ...    Step3 : Click on import button and select "Yes,Iam ready to import".
    ...
    ...    Step4 : Try to upload the the admin details.
    ...
    ...    Step5 : Details should be imported and "Congralations" message should be displayed.
    ...
    ...    Step6 : Navigate to management page and verify the records which are imported.
    ...
    ...    Step7 : Student Record should be visible in user details table.
    ...
    ...    Step8 : Close browser and again login with school admin credentials.
    ...
    ...    Step9 : Create a dictionary to student details with Tag.
    ...
    ...    Step10 : Click on import button and select "Yes,Iam ready to import".
    ...
    ...    Step11 : Try to upload the the admin details.
    ...
    ...    Step12 : Details should be imported and "Congralations" message should be displayed.
    ...
    ...    Step13 : Navigate to management page and verify the records which are imported.
    [Tags]    DISTRICT_ADMIN_68    IMPORT_STUDENTS_WITH_TAG    MEDIUM
    Run Keyword If    '${preDistrictAdminStatus}'=='False' and '${preScriptStatus}'=='False'    Fail    PreRequisite District Admin/PreRequisite School Admin is not created
    ${dAdmin_ID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${dAdmin_Password}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${SchoolAdminUid}    Get From Dictionary    ${preSchoolAdminDetails}    UserName
    ${SchoolAdminPwd}    Get From Dictionary    ${preSchoolAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    Login to wizard application with district admin credentials.
    ${loginStatus}    LoginToWizardApp    ${dAdmin_ID}    ${dAdmin_Password}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    ...    ELSE    Set Test Message    The user is able to login successfully.
    Select The School Name    ${selectingSchool}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    ${uniqueValue}    GetUniqueValue
    Comment    MYS-4381 :Label name of the tag is changed from tag to Class Label
    ${studentDetails1}    Create Dictionary    User ID    std1${uniqueValue}    Password    test012345    First Name
    ...    ${uniqueValue}FN    Middle Name    ${uniqueValue}MN    Last Name    ${uniqueValue}LN    Grade Level
    ...    3    Role    Student    School    ${selectingSchool}    Class Label
    ...    STD Test
    ${studentDetails2}    Create Dictionary    User ID    std2${uniqueValue}    Password    test012345    First Name
    ...    ${uniqueValue}1FN    Middle Name    ${uniqueValue}1MN    Last Name    ${uniqueValue}1LN    Grade Level
    ...    2    Role    Student    School    ${selectingSchool}    Class Label
    ...    STD Test
    ${schoolDetails1}    Create Dictionary    1    ${studentDetails1}
    ${schoolDetails2}    Create Dictionary    1    ${studentDetails2}
    ${filePath}    Set Variable    ${EXECDIR}\\Automation_Testsuites\\TestData\\ATC449.csv
    ${schoolDetails}    Create List    ${schoolDetails1}    ${schoolDetails2}
    ${noOfRoles}    Get Length Of List    ${schoolDetails}
    : FOR    ${index}    IN RANGE    0    ${noOfRoles}
    \    ${each_Admin}    Set Variable    @{schoolDetails}[${index}]
    \    ${studentDetails}    Get From Dictionary    @{schoolDetails}[${index}]    1
    \    ${uploadedStudentFirstName}    Get From Dictionary    ${studentDetails}    First Name
    \    ${uploadedFileStatus}    Create Csv File Using Dictionary Values    ${filePath}    ${each_Admin}
    \    Comment    Verifying whether district admin is able to import students with Tag.
    \    ${uploadStatus}    Upload students    ${filePath}
    \    Run Keyword If    '${uploadStatus}'!='True'    Fail    Import Students Functionality Failed when uploading students with Tags.
    \    Wait And Click Element    ${button.importTemplate.importUsersDlgClose}
    \    Navigate From Import Users
    \    Navigate To Management Page
    \    Wait And Select Frame    ${header.management.schoolAdminFrame}
    \    Wait Until Element is Invisible    ${common.homepage.Loading}
    \    Comment    Verify whether the imported details are displayed in the "UserDetails" table or not.
    \    ${studentRecordStatus1}    Verify Values In Table    ${table.users}    First Name    ${uploadedStudentFirstName}
    \    Run Keyword Unless    ${studentRecordStatus1}    Fail    Imported admin details are not displayed in UserDetails.
    \    Close Browser
    \    Run Keyword If    ${index}<${noOfRoles}-1    LoginToWizardApp    ${SchoolAdminUid}    ${SchoolAdminPwd}
    [Teardown]    Stop Application

ATC 450 - District Admin is able to Archive Teachers And Admins
    [Documentation]    ATC 450-District Admin is able to Archive Teachers And Admins.
    ...
    ...    Step1 : Login to Wizard application with District admin credentials.
    ...
    ...    Step2 : Add School Admin,Teacher and Teacher School Admin roles from management page.
    ...
    ...    Step3 : To select the above added roles from "Archive Teachers And Admins" table click on save button.
    ...
    ...    Step4 : "Archive Teachers And Admins" window should be displayed click on proceed button.
    ...
    ...    Step5 : "The requested action has been completed." window should be displayed click on OK button.
    ...
    ...    Step6 : Verify archived records from User Details table,Table should be empty.
    ...
    ...    Step7 : Again click on Archive teachers and Admins button,Un check the previous selected records in "Archive Teachers And Admins" table click on save button.
    ...
    ...    Step8 : "Archive Teachers And Admins" window should be displayed click on proceed button.
    ...
    ...    Step9 : "The requested action has been completed." window should be displayed click on OK button.
    ...
    ...    Step10 : Verify dearchived records from User Details table,Records should be displayed.
    [Tags]    DISTRICT_ADMIN_69    MANAGEMENT_ARCHIVE_TEACHERS_ADMINS    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${teacherRole}    Set Variable    Instructor
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    comment    Login to Wizard application with DistrictAdmin credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    ${roles}    Create List    ${teacherRole}    ${schoolAdmin}
    ${role_List}    Create List    SchoolAdmin    Teacher    ${roles}
    : FOR    ${each_Role}    IN    @{role_List}
    \    ${uniqueVal}    GetUniqueValue    qa4mme+D_ADMIN_69
    \    comment    To add different roles from management table.
    \    ${addroleStatus}    Run Keyword And Return Status    Add Role From Management    FN${uniqueVal}    LN${uniqueVal}    ${uniqueVal}
    \    ...    Password${uniqueVal}    ${each_Role}    \    5
    \    Run Keyword Unless    ${addroleStatus}    Fail    Unable tp add new user from management page
    \    ${lastName}    Set Variable    LN${uniqueVal}
    \    ${usersList}    Create List    ${lastName}
    \    Wait Until Element is Invisible    ${button.newUser.oK}
    \    ${status}    Verify Values In Table    ${table.users}    Last Name    ${lastName}
    \    Run Keyword And Continue On Failure    Run Keyword If    ${status}==False    Fail    The new user with ${each_Role} role not added.
    \    Comment    To archive the selected records from Archive teachers and Admins table.
    \    ${archiveRecordStatus}    Archive The Users    ${usersList}    TeachersAdmins
    \    Run Keyword Unless    ${archiveRecordStatus}    Fail    Uable to archive the selected record
    \    Input Text    ${text.management.search}    ${lastName}
    \    ${recordStatus}    Verify Element Visible    //div[@id='userGrid']//following-sibling::div[@class='dgrid-no-data']
    \    Run Keyword If    ${recordStatus}==True    Fail    Archived record is still visible in User Details table.
    \    Clear Text    ${text.management.search}
    \    Comment    To Dearchive the selected records from Archive teachers and Admins table.
    \    ${deArchiveRecordStatus}    DeArchive The Users    ${usersList}    TeachersAdmins
    \    Run Keyword Unless    ${deArchiveRecordStatus}    Fail    Uable to dearchive the selected record
    \    Input Text    ${text.management.search}    ${lastName}
    \    ${recordStatus}    Verify Values In Table    ${table.users}    Last Name    ${lastName}
    \    Run Keyword Unless    ${recordStatus}    Run Keyword And Continue On Failure    Fail    Dearchived record is not visible in User Details table.
    \    Clear Text    ${text.management.search}
    [Teardown]    Stop Application

ATC 452 - DistrictAdmin- Teacher have classes/groups and cannot be archived
    [Documentation]    ATC 452 Teacher have classes/groups and cannot be archived.
    ...
    ...    Step1 : Login to wizard app with District admin credentials.
    ...
    ...    Step2 : Add teacher role from management page.
    ...
    ...    Step3 : Add classes/groups from mangement with above teacher.
    ...
    ...    Step4 : Try to archive the teacher,Alert message" One or more of the selected teachers have classes/groups and cannot be archived."should be displayed.
    [Tags]    DISTRICT_ADMIN_70    MANAGEMENT_VERIFY_ARCHIVE_TEACHERS_WITH_CLASSES    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${uniqueVal}    GetUniqueValue    qa4mme+D_ADMIN_70
    ${classAndGroup}    Create List    class${uniqueVal}
    ${firstName}    Set Variable    FN${uniqueVal}
    ${lastName}    Set Variable    LN${uniqueVal}
    ${teacherFullName}    Set Variable    ${lastName},${SPACE}${firstName}
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    comment    Login to Wizard application with DistrictAdmin credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    Add teacher role from management page
    ${newUserStatus}    Run Keyword And Return Status    Add Role From Management    ${firstName}    ${lastName}    ${uniqueVal}    Password${uniqueVal}
    ...    Teacher    \    5
    Run Keyword Unless    ${newUserStatus}    Fail    Unable tp add new user from management page
    Wait Until Element is Invisible    ${button.newUser.oK}
    ${status}    Verify Values In Table    ${table.users}    Last Name    ${lastName}
    Run Keyword And Continue On Failure    Run Keyword If    ${status}==False    Fail    The new user with ${each_Role} role not added.
    ${classOrGroupType}    Create List    Class
    : FOR    ${type}    IN    @{classOrGroupType}
    \    Comment    Run Keyword If    '${type}'=='Group'    Wait And Click Element    ${button.management.showGroups}
    \    Comment    Run Keyword If    '${type}'=='Group'    Wait Until Element Is Visible    ${button.management.showClasses}
    \    Comment    Add a class from mangement page.
    \    ${classAndGroup}    Set Variable    class${uniqueVal}
    \    ${classOrGroupStatus}    Add A Class Or Group    ${classAndGroup}    ${teacherFullName}    Created by QA off shore    ${type}
    \    ${bStatus}=    Verify Values In Table    ${table.classesAndGroups}    Name    ${classAndGroup}
    \    Run Keyword Unless    ${bStatus}    Fail    The newly added class is not shown in the 'classes' table.
    \    Comment    Try to archive the teachers have classes/groups from Archive teachers and Admins table.
    \    Wait And Click Element    ${button.management.teacherAndAdminsArchive}
    \    ${listEditorTable}    Run Keyword And Return Status    Wait Until Element Is Visible    ${table.fromTable}    ${TimeOut}    All Teachers and Admins list editor table is not visble.
    \    ${recordStatus}    Run Keyword And Return Status    Select The Record In Table    ${table.fromTable}    Last Name    ${lastName}
    \    Run Keyword Unless    ${recordStatus}    Fail    The record is not added.
    \    Wait And Click Element    ${button.editStudentsAndTitles.save}
    \    ${ProceedAlertStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${label.deleteClassOrGroup.promptMsg}    ${TimeOut}    Alert is not diplayed when Archive the record.
    \    Run Keyword If    ${ProceedAlertStatus}    Wait And Click Element    ${button.management.Proceed}
    \    Wait Until Element Is Visible    ${label.login.Alert}    ${TimeOut}    completed alert message is not displayed when proceed to archive the record
    \    Comment    Teachers have classes/groups and cannot be archived,alert message should be displayed.
    \    ${alertMsgStatus}    Get Text    ${label.login.AlertMsg}
    \    ${alertMessageStatus}    String Should Contain    ${alertMsgStatus}    One or more of the selected teachers have classes/groups and cannot be archived.
    \    Run Keyword Unless    ${alertMessageStatus}    Fail    Teacher have classes or groups and Archived.
    \    Wait And Click Element    ${button.alert.mysAlertBtn}
    [Teardown]    Stop Application

ATC-469 Verify District Admin is able to demote a student "K" to "Pre-K"
    [Documentation]    ATC-469 Verify District Admin is able to demote a student "K" to "Pre-K"
    ...
    ...    Step1 : Login to wizard app with district admin credentials
    ...
    ...    Step2 : Add student from management page and click on promote student button.
    ...
    ...    Step3 : Select the student record from "Promoting and Reverting the Grade Level of Students" page and click on "Revert to Previous Grade Level" button.
    ...
    ...    Step4 : "Students Have Been Reverted to the Previous Grade Level" alert message should be displayed click on ok button.
    ...
    ...    Step5 : Verify the grade value of student in User Details table it should be reverted the grade valueto Previous Grade Level.
    ...
    ...    Step6 : Grade value should be demoted "K" to "Pre-K".
    [Tags]    DISTRICT_ADMIN_71    MANAGEMENT_DEMOTE_STUDENT_TO_PREKG    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    Login to wizard app with district admin credentials
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Comment    Navigating to Management page
    Select The School Name    ${selectingSchool}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    ${uniqueVal}    GetUniqueValue    SDTTest
    Comment    To add student role from mangement page.
    ${studentDetails}    Create Dictionary    User Name    ${uniqueVal}    Password    Password${uniqueVal}    First Name
    ...    ${uniqueVal}FN    Last Name    LN${uniqueVal}    Middle Name    MN    Grade Level
    ...    K
    ${lastName}    Get From Dictionary    ${studentDetails}    Last Name
    ${grade}    Get From Dictionary    ${studentDetails}    Grade Level
    ${studentId}    Get From Dictionary    ${studentDetails}    User Name
    ${studentUidList}    Create List    ${studentId}
    ${addroleStatus}    Run Keyword And Return Status    AddStudent    ${studentDetails}
    Run Keyword Unless    ${addroleStatus}    Fail    Unable to add new user from management page
    Wait Until Element is Invisible    ${button.newUser.oK}
    ${status}    Verify Values In Table    ${table.users}    Last Name    ${lastName}
    Run Keyword And Continue On Failure    Run Keyword If    ${status}==False    Fail    The new user with ${each_Role} role not added.
    Comment    wait and click on promote student button
    Wait And Click Element    ${button.managment.promoteStudents}
    ${studentListEditorTableStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${table.fromTable}    ${TimeOut}    Student list editor table is not visible.
    Comment    To revert the selected student record from student list editor table grade "K" to "Pre-K".
    ${promoteOrDemoteStatus}    Promote Or Demote Students    ${studentUidList}    Demote
    Run Keyword Unless    ${promoteOrDemoteStatus}    Fail    Student grade is not demoted to "K" to "Pre-K".
    [Teardown]    Stop Application

ATC 471 District admin-Verify the search functionality in archive teachers & admis table
    [Documentation]    ATC 471 District admin-Verify the search functionality in archive teachers & admis table
    ...
    ...    Step1 : Login to wizard application with district admin credentials.
    ...
    ...    Step2 : Add school admin,Teacher and teacher,school admin roles from management page.
    ...
    ...    Step3 : Click on Archive Teachers&Admins button
    ...
    ...    Step4 : Verify the record using search functionality,unique record should be displayed.
    [Tags]    DISTRICT_ADMIN_72    MANAGEMENT_SEARCH_ARCHIVED_TEACHERS_ADMINS    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${teacherRole}    Set Variable    Instructor
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    comment    Login to Wizard application with DistrictAdmin credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    ${roles}    Create List    ${teacherRole}    ${schoolAdmin}
    ${role_List}    Create List    SchoolAdmin    Teacher    ${roles}
    : FOR    ${each_Role}    IN    @{role_List}
    \    ${uniqueVal}    GetUniqueValue    qa4mme+D_ADMIN_72
    \    comment    To add different roles from management table.
    \    ${adminUserID}    Add Role From Management    FN${uniqueVal}    LN${uniqueVal}    ${uniqueVal}    Password${uniqueVal}
    \    ...    ${each_Role}    \    5
    \    Wait Until Element is Invisible    ${button.newUser.oK}
    \    ${bStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${button.management.teacherAndAdminsArchive}
    \    Run Keyword If    ${bStatus}    Wait And Click Element    ${button.management.teacherAndAdminsArchive}
    \    ${listEditorTable}    Run Keyword And Return Status    Wait Until Element Is Visible    ${table.fromTable}    ${TimeOut}    All Teachers and Admins list editor table is not visble.
    \    Comment    To search the record in archive teachers and admins table.
    \    Search The Records    ${table.fromTable}    ${Text.search.studentOrTitles}    ${adminUserID}
    \    ${recordCount}    Get Matching Xpath Count    ${table.fromTable}//div[@class='dgrid-content ui-widget-content']//div[@role='row']
    \    ${recordsStatus}    String Should Contain    ${recordCount}    1
    \    Run Keyword Unless    ${recordsStatus}    Fail    Records count were mismatched using search functionality.
    \    Clear Text    ${Text.search.studentOrTitles}
    \    Wait And Click Element    ${button.listEditor.close}
    [Teardown]    Stop Application

ATC 496 District Admin-Verify close button and search functionality in edit classes&Groups
    [Documentation]    ATC 496 District Admin-close button and search functionality in edit classes&Groups
    ...
    ...    Step1 : Login to wizard app with district admin credentials.
    ...
    ...    Step2 : Select the pre school name and add a student from management page.
    ...
    ...    Step3 : Select the student record in user details table and click on edit button.
    ...
    ...    Step4 : And click on classes and groups edit button.
    ...
    ...    Step5 : Filter the class name using search funtionality,unique class name should be displayed.
    ...
    ...    Step 6 : Verify the close button in list editor table,close button should be displayed.
    ...
    ...    Step7 : Click on close button, list editor page should be closed.
    [Tags]    DISTRICT_ADMIN_73    SEARCH_EDIT_CLASSES_GROUPS    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False' and "${preGroupsScriptStatus}" != "True"    Fail    PreRequisite District Admin/PreRequisite Groups is not created
    ${dAdmin_ID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${dAdmin_Password}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${ClassName}=    Set Variable    @{preClassesList}[0]
    Comment    ${groupName}    Set Variable    @{preGroupList}[0]
    ${uniqueVal}    GetUniqueValue    SDTTest
    ${studentDetails}    Create Dictionary    User Name    ${uniqueVal}    Password    Password${uniqueVal}    First Name
    ...    ${uniqueVal}FN    Last Name    LN${uniqueVal}    Middle Name    MN    Grade Level
    ...    K
    ${studentLN}    Get From Dictionary    ${studentDetails}    Last Name
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    Login to wizard app with district admin credentials
    ${loginStatus}    LoginToWizardApp    ${dAdmin_ID}    ${dAdmin_Password}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    Add a student from manageemnt page. and select the student record from user details table.
    ${studentStatus}    AddStudent    ${studentDetails}
    Run Keyword If    '${studentStatus}'=='False'    Fail    Student is not added
    Select The Record In Table    ${table.users}    Last Name    ${studentLN}
    Comment    Wait And Click Element    ${button.userDetails.edit}
    ${classAndGroupsEditBtnStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${button.classesAndGroups.edit}    ${TimeOut}    Classes and groups edit button is not visible in calss details window.
    Wait And Click Element    ${button.classesAndGroups.edit}
    ${classesAndGroupsListEditorStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${check.editStudentsorTitles.selectAllCheckbox}    ${TimeOut}    Classes and groups list editor page is not visisble.
    Comment    Filter the calss and group name using search functionality in classes& Groups listeditor table.
    Comment    ${classesAndGroups}    Create List    ${ClassName}    ${groupName}
    ${classesAndGroups}    Create List    ${ClassName}
    : FOR    ${itr}    IN    @{classesAndGroups}
    \    Enter Text In Text Field    ${Text.search.studentOrTitles}    ${itr}
    \    ${recordCount}    Get Matching Xpath Count    ${table.fromTable}//div[@class='dgrid-content ui-widget-content']//div[@role='row']
    \    ${recordsStatus}    String Should Contain    ${recordCount}    1
    \    Select The Record In Table    ${table.fromTable}    Name    ${ClassName}
    \    ${SelectedTitleStatus}    Verify Element Visible    //td[@class='dgrid-cell dgrid-cell-padding dgrid-column-name field-name dgrid-focus' and text()='${ClassName}']
    \    Run Keyword If    '${SelectedTitleStatus}'=='False'    Fail    Title is not selected in syllabus table.
    \    Clear Text    ${Text.search.studentOrTitles}
    Comment    Verifying close button functionality in listeditor page
    ${closeBtnStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${button.listEditor.close}    ${TimeOut}    Close button is not visible in list editor page.
    Wait And Click Element    ${button.listEditor.close}
    Wait Until Element is Invisible    ${button.listEditor.close}
    ${closeStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${button.userDetails.save}    ${TimeOut}    close button is not clicked in list editors table.
    [Teardown]    Stop Application

ATC 493-District Admin-Verify close button and search functionality in Edit titles in class window
    [Documentation]    ATC 493-District Admin-Verify close button and search functionality in Edit titles window
    ...
    ...    Step1 : Login to wizard app with District admin credentials
    ...
    ...    Step2 : Select the class in class details table from management page.
    ...
    ...    Step3 : Click on class details edit button and click on titles edit button,Titles list editor table should be displayed.
    ...
    ...    Step4 : Verify the record using search functionality,unique record should be displayed.
    ...
    ...    Step5 : Verify the close button,close button should be displayed.
    ...
    ...    Step6 : Click on close button, list editor page should be closed.
    [Tags]    DISTRICT_ADMIN_74    MANAGEMENT_SEARCH_EDIT_TITLES    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${dAdmin_ID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${dAdmin_Password}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${ClassName}=    Set Variable    @{preClassesList}[0]
    ${titleName}    Set Variable If    ${isDemoQURL}    @{preSignUpTitleMenus}[0]    CCS Motivation Reading Level 02
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    comment    Login to Wizard application with District Admin credentials.
    ${loginStatus}    LoginToWizardApp    ${dAdmin_ID}    ${dAdmin_Password}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Comment    Navigate to Management page and Selecting the frame School Admin.
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    ${rowNo}    Select The Record In Table    ${table.classesAndGroups}    Name    ${ClassName}
    Run Keyword If    '${rowNo}'=='0'    Fail    Failed to select the created class.
    Comment    Edit student in class details window
    Edit The Class Or Group Details
    ${titlesEditBtnStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${button.titles.edit}    ${TimeOut}    Titles edit button is not visible in calss details window.
    Wait And Click Element    ${button.titles.edit}
    Comment    Select the title using search funtionality from titles list.
    ${titleListEditorStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${check.editStudentsorTitles.selectAllCheckbox}    ${TimeOut}    titles list editor page is not visisble.
    Enter Text In Text Field    ${Text.search.studentOrTitles}    ${titleName}
    ${recordCount}    Get Matching Xpath Count    ${table.fromTable}//div[@class='dgrid-content ui-widget-content']//div[@role='row']
    String Should Contain    ${recordCount}    1
    ${titleSelectionStatus}    CommonLibrary.Select The Row    ${table.fromTable}    1
    ${SelectedTitleStatus}    Verify Element Visible    //td[@class='dgrid-cell dgrid-cell-padding dgrid-column-name field-name dgrid-focus' and text()='${titleName}']
    Run Keyword If    '${SelectedTitleStatus}'=='False'    Fail    Title is not selected in syllabus table.
    Comment    Verifying close button functionality in listeditor page
    ${closeBtnStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${button.listEditor.close}    ${TimeOut}    Close button is not visible in list editor page.
    Wait And Click Element    ${button.listEditor.close}
    Wait Until Element is Invisible    ${button.listEditor.close}
    ${closeStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${button.classDetails.save}    ${TimeOut}    close button is not clicked in list editors table.
    [Teardown]    Stop Application

ATC 491-District Admin-Verify close button and search functionality is working in 'Edit students in class' window.
    [Documentation]    ATC 491-District Admin-Verify close button and search functionality is working in 'Edit students in class' window.
    ...
    ...    Step1 : Login to wizard app with District admin credentials
    ...
    ...    Step2 : Add class to a student from management page.
    ...
    ...    Step3 : Click on class details edit button and click on student edit button,Student list editor table should be displayed.
    ...
    ...    Step4 : Verify the record using search functionality,unique record should be displayed.
    ...
    ...    Step5 : Verify the close button,close button should be displayed.
    ...
    ...    Step6 : Click on close button, list editor page should be closed.
    [Tags]    DISTRICT_ADMIN_75    MANAGEMENT_EDIT_CLASS_SEARCH_STUDENTS    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${dAdmin_ID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${dAdmin_Password}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${ClassName}=    Set Variable    @{preClassesList}[0]
    ${uniqueVal}    GetUniqueValue    SDTTest
    ${studentDetails}    Create Dictionary    User Name    ${uniqueVal}    Password    Password${uniqueVal}    First Name
    ...    ${uniqueVal}FN    Last Name    LN${uniqueVal}    Middle Name    MN    Grade Level
    ...    K
    ${studentUId}    Get From Dictionary    ${studentDetails}    User Name
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    comment    Login to Wizard application with district Admin credentials.
    ${loginStatus}    LoginToWizardApp    ${dAdmin_ID}    ${dAdmin_Password}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Comment    Navigate to Management page and Selecting the frame School Admin.
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    ${classesList}    Create List    ${ClassName}
    Comment    Add class to a student the management page
    ${addstudentToAClassStatus}    AddClassToStudent    ${studentDetails}    ${classesList}
    Wait Until Element is Invisible    ${button.newUser.oK}
    Select The Record In Table    ${table.classesAndGroups}    Name    ${ClassName}
    Comment    Edit student in class details window
    Edit The Class Or Group Details
    ${studentEditBtnStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${button.students.edit}    ${TimeOut}    Student edit button is not visible in calss details window.
    Wait And Click Element    ${button.students.edit}
    Comment    To search the student record in list editor table.
    ${studentListEditorStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${check.editStudentsorTitles.selectAllCheckbox}    ${TimeOut}    Student list editor page is not visisble.
    Enter Text In Text Field    ${Text.search.studentOrTitles}    ${studentUId}
    Wait For Element Visible    //table[@class='dgrid-row-table']//td[text()='${studentUId}']
    ${recordCount}    Get Matching Xpath Count    ${table.fromTable}//div[@class='dgrid-content ui-widget-content']//div[@role='row']
    ${recordsStatus}    Run Keyword And Return Status    Should Be Equal    ${recordCount}    1
    Run Keyword Unless    ${recordsStatus}    Fail    Students records count were mismatched using search functionality.
    Comment    Verifying close button functionality in listeditor page
    ${closeBtnStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${button.listEditor.close}    ${TimeOut}    Close button is not visible in list editor page.
    Wait And Click Element    ${button.listEditor.close}
    Wait Until Element is Invisible    ${button.listEditor.close}
    ${closeStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${button.classDetails.save}    ${TimeOut}    close button is not clicked in list editors table.
    [Teardown]    Stop Application

ATC 502 DA-Verify close button and search functionality for archive classes&Groups
    [Documentation]    ATC 502 DA-Verify close button and search functionality for archive classes&Groups
    ...
    ...    Step1 : Login to wizard application with district admin credentials
    ...
    ...    Step2 : Click on Archive classes&groups button in management button.
    ...
    ...    Step3 : To filter the class or group name using search functionality in archive classes&Groups list editor,unique record should be displayed.
    ...
    ...    Step4 : To verify the close button and click on close button,archive classes&Groups list editor page should be closed.
    [Tags]    DISTRICT_ADMIN_77    MANAGEMENT_SEARCH_IN_ARCHIVED_CLASEES_GROUPS    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'and "${preGroupsScriptStatus}" != "True"    Fail    PreRequisite District Admin/ PreRequisite Groups is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${ClassName}=    Set Variable    @{preClassesList}[0]
    Comment    ${groupName}    Set Variable    @{preGroupList}[0]
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    comment    Login to Wizard application with DistrictAdmin credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    wait untill Archive classes and groups button is visible
    ${bStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${button.management.groupArchiveBtn}    ${TimeOut}    Class and Groups archive button is not visible in management page.
    Run Keyword If    ${bStatus}    Wait And Click Element    ${button.management.groupArchiveBtn}
    ${listEditorTable}    Run Keyword And Return Status    Wait Until Element Is Visible    ${table.fromTable}    ${TimeOut}    Classes and Groups list editor table is not visble.
    Comment    To search the class name and group name in archive classes and groups table.
    Comment    ${classesAndGroupsList}    Create List    ${ClassName}    ${groupName}
    ${classesAndGroupsList}    Create List    ${ClassName}
    : FOR    ${Itr}    IN    @{classesAndGroupsList}
    \    Enter Text In Text Field    ${Text.search.studentOrTitles}    ${Itr}
    \    ${recordCount}    Get Matching Xpath Count    ${table.fromTable}//div[@class='dgrid-content ui-widget-content']//div[@role='row']
    \    ${recordsStatus}    String Should Contain    ${recordCount}    1
    \    Select The Record In Table    ${table.fromTable}    Name    ${Itr}
    \    ${SelectedclassOrGroupStatus}    Verify Element Visible    //td[@class='dgrid-cell dgrid-cell-padding dgrid-column-user_id field-user_id dgrid-focus' and text()='${Itr}']
    \    Comment    Run Keyword If    '${SelectedclassOrGroupStatus}'=='False'    Fail    Classes or groups records count were mismatched using search functionality.
    \    Clear Text    ${Text.search.studentOrTitles}
    Comment    Verifying close button functionality in listeditor page
    ${closeBtnStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${button.listEditor.close}    ${TimeOut}    Close button is not visible in list editor page.
    Wait And Click Element    ${button.listEditor.close}
    Wait Until Element is Invisible    ${button.listEditor.close}
    ${printOrExportwindowStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${button.management.groupArchiveBtn}    ${TimeOut}    Archive classes and groups button is not visible when close the list editor table.
    [Teardown]    Stop Application

ATC 511 DA-Validate class Archive And De-Archive functionality with duplicate class name
    [Documentation]    ATC 511-DA-Validate class Archive And De-Archive functionality with duplicate class name.
    ...
    ...    Step1 : Login to wizard application with district admin credentials.
    ...
    ...    Step2 : Add a class from management page.
    ...
    ...    Step3 : Archive the class from archive class and groups list editors table.
    ...
    ...    Step4 : Click on the archive class & groups button and get text of archived class (class name should be Archived as with time Stamp).
    ...
    ...    Step5 : Add a class with existing class name from management page.
    ...
    ...    Step6 : To de-archive the class name from archive classes and groups listeditors table.
    ...
    ...    Step7 : Verifyclassname and dearchive class name it should be saved as with time stamp.
    [Tags]    DISTRICT_ADMIN_78    MANAGEMENT_VERIFY_CLASS_DUPLICATION_ON_ARCHIVE_DEARCHIVE    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${dAdmin_ID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${dAdmin_Password}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${uniqueValue}    GetUniqueValue    Class
    ${className}    Set Variable    ${uniqueValue}
    ${classesList}    Create List    ${className}
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    Login to wizard application with District admin credentials.
    ${Login_Status}=    LoginToWizardApp    ${dAdmin_ID}    ${dAdmin_Password}
    Run Keyword If    ${Login_Status}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    Add a class from management page
    ${classNameStatus}    Add A Class Or Group    ${className}    \    Created by QA
    Run Keyword If    '${classNameStatus}'=='False'    Fail    Fail to add a class
    Comment    To archive the class and verifying the class name in class details table.
    ${archiveClassStatus}    Archive Classes And Groups    ${classesList}
    ${afterArchiveClassStatus}    Verify Values In Table    ${table.classesAndGroups}    Name    ${className}
    Run Keyword If    '${afterArchiveClassStatus}'=='True'    Fail    Fail to archive class.Class name still visible in class details table.
    Comment    To verify the archived class name is saved as with time stamp or not and get archivedclass name
    Wait And Click Element    ${button.management.groupArchiveBtn}
    ${listEditorTable}    Run Keyword And Return Status    Wait Until Element Is Visible    ${table.fromTable}    ${TimeOut}    Classes and Groups list editor table is not visble.
    Enter Text In Text Field    ${Text.search.studentOrTitles}    ${className}
    ${classnameInListEditor}    Run Keyword And Return Status    Wait Until Element Is Visible    ${table.fromTable}/div[contains(@class,'dgrid-scroller')]/div[contains(@class,'dgrid-content')]/div[contains(@id,'row')]//table/tr/td[@class='dgrid-cell dgrid-cell-padding dgrid-column-name field-name']    ${TimeOut}    Class name is not visible using search functionality
    ${archivedClassName}    Get Text    ${table.fromTable}/div[contains(@class,'dgrid-scroller')]/div[contains(@class,'dgrid-content')]/div[contains(@id,'row')]//table/tr/td[@class='dgrid-cell dgrid-cell-padding dgrid-column-name field-name']
    Wait And Click Element    ${button.listEditor.close}
    Comment    Add a with existing class name
    ${classNameStatus}    Add A Class Or Group    ${className}    \    Created by QA
    Run Keyword If    '${classNameStatus}'=='False'    Fail    Fail to add a class
    Comment    De-archive the class and verifing the class name is saved as with timestamp or not
    ${De-ArchiveClassStatus}    De-Archive Classes Or Groups    ${classesList}
    ${afterDe-ArchiveClassStatus}    Verify Values In Table    ${table.classesAndGroups}    Name    ${archivedClassName}
    ${DuplicateClassStatus}    Verify Values In Table    ${table.classesAndGroups}    Name    ${className}
    Run Keyword If    '${afterDe-ArchiveClassStatus}'=='False' and \ '${DuplicateClassStatus}'=='False'    Fail    Fail to De-archive class.Class name is not visible in class details table.
    [Teardown]    Stop Application

ATC 517 DA- Validate student Archive And De-Archive with duplicate student Name
    [Documentation]    ATC 517-DA- Validate student \ Archive And De-Archive with duplicate student Name
    ...
    ...    Step1 : Login to wizard application with district admin credentials.
    ...
    ...    Step2 : Add student from management page.
    ...
    ...    Step4 : To archive the record and verify the record in user details table,the record should be hide.
    ...
    ...    Step5 : Verify the record userId modified as with time stamp in list editors page or not,The record userId should be modified with time stamp.
    ...
    ...    Step6: Add role from management page with already existing details,role should be added.
    ...
    ...    Step7 : Previously archived record to be dearchive,and verify in users table.
    ...
    ...    Step8 : Dearchived record should be saved as with time stamp, and Second time added record should be normal record.
    [Tags]    DISTRICT_ADMIN_80    MANAGEMENT_VERIFY_STUDENTS_DUPLICATION_ON_ARCHIVE_DEARCHIVE    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    comment    Login to Wizard application with DistrictAdmin credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    ${uniqueVal}    GetUniqueValue    qa4mme+D_ADMIN_80
    comment    To add student role from management page.
    ${lastName}    Set Variable    LN${uniqueVal}
    ${userID}    Add Role From Management    FN${uniqueVal}    ${lastName}    ${uniqueVal}    Password${uniqueVal}    Student
    ...    \    5
    ${usersList}    Create List    ${lastName}
    Wait Until Element is Invisible    ${button.newUser.oK}
    ${status}    Verify Values In Table    ${table.users}    Last Name    ${lastName}
    Run Keyword And Continue On Failure    Run Keyword If    ${status}==False    Fail    The new user with ${each_Role} role not added.
    Comment    To archive the selected records from Archive teachers and Admins table.
    ${archiveRecordStatus}    Archive The Users    ${usersList}    Student
    Run Keyword Unless    ${archiveRecordStatus}    Fail    Uable to archive the selected record
    Comment    verifying the archived record username is modified with time stamp or not.
    Wait And Click Element    ${button.management.studentArchive}
    ${listEditorTable}    Run Keyword And Return Status    Wait Until Element Is Visible    ${table.fromTable}    ${TimeOut}    TEacher and admins list editor table is not visble.
    Enter Text In Text Field    ${Text.search.studentOrTitles}    ${lastName}
    ${teacher&AdminsListEditor}    Run Keyword And Return Status    Wait Until Element Is Visible    ${table.fromTable}/div[contains(@class,'dgrid-scroller')]/div[contains(@class,'dgrid-content')]/div[contains(@id,'row')]//table/tr/td[@class='dgrid-cell dgrid-cell-padding dgrid-column-user_id field-user_id']    ${TimeOut}    teacher and admins records were not visible using search functionality
    ${archived RecordName}    Get Text    ${table.fromTable}/div[contains(@class,'dgrid-scroller')]/div[contains(@class,'dgrid-content')]/div[contains(@id,'row')]//table/tr/td[@class='dgrid-cell dgrid-cell-padding dgrid-column-user_id field-user_id']
    Wait And Click Element    ${button.listEditor.close}
    comment    To add student role from management page.
    ${userID}    Add Role From Management    FN${uniqueVal}    ${lastName}    ${uniqueVal}    Password${uniqueVal}    Student
    ...    \    5
    Wait Until Element is Invisible    ${button.newUser.oK}
    ${status}    Verify Values In Table    ${table.users}    Last Name    ${lastName}
    Run Keyword And Continue On Failure    Run Keyword If    ${status}==False    Fail    The new user with ${each_Role} role not added.
    Wait And Click Element    ${button.management.toggleSplitterOpen}
    Comment    To Dearchive the selected records from Archive teachers and Admins table.
    ${archiveBtnStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${button.management.studentArchive}    ${TimeOut}    Archive button is not visible in management window.
    Run Keyword If    ${archiveBtnStatus}    Wait And Click Element    ${button.management.studentArchive}
    ${listEditorTable}    Run Keyword And Return Status    Wait Until Element Is Visible    ${table.fromTable}    ${TimeOut}    All Teachers and Admins list editor table is not visble.
    ${checkBoxSelectionStatus}    Run Keyword And Return Status    Select Checkbox    ${check.editStudentsorTitles.selectAllCheckbox}
    ${checkBoxUnSelectionStatus}    Run Keyword And Return Status    Unselect Checkbox    ${check.editStudentsorTitles.selectAllCheckbox}
    Run Keyword If    '${checkBoxSelectionStatus}'=='False' and '${checkBoxUnSelectionStatus}'=='False'    Fail    Fail to select and unselect check box selection.
    Wait And Click Element    ${button.editStudentsAndTitles.save}
    ${ProceedAlertStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${label.deleteClassOrGroup.promptMsg}    ${TimeOut}    Alert is not diplayed when Archive the record.
    Run Keyword If    ${ProceedAlertStatus}    Wait And Click Element    ${button.management.Proceed}
    Wait Until Element Is Visible    ${label.login.AlertMsg}    ${TimeOut}    completed alert message is not displayed when proceed to archive the record
    Wait And Click Element    ${button.alert.mysAlertBtn}
    Comment    Verifying the dearchived recordusername is in modified as with time stamp or not.
    ${archiveBtnStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${button.management.studentArchive}    Archive button is not visible in management window.
    Enter Text In Text Field    ${text.management.search}    ${archived RecordName}
    ${actualRecordStatus}    Verify Values In Table    ${table.users}    Last Name    ${lastName}
    Run Keyword If    '${actualRecordStatus}'!='True'    Fail    Archived record is not saved with time stamp
    Clear Text    ${text.management.search}
    [Teardown]    Stop Application

ATC 515 DA-Validate different roles Archive And De-Archive with duplicate records
    [Documentation]    ATC 515 Validate different roles Archive And De-Archive with duplicate records.
    ...
    ...    Step1 : Login to wizard application with district admin credentials.
    ...
    ...    Step2 : Add different roles (District Admin,school Admin,Teacher and teacher,School Admin) roles from management page.
    ...
    ...    Step4 : To archive the record and verify the record in user details table,the record should be hide.
    ...
    ...    Step5 : Verify the record userId modified as with time stamp in list editors page or not,The record userId should be modified with time stamp.
    ...
    ...    Step6: Add role from management page with already existing details,role should be added.
    ...
    ...    Step7 : Previously archived record to be dearchive,and verify in users table.
    ...
    ...    Step8 : Dearchived record should be saved as with time stamp, and Second time added record should be normal record.
    [Tags]    DISTRICT_ADMIN_81    MANAGEMENT_VERIFY_ALL_ROLES_DUPLICATION_ON_ARCHIVE_DEARCHIVE    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${teacherRole}    Set Variable    Instructor
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    comment    Login to Wizard application with DistrictAdmin credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    ${roles}    Create List    ${teacherRole}    ${schoolAdmin}
    ${role_List}    Create List    SchoolAdmin    Teacher    ${roles}
    : FOR    ${each_Role}    IN    @{role_List}
    \    ${uniqueVal}    GetUniqueValue    qa4mme+D_ADMIN_81
    \    comment    To add different roles from management table.
    \    ${lastName}    Set Variable    LN${uniqueVal}
    \    ${userID}    Add Role From Management    FN${uniqueVal}    ${lastName}    ${uniqueVal}    Password${uniqueVal}
    \    ...    ${each_Role}    \    5
    \    ${usersList}    Create List    ${lastName}
    \    Comment    MYS-3329 : Updated with wait for element visible keywword.
    \    Wait For Element Visible    ${button.newUser.oK}
    \    ${status}    Verify Values In Table    ${table.users}    Last Name    ${lastName}
    \    Run Keyword And Continue On Failure    Run Keyword If    ${status}==False    Fail    The new user with ${each_Role} role not added.
    \    Comment    To archive the selected records from Archive teachers and Admins table.
    \    ${archiveRecordStatus}    Archive The Users    ${usersList}    TeachersAdmins
    \    Run Keyword Unless    ${archiveRecordStatus}    Fail    Uable to archive the selected record
    \    Comment    verifying the archived record username is modified with time stamp or not.
    \    Wait And Click Element    ${button.management.teacherAndAdminsArchive}
    \    ${listEditorTable}    Run Keyword And Return Status    Wait Until Element Is Visible    ${table.fromTable}    ${TimeOut}    TEacher and admins list editor table is not visble.
    \    Comment    MYS-3329:Updated with wait for element visible keyword and also relaced input text with type characters.
    \    TypeCharactertoTextBox    ${Text.search.studentOrTitles}    ${lastName}
    \    ${teacher&AdminsListEditor}    Wait For Element Visible    ${table.fromTable}/div[contains(@class,'dgrid-scroller')]/div[contains(@class,'dgrid-content')]/div[contains(@id,'row')]//table/tr/td[@class='dgrid-cell dgrid-cell-padding dgrid-column-user_id field-user_id']    ${TimeOut}    teacher and admins records were not visible using search functionality
    \    ${archived RecordName}    Get Text    ${table.fromTable}/div[contains(@class,'dgrid-scroller')]/div[contains(@class,'dgrid-content')]/div[contains(@id,'row')]//table/tr/td[@class='dgrid-cell dgrid-cell-padding dgrid-column-user_id field-user_id']
    \    Wait And Click Element    ${button.listEditor.close}
    \    comment    To add different roles from management table.
    \    ${userID}    Add Role From Management    FN${uniqueVal}    ${lastName}    ${uniqueVal}    Password${uniqueVal}
    \    ...    ${each_Role}    \    5
    \    Wait Until Element is Invisible    ${button.newUser.oK}
    \    ${status}    Verify Values In Table    ${table.users}    Last Name    ${lastName}
    \    Run Keyword And Continue On Failure    Run Keyword If    ${status}==False    Fail    The new user with ${each_Role} role not added.
    \    Wait And Click Element    ${button.management.toggleSplitterOpen}
    \    Comment    To Dearchive the selected records from Archive teachers and Admins table.
    \    ${archiveBtnStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${button.management.teacherAndAdminsArchive}    ${TimeOut}    Archive button is not visible in management window.
    \    Run Keyword If    ${archiveBtnStatus}    Wait And Click Element    ${button.management.teacherAndAdminsArchive}
    \    Comment    MYS-3329:Updated with wwait for element visible keyword.
    \    Wait For Element Visible    ${table.fromTable}    ${TimeOut}    All Teachers and Admins list editor table is not visble.
    \    ${checkBoxSelectionStatus}    Run Keyword And Return Status    Select Checkbox    ${check.editStudentsorTitles.selectAllCheckbox}
    \    ${checkBoxUnSelectionStatus}    Run Keyword And Return Status    Unselect Checkbox    ${check.editStudentsorTitles.selectAllCheckbox}
    \    Run Keyword If    '${checkBoxSelectionStatus}'=='False' and '${checkBoxUnSelectionStatus}'=='False'    Fail    Fail to select and unselect check box selection.
    \    Wait And Click Element    ${button.editStudentsAndTitles.save}
    \    ${ProceedAlertStatus}    Wait For Element Visible    ${label.deleteClassOrGroup.promptMsg}    ${TimeOut}    Alert is not diplayed when Archive the record.
    \    Run Keyword If    ${ProceedAlertStatus}    Wait And Click Element    ${button.management.Proceed}
    \    Wait For Element Visible    ${label.login.AlertMsg}    ${TimeOut}    completed alert message is not displayed when proceed to archive the record
    \    Wait And Click Element    ${button.alert.mysAlertBtn}
    \    Comment    Verifying the dearchived recordusername is in modified as with time stamp or not.
    \    ${archiveBtnStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${button.management.teacherAndAdminsArchive}    Archive button is not visible in management window.
    \    Comment    MYS-3329 : Replaced with type characters into text box instead of inputting whole string at once to sync with data loading.
    \    TypeCharactertoTextBox    ${text.management.search}    ${archived RecordName}
    \    ${actualRecordStatus}    Verify Values In Table    ${table.users}    Last Name    ${lastName}
    \    Run Keyword If    '${actualRecordStatus}'!='True'    Fail    Archived record is not saved with time stamp
    \    Clear Text    ${text.management.search}
    [Teardown]    Stop Application

ATC 519-DA-Validate removed student is available in class details table
    [Documentation]    ATC-519 Validate removed student is available in class details table
    ...
    ...    Step1 : Login to wizard application with district admin credentials.
    ...
    ...    Step2 : Add Class to a student from management page.
    ...
    ...    Step3 : Select the class from class details table and verify the student is visible or not in details table.Student full name should be visible.
    ...
    ...    Step4 : Click on edit student details and uncheck the student from student list editor table click on save button.Verify the student is visible or not in details table.Student full name should not be visible.
    ...
    ...    Step5 : Select the student from all users table,click on edit button and click on classes and groups edit button from user details table.
    ...
    ...    Step6 : Classes and groups list editor table should be displayed.Select the class name and click on save button.
    ...
    ...    Step7 : Verify the class name is visible or not in classes and groups window,should be visible.
    ...
    ...    Step8 : Verify the student full name is visible or not in class details table or not,Student full name should be visible.
    [Tags]    DISTRICT_ADMIN_82    MANAGEMENT_VERIFY_STUDENT_IN_CLASS    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${uniqueVal}    GetUniqueValue    SDTTest
    ${ClassName}=    Set Variable    class${uniqueVal}
    ${classesList}    Create List    ${ClassName}
    ${studentDetails}    Create Dictionary    User Name    ${uniqueVal}    Password    Password${uniqueVal}    First Name
    ...    ${uniqueVal}FN    Last Name    LN${uniqueVal}    Middle Name    MN    Grade Level
    ...    K
    ${studentFN}    Get From Dictionary    ${studentDetails}    First Name
    ${studentLN}    Get From Dictionary    ${studentDetails}    Last Name
    ${studentFullName}    Set Variable    ${studentFN}${SPACE}${studentLN}
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    comment    Login to Wizard application with DistrictAdmin credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    MYS-3394:Updated to wait and inteeract with the first row which get displayed in classes table, to deal with loading.
    Wait And Click Element    //div[@id='groupGrid']//div[@role='row'][1]//table//tr//td[1]
    ${classNameStatus}    Add A Class Or Group    ${ClassName}
    Run Keyword If    '${classNameStatus}'=='False'    Fail    Failed to add a class
    comment    To add class to a student from management page.
    ${addClassToStudentStatus}    AddClassToStudent    ${studentDetails}    ${classesList}
    Wait Until Element is Invisible    ${button.newUser.oK}
    Comment    Select the record in classes table and verify the student is visible in details table or not.
    ${classNameStatus}    Select The Record In Table    ${table.classesAndGroups}    Name    ${ClassName}
    Run Keyword If    '${classNameStatus}'=='False'    Fail    Class name is not visible in class details table.
    ${studentStatusInStudentEditDetais}    Verify Element Visible    //div[text()='${studentFullName}']
    Run Keyword If    '${studentStatusInStudentEditDetais}'=='False'    Fail    Student is not added to the class
    Edit The Class Or Group Details
    Wait And Click Element    ${button.students.edit}
    Comment    Edit the students in classesdetails table and uncheck the student.
    ${listEditorTable}    Run Keyword And Return Status    Wait Until Element Is Visible    ${table.fromTable}    ${TimeOut}    Students list editor table is not visble.
    ${checkBoxSelectionStatus}    Run Keyword And Return Status    Select Checkbox    ${check.editStudentsorTitles.selectAllCheckbox}
    ${checkBoxUnSelectionStatus}    Run Keyword And Return Status    Unselect Checkbox    ${check.editStudentsorTitles.selectAllCheckbox}
    Run Keyword If    '${checkBoxSelectionStatus}'=='False' and '${checkBoxUnSelectionStatus}'=='False'    Fail    Fail to select and unselect check box selection.
    Wait And Click Element    ${button.editStudentsAndTitles.save}
    Wait And Click Element    ${button.classDetails.save}
    Wait Until Element is Invisible    ${button.classDetails.save}
    Comment    Student is visible or not when uncheck the student and click on save button.
    ${studentStatusInStudentEditDetais}    Verify Element Visible    //div[text()='${studentFullName}']
    Run Keyword If    '${studentStatusInStudentEditDetais}'=='False'    Fail    Student name is still visible after unchecked the student from class.
    Comment    Select the student record from user details table.
    ${studentRecordSelectionStatus}    Select The Record In Table    ${table.users}    Last Name    ${studentLN}
    Comment    Wait And Click Element    ${button.userDetails.edit}
    Comment    Verify the to select the class from classesAndGroups window,Class name is visible in classAndGroups window or not.
    Wait And Click Element    ${button.classesAndGroups.edit}
    ${listEditorTable}    Run Keyword And Return Status    Wait Until Element Is Visible    ${table.fromTable}    ${TimeOut}    Students list editor table is not visble.
    Enter Text In Text Field    ${Text.search.studentOrTitles}    ${ClassName}
    ${checkBoxUnSelectionStatus}    CommonLibrary.Select The Row    ${table.fromTable}    1
    Run Keyword If    '${checkBoxUnSelectionStatus}'=='False'    Fail    Fail to check the record in list editor table.
    Wait And Click Element    ${button.editStudentsAndTitles.save}
    Wait Until Element is Invisible    ${button.editStudentsAndTitles.save}
    Comment    Verifying the student name is visible in classes details window or not when select the class from classesAndGroups window.
    ${studentStatusInStudentEditDetais}    Verify Element Visible    //div[text()='${studentFullName}']
    Run Keyword If    '${studentStatusInStudentEditDetais}'=='False'    Fail    Student name is not visible in classes details window when select the class from classesAndGroups window.
    [Teardown]    Stop Application

ATC 527-DA-Verify the student join a class functionality when delete the class
    [Documentation]    ATC 527-DA-Verify the student join a class functionality when delete the class
    ...
    ...    Step1 : Login to wizard application with district admin credentials
    ...
    ...    Step2 : Add a class and student from management page.
    ...
    ...    Step3 : Get a class code and delete the class from management page.
    ...
    ...    Step4 : Sigin out from the district admin and open browser to login page.
    ...
    ...    Step5 : Click on new user link and select the student role.
    ...
    ...    Step6 : Enter the class code,verify alert message is displayed or not.Alert message should be displayed.
    ...
    ...    Step7 : Relogin as a student and click on student stitting dropdown image.
    ...
    ...    Step8 : Select join a class and enter the class code click on join button.
    ...
    ...    Step9 : Verify "No class joined" alert message is displayed or not.
    [Tags]    DISTRICT_ADMIN_84    MANAGEMENT_DELETE_CLASS_VERIFY_STUDENT_JOIN    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    ${uniqueVal}    GetUniqueValue    SDTTest
    ${className}    Set Variable    class${uniqueVal}
    ${classList}    Create List    ${className}
    ${studentDetails}    Create Dictionary    User Name    ${uniqueVal}    Password    Password${uniqueVal}    First Name
    ...    ${uniqueVal}FN    Last Name    LN${uniqueVal}    Middle Name    MN    Grade Level
    ...    K
    ${studentUid}    Get From Dictionary    ${studentDetails}    User Name
    ${studentPWD}    Get From Dictionary    ${studentDetails}    Password
    Comment    Login to Wizard application with DistrictAdmin credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    ${classNameStatus}    Add A Class Or Group    ${className}
    Run Keyword If    '${classNameStatus}'=='False'    Fail    Failed to add a class
    ${classSelectionStatus}    Select The Record In Table    ${table.classesAndGroups}    Name    ${className}
    Comment    ${classCode}    Get Text    ${common.classDetails.classCode}
    Comment    To add class to a student from management page.
    ${addClassToStudentStatus}    AddClassToStudent    ${studentDetails}    ${classList}
    Wait Until Element is Invisible    ${button.newUser.oK}
    Comment    delete class from management page.
    ${deleteClassFromTheTableStatus}    Run Keyword And Return Status    Delete The Record From table    ${table.classesAndGroups}    Name    ${className}
    ${classStatusAfterDelete}    Verify Values In Table    ${table.classesAndGroups}    Name    ${className}
    Run Keyword If    ${classStatusAfterDelete}    Fail    Failed to delete a class
    Close Browser
    Comment    Open browser to login page and enter the class code for the student
    OpenBrowserToLoginPage    ${WizardURL}
    Wait And Click Element    ${button.login.newUser}
    Select Role in Create Account    Student
    ${classCodeWindowStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${text.signUp.classCode}    ${TimeOut}    Class code window is not visible
    Comment    Alert is displayed or not Enter the deleted code.
    Enter Text In Text Field    ${text.signUp.classCode}    ${classCode}
    Wait And Click Element    ${button.signUp.next}
    ${alertStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${label.login.AlertMsg}    ${Delay}    Alert message is not displayed when enter invalid classcode.
    Wait And Click Element    ${button.Alert.OK}
    :FOR    ${iCount}    IN RANGE    1    6
    \    Mouse Over    ${button.signUp.close}
    \    Wait And Click Element    ${button.signUp.close}
    \    sleep    5s
    \    ${closeBtnStatus}    Verify Element Visible    ${button.signUp.close}
    \    Exit For Loop If    ${closeBtnStatus}==False
    Comment    Enters the login details & click on 'SignIn' button.
    ${loginAsStudent}=    Run Keyword And Return Status    Enter Login Details    ${studentUid}    ${studentPWD}
    Run Keyword If    '${loginAsStudent}'!='True'    Fail    student login is failed
    Wait And Click Element    ${image.studentHomePage.sittingDeskArrow}
    Wait And Click Element    ${label.studentHomePage.joinAClass}
    ${classCodeToJoinAclassStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${text.studentHomePage.joinClassCode}    ${TimeOut}    Class code window is not visible when click on join a class.
    Comment    When enter the Invalid class code in join a class alert is displayed or not
    Enter Text In Text Field    ${text.studentHomePage.joinClassCode}    ${classCode}
    Wait And Click Element    ${button.studentHomePage.joinClassDlgNext}
    Comment    Wait Until Element is Invisible    ${button.studentHomePage.joinClassDlgNext}
    ${alertStatus}    Wait Until Element Is Visible    ${button.importTemplate.DialogMessage}    ${Delay}    Aler message is not displayed when enter invalid class code.
    [Teardown]    Stop Application

ATC 534-DA-Verify the archived class is visible or not in standard mastery reportfilters page at all class Level
    [Documentation]    ATC 534-DA-Verify the archived class is visible or not in reportfilters page
    ...
    ...    Step1 :Login to wizard application with teacher details.
    ...
    ...    Step2 : Add a class,student and titles from management page.
    ...
    ...    Step3 : Assign assignment to the class.
    ...
    ...    Step4 : Signout and relogin as a district admin and Archive the class from management page.
    ...
    ...    Step5 : Verify the class name in standard mastery report ,Class name should not be visible.
    [Tags]    DISTRICT_ADMIN_85    REPORTS_FILTERS_ITEM_ANALYSIS_REPORT_VERIFY_ARCHIVED_CLASS    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${DistrictAdminUid}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${DistrictAdminPwd}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${fromdate}    Get Future Or Past Date From Now    -1
    ${todate}    Get Future Or Past Date From Now
    ${uniqueVal}    GetUniqueValue    SDTTest
    ${className}    Set Variable    class${uniqueVal}
    ${classList}    Create List    ${className}
    ${studentDetails}    Create Dictionary    User Name    ${uniqueVal}    Password    Password${uniqueVal}    First Name
    ...    ${uniqueVal}FN    Last Name    LN${uniqueVal}    Middle Name    MN    Grade Level
    ...    K
    ${signUpTitleMenu}    Set Variable    @{preSignUpTitleMenus}[0]
    ${activityName}    Set Variable    @{preActivityNames}[0]
    ${titlesList}    Create List    ${signUpTitleMenu}
    ${userStatusList}    Create List    true
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    Login to Wizard application with teacher credentials.
    ${loginStatus}    LoginToWizardApp    ${preTeacherID}    ${preTeacherPassword}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    ${classNameStatus}    Add A Class Or Group    ${className}
    Edit The Class Or Group Details
    Edit Students Or Titles    ${titlesList}    ${userStatusList}    Title Name
    Wait And Click Element    ${button.classDetails.save}
    Comment    To add class to a student from management page.
    ${addClassToStudentStatus}    AddClassToStudent    ${studentDetails}    ${classList}
    Wait Until Element is Invisible    ${button.newUser.oK}
    Navigate BackTo Home Page    Management
    Comment    Add assignment to a student
    Add Assignment To A Student    ${className}    ${signUpTitleMenu}    ${EMPTY}    ${activityName}
    Close Browser
    Comment    Login to wizard application with district admin credentials and archive the class from management page.
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    ${loginStatus}    LoginToWizardApp    ${DistrictAdminUid}    ${DistrictAdminPwd}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    ${archiveClassStatus}    Archive Classes And Groups    ${classList}
    ${ArchivedClassStatus}    Verify Values In Table    ${table.classesAndGroups}    Name    ${className}
    Run Keyword If    ${ArchivedClassStatus}    Fail    Class name is still visible in classes table after archive the class
    Navigate BackTo Home Page    Management
    Comment    Get report for all classes in standard mastery report.
    Get Report for A Class or Group    ${preReportType1}    Classes    All Classes    ${signUpTitleMenu}    ${selectingSchool}    ${activityName}
    ...    ${fromdate}    ${todate}
    Wait And Select Frame    ${header.report.reportFrame}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Wait Until Element is Invisible    ${common.Loading.PleaseWait...}
    Wait Until Element is Invisible    ${common.reports.EmptyProgressBar}
    Wait Until Element is Invisible    ${common.reports.ProgressBar}
    Comment    To verify the class name in standard mastery report.
    ${archivedClassInReportsPage}    Verify Element Visible    ${table.report.expandCellContent}//div[text()='${className}']
    Run Keyword If    ${archivedClassInReportsPage}    Fail    Archived class is still visible in standard amstery reports filters page.
    [Teardown]    Stop Application

ATC 536-DA-Verify the archived class is visible or not in item analysis reportfilters page at all class Level
    [Documentation]    ATC 536-DA-Verify the archived class is visible or not in item analysis reportfilters page at all class Level
    ...
    ...    Step1 :Login to wizard application with teacher details.
    ...
    ...    Step2 : Add a class,student and titles from management page.
    ...
    ...    Step3 : Assign assignment to the class.
    ...
    ...    Step4 : Signout and relogin as a district admin and Archive the class from management page.
    ...
    ...    Step5 : Verify the class name in item analysis report ,Class name should not be visible.
    [Tags]    DISTRICT_ADMIN_86    REPORTS_FILTERS_ITEM_ANALYSIS_REPORT_VERIFY_ARCHIVED_CLASS    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${DistrictAdminUid}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${DistrictAdminPwd}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${fromdate}    Get Future Or Past Date From Now    -1
    ${todate}    Get Future Or Past Date From Now
    ${uniqueVal}    GetUniqueValue    SDTTest
    ${className}    Set Variable    class${uniqueVal}
    ${classList}    Create List    ${className}
    ${studentDetails}    Create Dictionary    User Name    ${uniqueVal}    Password    Password${uniqueVal}    First Name
    ...    ${uniqueVal}FN    Last Name    LN${uniqueVal}    Middle Name    MN    Grade Level
    ...    K
    ${signUpTitleMenu}    Set Variable    @{preSignUpTitleMenus}[0]
    ${activityName}    Set Variable    @{preActivityNames}[0]
    ${titlesList}    Create List    ${signUpTitleMenu}
    ${userStatusList}    Create List    true
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    Login to Wizard application with teacher credentials.
    ${loginStatus}    LoginToWizardApp    ${preTeacherID}    ${preTeacherPassword}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    ${classNameStatus}    Add A Class Or Group    ${className}
    Edit The Class Or Group Details
    Edit Students Or Titles    ${titlesList}    ${userStatusList}    Title Name
    Wait And Click Element    ${button.classDetails.save}
    Comment    To add class to a student from management page.
    ${addClassToStudentStatus}    AddClassToStudent    ${studentDetails}    ${classList}
    Wait Until Element is Invisible    ${button.newUser.oK}
    Navigate BackTo Home Page    Management
    Comment    Add assignment to a student
    Add Assignment To A Student    ${className}    ${signUpTitleMenu}    ${EMPTY}    ${activityName}
    Close Browser
    Comment    Login to wizard application with district admin credentials and archive the class from management page.
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    ${loginStatus}    LoginToWizardApp    ${DistrictAdminUid}    ${DistrictAdminPwd}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    ${archiveClassStatus}    Archive Classes And Groups    ${classList}
    ${ArchivedClassStatus}    Verify Values In Table    ${table.classesAndGroups}    Name    ${className}
    Run Keyword If    ${ArchivedClassStatus}    Fail    Class name is still visible in classes table after archive the class
    Navigate BackTo Home Page    Management
    Comment    Get report for all classes in item analysis report.
    Get Report for A Class or Group    ${preReportType1}    Classes    All Classes    ${signUpTitleMenu}    ${selectingSchool}    ${activityName}
    ...    ${fromdate}    ${todate}
    Wait And Select Frame    ${header.report.reportFrame}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Wait Until Element is Invisible    ${common.Loading.PleaseWait...}
    Wait Until Element is Invisible    ${common.reports.EmptyProgressBar}
    Wait Until Element is Invisible    ${common.reports.ProgressBar}
    Comment    To verify the class name in item analysis report.
    ${archivedClassInReportsPage}    Verify Element Visible    ${table.report.expandCellContent}//div[text()='${className}']
    Run Keyword If    ${archivedClassInReportsPage}    Fail    Archived class is still visible in standard amstery reports filters page.
    [Teardown]    Stop Application

ATC 539-DA-Verify the alert message when archive teacher have class/group
    [Documentation]    ATC 539-DA-Verify the alert message when archive teacher have class/group
    ...
    ...    Step1 : Login to wizard application with district admin credentials.
    ...
    ...    Step2 : Add a class and group from management page.
    ...
    ...    Step3 : Add teacher to the class and Group.
    ...
    ...    Step4 : Click on archive teacher button.Select the teacher from archive teacher& admins list editors table.
    ...
    ...    Step5 : Click on save button, click on proceed button then verify the alert message is displayed or not
    ...
    ...    Step6 : Alert message should be displayed.
    [Tags]    DISTRICT_ADMIN_87    MANAGEMENT_VERIFY_ARCHIVE_ALERT_TEACHER_WITH_CLASS    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${dAdmin_ID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${dAdmin_Password}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${uniqueVal}    GetUniqueValue    SDT TEST
    ${classAndGroup}    Create List    class${uniqueVal}
    ${teacherFullName}    Set Variable    ${preTeacherLastName},${SPACE}${preTeacherFirstName}
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    Login to wizard app with district admin credentials
    ${loginStatus}    LoginToWizardApp    ${dAdmin_ID}    ${dAdmin_Password}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    ${classOrGroupType}    Create List    Class
    : FOR    ${type}    IN    @{classOrGroupType}
    \    Comment    Run Keyword If    '${type}'=='Group'    Wait And Click Element    ${button.management.showGroups}
    \    Comment    Run Keyword If    '${type}'=='Group'    Wait Until Element Is Visible    ${button.management.showClasses}
    \    Comment    Add a class from mangement page.
    \    ${classAndGroup}    Set Variable    class${uniqueVal}
    \    ${classOrGroupStatus}    Add A Class Or Group    ${classAndGroup}    ${teacherFullName}    Created by QA off shore    ${type}
    \    Run Keyword If    '${classOrGroupStatus}'!='True'    Fail    Fail to add class from management page.
    \    Comment    Click on archive button and select the teacher record.
    \    Wait And Click Element    ${button.management.teacherAndAdminsArchive}
    \    ${listEditorTable}    Run Keyword And Return Status    Wait Until Element Is Visible    ${table.fromTable}    ${TimeOut}    All Teachers and Admins list editor table is not visble.
    \    Enter Text In Text Field    ${Text.search.studentOrTitles}    ${preTeacherFirstName}
    \    ${recordSelectionStatus}    CommonLibrary.Select The Row    ${table.fromTable}    1
    \    Wait And Click Element    ${button.editStudentsAndTitles.save}
    \    ${ProceedAlertStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${label.deleteClassOrGroup.promptMsg}    ${TimeOut}    Prompt is not diplayed when Archive the record.
    \    Run Keyword If    ${ProceedAlertStatus}    Wait And Click Element    ${button.management.Proceed}
    \    Comment    To verify alert is present or not when archive teacher have class/group
    \    ${AlertStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${label.login.Alert}    ${TimeOut}    Alert is not diplayed when archive teacher.Teacher have class/group.
    \    ${alertMsg}    Get Text    ${label.login.AlertMsg}
    \    ${AlertStatus}    String Should Contain    ${alertMsg}    One or more of the selected teachers have classes/groups and cannot be archived.
    \    Run Keyword If    '${AlertStatus}'!='True'    Fail    Alert message is mismatched with actual.
    \    Wait And Click Element    ${button.alert.mysAlertBtn}
    \    Wait Until Element is Invisible    ${button.alert.mysAlertBtn}
    Comment    Removed the unnecessary code
    [Teardown]    Stop Application

ATC 540-DA-Unable to assign archived teacher to the classes/groups
    [Documentation]    ATC 540-DA-Unable to assign archived teacher to the classes/groups
    ...
    ...    Step1 : Login to wizard application with district admin credentials.
    ...
    ...    Step2 : Add teacher role from management page.
    ...
    ...    Step3 : Archive the teacher record from archive teachers and admins table.
    ...
    ...    Step4 : Select the class from the class details table and edit the class details.
    ...
    ...    Step5 : Click on teacher drop down and verify the archived teacher is visible in drop down list or not.
    ...
    ...    Step6 : Archived teacher should not be visible.
    [Tags]    DISTRICT_ADMIN_88    MANAGEMENT_VERIFY_ARCHIVED_TEACHER_CANT_BE_ASSIGNED    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False' and "${preGroupsScriptStatus}" != "True"    Fail    PreRequisite District Admin /PreRequisite Groups is not created
    ${DistrictAdminUid}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${DistrictAdminPwd}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${ClassName}=    Set Variable    @{preClassesList}[0]
    Comment    ${groupName}    Set Variable    @{preGroupList}[0]
    ${uniqueVal}    GetUniqueValue    qa4mme+teacher
    ${teacherFullName}    Set Variable    LN${uniqueVal},${SPACE}FN${uniqueVal}
    ${lastname}    Set Variable    LN${uniqueVal}
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Comment    Login to wizard app with district admin credentials
    ${loginStatus}    LoginToWizardApp    ${DistrictAdminUid}    ${DistrictAdminPwd}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Select The School Name    ${selectingSchool}
    Wait Until Element is Invisible    ${common.homepage.Loading}
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    Add teacher role from manangement page
    ${userID}    Add Role From Management    FN${uniqueVal}    ${lastname}    ${uniqueVal}    Password${uniqueVal}    Teacher
    ...    \    5
    Wait Until Element is Invisible    ${button.newUser.oK}
    ${usersList}    Create List    ${lastname}
    Comment    To Archive the teacher from teacher&admins table.
    ${archiveTeacherstatus}    Archive The Users    ${usersList}    TeachersAdmins
    Navigate BackTo Home Page    Management
    Reload Page
    ${lodingStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    10s
    Run Keyword If    ${lodingStatus}    Wait Until Element is Invisible    ${common.homepage.Loading}
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    ${classAndGroupList}    Create List    ${ClassName}    ${groupName}
    ${classAndGroupList}    Create List    ${ClassName}
    Comment    ${classOrGroupType}    Create List    Class    Group
    ${classOrGroupType}    Create List    Class
    : FOR    ${type}    IN    @{classOrGroupType}
    \    Run Keyword If    '${type}'=='Group'    Wait And Click Element    ${button.management.showGroups}
    \    Run Keyword If    '${type}'=='Group'    Wait Until Element Is Visible    ${button.management.showClasses}    ${TimeOut}    Show groups button clicking action not recieved by element.
    \    Comment    Add a class from mangement page.
    \    Comment    ${classAndGroup}    Set Variable If    '${type}'=='Group'    ${groupName}    ${ClassName}
    \    ${classAndGroup}    Set Variable    ${ClassName}
    \    ${classNameStatus}    Select The Record In Table    ${table.classesAndGroups}    Name    ${classAndGroup}
    \    Edit The Class Or Group Details
    \    ${teacherSelectionStatus}    Run Keyword And Return Status    Wait Until Element Is Visible    ${dropDown.classDetails.Teacher}//td[contains(@class,'ArrowButton')]//input[contains(@class,'InputField') and contains(@class,'ArrowButtonInner')]    ${TimeOut}    Teacher Drop down is not visible in edit class details window.
    \    Wait And Click Element    ${dropDown.classDetails.Teacher}//td[contains(@class,'ArrowButton')]//input[contains(@class,'InputField') and contains(@class,'ArrowButtonInner')]
    \    Comment    Verifying the archived teacher is visible in class/group details table.
    \    ${teacherSelectionStatus}    Run Keyword And Return Status    Click On Element    ${dropDown.classDetails.Teacher}/tbody/tr/td[text()='${teacherFullName}']
    \    Run Keyword If    '${teacherSelectionStatus}'=='True'    Fail    Archived teacher is still visible in desired instructor drop down at class details / group details table
    [Teardown]    Stop Application

ATC-557-DA-Verify class rename is effect in reports
    [Documentation]    ATC-557-DA-Verify class rename is effect in reports filters
    ...
    ...    Step1 : Login to wizard application with teacher credentials.
    ...
    ...    Step2 : Add class,Student and titles from management page.
    ...
    ...    Step3 : Assign assignment to class from new assignments page.
    ...
    ...    Step4 : Navigate back to home page and modify the class name from management page.
    ...
    ...    Step5 : SignOut and relogin as district admin and navigate to reports filters page.
    ...
    ...    Step6 : To verify the modified class name is visible in standard amstery and item analysis reports or not.
    ...
    ...    Step7 : Modified class name should be visible.
    [Tags]    DISTRICT_ADMIN_89    MANAGEMENT_VERIFY_CLASS_RENAME_IN_REPORTS    HIGH
    Pass Execution If    ${isDemoQURL}    For this scenario no book type assignment assigning functionality avaliable on "mysatori DB".
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${DistrictAdminUid}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${DistrictAdminPwd}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${fromdate}    Get Future Or Past Date From Now    -1
    ${todate}    Get Future Or Past Date From Now
    ${uniqueVal}    GetUniqueValue    SDTTest
    ${modifiedClassName}    Set Variable    class${uniqueVal}modified
    ${className}    Set Variable    class${uniqueVal}
    ${classList}    Create List    ${className}
    ${studentDetails}    Create Dictionary    User Name    ${uniqueVal}    Password    Password${uniqueVal}    First Name
    ...    ${uniqueVal}FN    Last Name    LN${uniqueVal}    Middle Name    MN    Grade Level
    ...    K
    ${signUpTitleMenu}    Set Variable    @{preSignUpTitleMenus}[0]
    ${activityName}    Set Variable    @{preActivityNames}[0]
    ${titlesList}    Create List    ${signUpTitleMenu}
    ${userStatusList}    Create List    true
    Comment    Login to Wizard application with teacher credentials.
    ${loginStatus}    LoginToWizardApp    ${preTeacherID}    ${preTeacherPassword}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    ${classNameStatus}    Add A Class Or Group    ${className}
    Edit The Class Or Group Details
    Edit Students Or Titles    ${titlesList}    ${userStatusList}    Title Name
    Wait And Click Element    ${button.classDetails.save}
    Comment    To add class to a student from management page.
    ${addClassToStudentStatus}    AddClassToStudent    ${studentDetails}    ${classList}
    Wait Until Element is Invisible    ${button.newUser.oK}
    Navigate BackTo Home Page    Management
    Comment    Add assignment to a student
    Add Assignment To A Student    ${className}    ${signUpTitleMenu}    ${EMPTY}    ${activityName}    \    1
    ...    \    True
    Navigate BackTo Home Page    New Assignments
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    Select the class name in class details table.
    ${classSelectionStatus}    Select The Record In Table    ${table.classesAndGroups}    Name    ${className}
    Edit The Class Or Group Details
    Clear Text    ${text.classDetails.name}
    Enter Text In Text Field    ${text.classDetails.name}    ${modifiedClassName}
    Wait And Click Element    ${button.classDetails.save}
    Wait Until Element is Invisible    ${button.classDetails.save}
    Close Browser
    Comment    Login to wizard app with district admin credentials
    ${loginStatus}    LoginToWizardApp    ${DistrictAdminUid}    ${DistrictAdminPwd}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Select The School Name    ${selectingSchool}
    Comment    Get report for a modified class in standard mastery \ and item analysis reports.
    ${reportTypes}    Create List    ${preReportType1}    ${preReportType2}
    : FOR    ${itr}    IN    @{reportTypes}
    \    ${activityName}    Set Variable If    '${itr}'=='${preReportType2}'    ${activityName}    ${EMPTY}
    \    Get Report for A Class or Group    ${itr}    Classes    ${modifiedClassName}    ${signUpTitleMenu}    ${selectingSchool}
    \    ...    ${activityName}    ${fromdate}    ${todate}
    \    Wait And Select Frame    ${header.report.reportFrame}
    \    Comment    To verify the modified class name is visible or not in standard mastery and item analysis reports page.
    \    Comment    MYS-2693 : Replaced with wait for element visible keyword.
    \    ${status}    Wait For Element Visible    ${label.reports.className}    ${TimeOut}    The modified class name is not visible in reports page.
    \    ${reClassName}    Wait Until Keyword Succeeds    5m    3s    Get Text    ${label.reports.className}
    \    ${modifiesClassNameStatus}    String Should Contain    ${reClassName}    ${modifiedClassName}
    \    Run Keyword If    '${modifiesClassNameStatus}'!='True'    Fail    Modified class name is not visible in standard mastery/item analysis reports page.
    \    Navigate BackTo Home Page    Reports
    [Teardown]    Stop Application

ATC-561-DA-Verify the roles being switched to school admin
    [Documentation]    ATC-561-DA-Verify the roles being switched to school admin
    ...
    ...    Step1 : Login to wizard application with district admin credentials.
    ...
    ...    Step2 : Add a district admin role from management page.
    ...
    ...    Step3 : Select the district admin record from user details window and click on edit button.
    ...
    ...    Step4 : To unselect the check box of district admin role and select the check box of school admin role,click on save button.
    ...
    ...    Step5 : To verify the role is changed to school admin role in user details table or not.School admin role should be displayd.
    ...
    ...    Step6 : Signout and relogin as changed role credentials and verify the role changed or not as school admin role. \
    [Tags]    DISTRICT_ADMIN_90    MANAGEMENT_VERIFY_ROLES_SWITCH_TO_SCHOOL_ADMIN    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${uniqueVal}    GetUniqueValue    qa4mme+DA
    comment    Login to Wizard application with DistrictAdmin credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Select The School Name    ${selectingSchool}
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    Add district admin role from management page
    ${adminUserID}    Add Role From Management    FN${uniqueVal}    LN${uniqueVal}    ${uniqueVal}    ${districtAdminPWD}    District Admin
    Wait Until Element is Invisible    ${button.newUser.oK}
    Enter Text In Text Field    ${text.management.search}    ${adminUserID}
    ${adminRecordSatus}    CommonLibrary.Select The Row    ${table.users}    1
    Wait And Click Element    ${button.userDetails.edit}
    Comment    To unselect the district admin role and select the school admin role
    CommonLibrary.Mouse Move    ${check.editUser.districtAdminRole}
    Wait And Click Element    ${check.editUser.districtAdminRole}
    CommonLibrary.Mouse Move    ${check.editUser.schoolAdminRole}
    Wait And Click Element    ${check.editUser.schoolAdminRole}
    Wait And Click Element    ${button.userDetails.save}
    Comment    To verify the school admin role is displayed or not in user details table
    ${schoolAdminReocrdStatus}    Verify Values In Table    ${table.users}    Role    School Admin
    Run Keyword If    '${schoolAdminReocrdStatus}'!='True'    Fail    District admin is not changed role as school admin
    Close Browser
    Comment    Login to wizard app with changed role credentials.
    ${loginStatus}    LoginToWizardApp    ${adminUserID}    ${districtAdminPWD}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    ${IAgreeButton}    Set Variable If    ${isDemoQURL}    //div[@id='genericTermsDlg']${common.SignUp.IAgreeBttn}    //div[@id='termsDlg']${common.SignUp.IAgreeBttn}
    Comment    MYS-2410 : Updated script to handle Terms and Conditions dialogue as per changes in app.
    Wait And Click Element    //button[@id='termsAndConditionsDlg-submit' and text()='Terms and Conditions']
    Wait And Click Element    ${IAgreeButton}
    Wait Until Element is Invisible    ${IAgreeButton}
    Comment    To verify the role is changed as school admin or not in home page.
    ${changedRole}    Get Text    ${label.Home.HeaderlabelUser}/span[@class='lightweight']
    ${changedRoleStatus}    String Should Contain    ${changedRole}    School Admin:
    Run Keyword If    '${changedRoleStatus}'!='True'    Fail    Roles are mis matched because district admin is not able to change the role.
    [Teardown]    Stop Application

ATC-562-DA-Verify the roles being switched to Teacher
    [Documentation]    ATC-562-DA-Verify the roles being switched to Teacher
    ...
    ...    Step1 : Login to wizard application with district admin credentials.
    ...
    ...    Step2 : Add a district admin role from management page.
    ...
    ...    Step3 : Select the district admin record from user details window and click on edit button.
    ...
    ...    Step4 : To unselect the check box of district admin role and select the check box of teacher role,click on save button.
    ...
    ...    Step5 : To verify the role is changed to teacher role in user details table or not.Teacher role should be displayd.
    ...
    ...    Step6 : Signout and relogin as changed role credentials and verify the role changed or not as teacher role. \
    [Tags]    DISTRICT_ADMIN_91    MANAGEMENT_VERIFY_ROLES_SWITCH_TO_TEACHER    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${uniqueVal}    GetUniqueValue    qa4mme+DA
    comment    Login to Wizard application with DistrictAdmin credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    ${selectingSchool}    Set Variable If    ${isDemoQURL}    ${demoQPreSchoolName}    ${preSchoolName}
    Select The School Name    ${selectingSchool}
    Navigate To Management Page
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    Add district admin role from management page
    ${adminUserID}    Add Role From Management    FN${uniqueVal}    LN${uniqueVal}    ${uniqueVal}    ${districtAdminPWD}    District Admin
    Wait Until Element is Invisible    ${button.newUser.oK}
    Enter Text In Text Field    ${text.management.search}    ${adminUserID}
    ${adminRecordSatus}    CommonLibrary.Select The Row    ${table.users}    1
    Wait And Click Element    ${button.userDetails.edit}
    Comment    To unselect the district admin role and select the teacher role
    CommonLibrary.Mouse Move    ${check.editUser.districtAdminRole}
    Wait And Click Element    ${check.editUser.districtAdminRole}
    CommonLibrary.Mouse Move    ${check.userDetails.Roles.Teacher}
    Wait And Click Element    ${check.userDetails.Roles.Teacher}
    Wait And Click Element    ${button.userDetails.save}
    Comment    To verify the teacher role is displayed or not in user details table
    ${teacherReocrdStatus}    Verify Values In Table    ${table.users}    Role    Teacher
    Run Keyword If    '${teacherReocrdStatus}'!='True'    Fail    District admin is not changed role as teacher
    Close Browser
    Comment    Login to wizard app with changed role credentials.
    ${loginStatus}    LoginToWizardApp    ${adminUserID}    ${districtAdminPWD}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    ${IAgreeButton}    Set Variable If    ${isDemoQURL}    //div[@id='genericTermsDlg']${common.SignUp.IAgreeBttn}    //div[@id='termsDlg']${common.SignUp.IAgreeBttn}
    Comment    MYS-2410 : Updated script to handle Terms and Conditions dialogue as per changes in app.
    Wait And Click Element    //button[@id='termsAndConditionsDlg-submit' and text()='Terms and Conditions']
    Wait And Click Element    ${IAgreeButton}
    Wait Until Element is Invisible    ${IAgreeButton}
    Comment    To verify the role is changed as teacher or not in home page.
    ${changedRole}    Get Text    ${label.Home.HeaderlabelUser}/span[@class='lightweight']
    ${changedRoleStatus}    String Should Contain    ${changedRole}    Teacher:
    Run Keyword If    '${changedRoleStatus}'!='True'    Fail    Roles are mis matched because district admin is not able to change the role.
    [Teardown]    Stop Application

District Admin-Verify guided help functionality for Make a class.
    [Documentation]    District Admin-Verify guided help functionality for Make a class.
    ...
    ...    Step1 : Login to wizard application with Admin credentials
    ...
    ...    Step2 : Click on help drown down list.
    ...
    ...    Step3 : Click on guided help link.
    ...
    ...    Step4 : validate the make class guided functinality by click on Go to step 1.
    [Tags]    DISTRICT_ADMIN_92    MAKE_ A_ClASS_GUIDED_HELP    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${val}    Get Unique Id
    ${class_Name}    Set Variable    QaClass${val}
    Comment    login with Valid Teacher Credentials.
    ${SignUpTitleMenus}    Create List    CCS Reading Assessments Level 3
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    ${description}    Set Variable    created by QA
    Make a class in Guided help    ${class_Name}    ${SignUpTitleMenus}    \    ${description}
    ${classStatus}    Verify Values In Table    ${table.classesAndGroups}    Name    ${class_Name}
    Run Keyword Unless    ${classStatus}    Fail    ${class_Name} was not added
    Capture Page Screenshot And Log    ${OUTPUTDIR}    ${class_Name}_01.png
    [Teardown]    Stop Application

District Admin-Verify guided help functionality forAdding Users to Classes/Groups.
    [Documentation]    District Admin-Verify guided help functionality for Make a class.
    ...
    ...    Step1 : Login to wizard application with Admin credentials
    ...
    ...    Step2 : Click on help drown down list.
    ...
    ...    Step3 : Click on guided help link.
    ...
    ...    Step4 : validate the Adding users to classes/groups in guided help functinality by click on Go to step 1.
    [Tags]    DISTRICT_ADMIN_93    Adding_users_in_GUIDED_HELP    HIGH
    Run Keyword If    '${preDistrictAdminStatus}'=='False'    Fail    PreRequisite District Admin is not created
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${val}    Get Unique Id
    ${class_Name}    Set Variable    QaClass${val}
    Comment    login with Valid Teacher Credentials.
    ${SignUpTitleMenus}    Create List    CCS Reading Assessments Level 3
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Navigate To Management Page
    Comment    Select the School Admin frame.
    Wait And Select Frame    ${header.management.schoolAdminFrame}
    Comment    Verify whether is able to add titles and students to the class or not
    Add A Class Or Group    ${class_Name}    \    Created by QA off shore
    Navigate BackTo Home Page    Management
    Adding Users to Classes/Groups in Guided help    ${class_Name}
    [Teardown]    Stop Application

District Admin-Verify guided help functionality for Manual Entry of Students
    [Documentation]    District Admin-Verify guided help functionality for Make a class.
    ...
    ...    Step1 : Login to wizard application with Admin credentials
    ...
    ...    Step2 : Click on help drown down list.
    ...
    ...    Step3 : Click on guided help link.
    ...
    ...    Step4 : validate the Manual Entry of students in guided help functinality by click on Go to step 1.
    [Tags]    DISTRICT_ADMIN_94    Manual_Entry_of_students_in_GUIDED_HELP    HIGH
    Run Keyword If    ${preScriptStatus}==False    Fail    No student data is avaialble.
    ${districtAdminUserID}    Get From Dictionary    ${preDistrictAdminDetails}    UserName
    ${districtAdminPWD}    Get From Dictionary    ${preDistrictAdminDetails}    Password
    ${uniqueValue}    GetUniqueValue    STD
    ${stdFN}    Set Variable    ${uniqueValue}FN
    ${stdLN}    Set Variable    ${uniqueValue}LN
    ${stdUserId}    Set Variable    student${uniqueValue}
    ${password}    Set Variable    ${uniqueValue}PWD
    Comment    login with Valid Teacher Credentials.
    ${loginStatus}    LoginToWizardApp    ${districtAdminUserID}    ${districtAdminPWD}
    Run Keyword If    ${loginStatus}==False    Fail    The user is not able to login with valid credentials.
    Manual Entry of Students    ${stdFN}    ${stdLN}    ${stdUserId}    ${password}    Student    ${EMPTY}
    ...    6
    [Teardown]    Stop Application
